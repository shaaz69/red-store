function VN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Kx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var C={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pc=Symbol.for("react.element"),HN=Symbol.for("react.portal"),WN=Symbol.for("react.fragment"),qN=Symbol.for("react.strict_mode"),KN=Symbol.for("react.profiler"),GN=Symbol.for("react.provider"),YN=Symbol.for("react.context"),QN=Symbol.for("react.forward_ref"),XN=Symbol.for("react.suspense"),JN=Symbol.for("react.memo"),ZN=Symbol.for("react.lazy"),g1=Symbol.iterator;function eP(t){return t===null||typeof t!="object"?null:(t=g1&&t[g1]||t["@@iterator"],typeof t=="function"?t:null)}var Gx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yx=Object.assign,Qx={};function oa(t,e,n){this.props=t,this.context=e,this.refs=Qx,this.updater=n||Gx}oa.prototype.isReactComponent={};oa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xx(){}Xx.prototype=oa.prototype;function vy(t,e,n){this.props=t,this.context=e,this.refs=Qx,this.updater=n||Gx}var wy=vy.prototype=new Xx;wy.constructor=vy;Yx(wy,oa.prototype);wy.isPureReactComponent=!0;var y1=Array.isArray,Jx=Object.prototype.hasOwnProperty,by={current:null},Zx={key:!0,ref:!0,__self:!0,__source:!0};function eS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Jx.call(e,r)&&!Zx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pc,type:t,key:s,ref:o,props:i,_owner:by.current}}function tP(t,e){return{$$typeof:pc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _y(t){return typeof t=="object"&&t!==null&&t.$$typeof===pc}function nP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var v1=/\/+/g;function ip(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nP(""+t.key):e.toString(36)}function Uu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pc:case HN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ip(o,0):r,y1(i)?(n="",t!=null&&(n=t.replace(v1,"$&/")+"/"),Uu(i,e,n,"",function(c){return c})):i!=null&&(_y(i)&&(i=tP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(v1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",y1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ip(s,a);o+=Uu(s,e,n,l,i)}else if(l=eP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ip(s,a++),o+=Uu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ru(t,e,n){if(t==null)return t;var r=[],i=0;return Uu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function rP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},ju={transition:null},iP={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:ju,ReactCurrentOwner:by};pe.Children={map:ru,forEach:function(t,e,n){ru(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ru(t,function(){e++}),e},toArray:function(t){return ru(t,function(e){return e})||[]},only:function(t){if(!_y(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=oa;pe.Fragment=WN;pe.Profiler=KN;pe.PureComponent=vy;pe.StrictMode=qN;pe.Suspense=XN;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iP;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Yx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=by.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Jx.call(e,l)&&!Zx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:pc,type:t.type,key:i,ref:s,props:r,_owner:o}};pe.createContext=function(t){return t={$$typeof:YN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GN,_context:t},t.Consumer=t};pe.createElement=eS;pe.createFactory=function(t){var e=eS.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:QN,render:t}};pe.isValidElement=_y;pe.lazy=function(t){return{$$typeof:ZN,_payload:{_status:-1,_result:t},_init:rP}};pe.memo=function(t,e){return{$$typeof:JN,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=ju.transition;ju.transition={};try{t()}finally{ju.transition=e}};pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pe.useCallback=function(t,e){return sn.current.useCallback(t,e)};pe.useContext=function(t){return sn.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};pe.useEffect=function(t,e){return sn.current.useEffect(t,e)};pe.useId=function(){return sn.current.useId()};pe.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return sn.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};pe.useRef=function(t){return sn.current.useRef(t)};pe.useState=function(t){return sn.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return sn.current.useTransition()};pe.version="18.2.0";(function(t){t.exports=pe})(C);const it=Kx(C.exports),bm=VN({__proto__:null,default:it},[C.exports]);var _m={},mc={exports:{}},In={},tS={exports:{}},nS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,H){var q=R.length;R.push(H);e:for(;0<q;){var ie=q-1>>>1,ae=R[ie];if(0<i(ae,H))R[ie]=H,R[q]=ae,q=ie;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var H=R[0],q=R.pop();if(q!==H){R[0]=q;e:for(var ie=0,ae=R.length,Ke=ae>>>1;ie<Ke;){var ue=2*(ie+1)-1,Te=R[ue],Le=ue+1,wn=R[Le];if(0>i(Te,q))Le<ae&&0>i(wn,Te)?(R[ie]=wn,R[Le]=q,ie=Le):(R[ie]=Te,R[ue]=q,ie=ue);else if(Le<ae&&0>i(wn,q))R[ie]=wn,R[Le]=q,ie=Le;else break e}}return H}function i(R,H){var q=R.sortIndex-H.sortIndex;return q!==0?q:R.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=R)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function _(R){if(y=!1,w(R),!m)if(n(l)!==null)m=!0,te(x);else{var H=n(c);H!==null&&ne(_,H.startTime-R)}}function x(R,H){m=!1,y&&(y=!1,g(T),T=-1),f=!0;var q=d;try{for(w(H),h=n(l);h!==null&&(!(h.expirationTime>H)||R&&!U());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,d=h.priorityLevel;var ae=ie(h.expirationTime<=H);H=t.unstable_now(),typeof ae=="function"?h.callback=ae:h===n(l)&&r(l),w(H)}else r(l);h=n(l)}if(h!==null)var Ke=!0;else{var ue=n(c);ue!==null&&ne(_,ue.startTime-H),Ke=!1}return Ke}finally{h=null,d=q,f=!1}}var k=!1,E=null,T=-1,N=5,P=-1;function U(){return!(t.unstable_now()-P<N)}function B(){if(E!==null){var R=t.unstable_now();P=R;var H=!0;try{H=E(!0,R)}finally{H?W():(k=!1,E=null)}}else k=!1}var W;if(typeof v=="function")W=function(){v(B)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,j=re.port2;re.port1.onmessage=B,W=function(){j.postMessage(null)}}else W=function(){b(B,0)};function te(R){E=R,k||(k=!0,W())}function ne(R,H){T=b(function(){R(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,te(x))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var q=d;d=H;try{return R()}finally{d=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var q=d;d=R;try{return H()}finally{d=q}},t.unstable_scheduleCallback=function(R,H,q){var ie=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ie+q:ie):q=ie,R){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=q+ae,R={id:u++,callback:H,priorityLevel:R,startTime:q,expirationTime:ae,sortIndex:-1},q>ie?(R.sortIndex=q,e(c,R),n(l)===null&&R===n(c)&&(y?(g(T),T=-1):y=!0,ne(_,q-ie))):(R.sortIndex=ae,e(l,R),m||f||(m=!0,te(x))),R},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(R){var H=d;return function(){var q=d;d=H;try{return R.apply(this,arguments)}finally{d=q}}}})(nS);(function(t){t.exports=nS})(tS);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS=C.exports,kn=tS.exports;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iS=new Set,kl={};function Xs(t,e){jo(t,e),jo(t+"Capture",e)}function jo(t,e){for(kl[t]=e,t=0;t<e.length;t++)iS.add(e[t])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xm=Object.prototype.hasOwnProperty,sP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w1={},b1={};function oP(t){return xm.call(b1,t)?!0:xm.call(w1,t)?!1:sP.test(t)?b1[t]=!0:(w1[t]=!0,!1)}function aP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lP(t,e,n,r){if(e===null||typeof e>"u"||aP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var xy=/[\-:]([a-z])/g;function Sy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xy,Sy);$t[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xy,Sy);$t[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xy,Sy);$t[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ey(t,e,n,r){var i=$t.hasOwnProperty(e)?$t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lP(e,n,i,r)&&(n=null),r||i===null?oP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ri=rS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iu=Symbol.for("react.element"),po=Symbol.for("react.portal"),mo=Symbol.for("react.fragment"),ky=Symbol.for("react.strict_mode"),Sm=Symbol.for("react.profiler"),sS=Symbol.for("react.provider"),oS=Symbol.for("react.context"),Cy=Symbol.for("react.forward_ref"),Em=Symbol.for("react.suspense"),km=Symbol.for("react.suspense_list"),Ty=Symbol.for("react.memo"),ui=Symbol.for("react.lazy"),aS=Symbol.for("react.offscreen"),_1=Symbol.iterator;function Na(t){return t===null||typeof t!="object"?null:(t=_1&&t[_1]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,sp;function qa(t){if(sp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sp=e&&e[1]||""}return`
`+sp+t}var op=!1;function ap(t,e){if(!t||op)return"";op=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{op=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qa(t):""}function cP(t){switch(t.tag){case 5:return qa(t.type);case 16:return qa("Lazy");case 13:return qa("Suspense");case 19:return qa("SuspenseList");case 0:case 2:case 15:return t=ap(t.type,!1),t;case 11:return t=ap(t.type.render,!1),t;case 1:return t=ap(t.type,!0),t;default:return""}}function Cm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mo:return"Fragment";case po:return"Portal";case Sm:return"Profiler";case ky:return"StrictMode";case Em:return"Suspense";case km:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oS:return(t.displayName||"Context")+".Consumer";case sS:return(t._context.displayName||"Context")+".Provider";case Cy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ty:return e=t.displayName||null,e!==null?e:Cm(t.type)||"Memo";case ui:e=t._payload,t=t._init;try{return Cm(t(e))}catch{}}return null}function uP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cm(e);case 8:return e===ky?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hP(t){var e=lS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function su(t){t._valueTracker||(t._valueTracker=hP(t))}function cS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tm(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function x1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uS(t,e){e=e.checked,e!=null&&Ey(t,"checked",e,!1)}function Im(t,e){uS(t,e);var n=ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nm(t,e.type,ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function S1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nm(t,e,n){(e!=="number"||hh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ka=Array.isArray;function Io(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ji(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function E1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(Ka(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ji(n)}}function hS(t,e){var n=ji(e.value),r=ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function k1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Om(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ou,fS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ou=ou||document.createElement("div"),ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dP=["Webkit","ms","Moz","O"];Object.keys(sl).forEach(function(t){dP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sl[e]=sl[t]})});function pS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sl.hasOwnProperty(t)&&sl[t]?(""+e).trim():e+"px"}function mS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=pS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var fP=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rm(t,e){if(e){if(fP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function Am(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=null;function Iy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mm=null,No=null,Po=null;function C1(t){if(t=vc(t)){if(typeof Mm!="function")throw Error(L(280));var e=t.stateNode;e&&(e=Id(e),Mm(t.stateNode,t.type,e))}}function gS(t){No?Po?Po.push(t):Po=[t]:No=t}function yS(){if(No){var t=No,e=Po;if(Po=No=null,C1(t),e)for(t=0;t<e.length;t++)C1(e[t])}}function vS(t,e){return t(e)}function wS(){}var lp=!1;function bS(t,e,n){if(lp)return t(e,n);lp=!0;try{return vS(t,e,n)}finally{lp=!1,(No!==null||Po!==null)&&(wS(),yS())}}function Tl(t,e){var n=t.stateNode;if(n===null)return null;var r=Id(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var Lm=!1;if(Kr)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){Lm=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{Lm=!1}function pP(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ol=!1,dh=null,fh=!1,$m=null,mP={onError:function(t){ol=!0,dh=t}};function gP(t,e,n,r,i,s,o,a,l){ol=!1,dh=null,pP.apply(mP,arguments)}function yP(t,e,n,r,i,s,o,a,l){if(gP.apply(this,arguments),ol){if(ol){var c=dh;ol=!1,dh=null}else throw Error(L(198));fh||(fh=!0,$m=c)}}function Js(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _S(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T1(t){if(Js(t)!==t)throw Error(L(188))}function vP(t){var e=t.alternate;if(!e){if(e=Js(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return T1(i),t;if(s===r)return T1(i),e;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function xS(t){return t=vP(t),t!==null?SS(t):null}function SS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SS(t);if(e!==null)return e;t=t.sibling}return null}var ES=kn.unstable_scheduleCallback,I1=kn.unstable_cancelCallback,wP=kn.unstable_shouldYield,bP=kn.unstable_requestPaint,rt=kn.unstable_now,_P=kn.unstable_getCurrentPriorityLevel,Ny=kn.unstable_ImmediatePriority,kS=kn.unstable_UserBlockingPriority,ph=kn.unstable_NormalPriority,xP=kn.unstable_LowPriority,CS=kn.unstable_IdlePriority,Ed=null,wr=null;function SP(t){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(Ed,t,void 0,(t.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:CP,EP=Math.log,kP=Math.LN2;function CP(t){return t>>>=0,t===0?32:31-(EP(t)/kP|0)|0}var au=64,lu=4194304;function Ga(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ga(a):(s&=o,s!==0&&(r=Ga(s)))}else o=n&~i,o!==0?r=Ga(o):s!==0&&(r=Ga(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ir(e),i=1<<n,r|=t[n],e&=~i;return r}function TP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ir(s),a=1<<o,l=i[o];l===-1?((a&n)===0||(a&r)!==0)&&(i[o]=TP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TS(){var t=au;return au<<=1,(au&4194240)===0&&(au=64),t}function cp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ir(e),t[e]=n}function NP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ir(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Py(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ir(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ee=0;function IS(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var NS,Oy,PS,OS,RS,zm=!1,cu=[],Ti=null,Ii=null,Ni=null,Il=new Map,Nl=new Map,di=[],PP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N1(t,e){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(e.pointerId)}}function Oa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vc(e),e!==null&&Oy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function OP(t,e,n,r,i){switch(e){case"focusin":return Ti=Oa(Ti,t,e,n,r,i),!0;case"dragenter":return Ii=Oa(Ii,t,e,n,r,i),!0;case"mouseover":return Ni=Oa(Ni,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Il.set(s,Oa(Il.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nl.set(s,Oa(Nl.get(s)||null,t,e,n,r,i)),!0}return!1}function AS(t){var e=ms(t.target);if(e!==null){var n=Js(e);if(n!==null){if(e=n.tag,e===13){if(e=_S(n),e!==null){t.blockedOn=e,RS(t.priority,function(){PS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dm=r,n.target.dispatchEvent(r),Dm=null}else return e=vc(n),e!==null&&Oy(e),t.blockedOn=n,!1;e.shift()}return!0}function P1(t,e,n){Vu(t)&&n.delete(e)}function RP(){zm=!1,Ti!==null&&Vu(Ti)&&(Ti=null),Ii!==null&&Vu(Ii)&&(Ii=null),Ni!==null&&Vu(Ni)&&(Ni=null),Il.forEach(P1),Nl.forEach(P1)}function Ra(t,e){t.blockedOn===e&&(t.blockedOn=null,zm||(zm=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,RP)))}function Pl(t){function e(i){return Ra(i,t)}if(0<cu.length){Ra(cu[0],t);for(var n=1;n<cu.length;n++){var r=cu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ti!==null&&Ra(Ti,t),Ii!==null&&Ra(Ii,t),Ni!==null&&Ra(Ni,t),Il.forEach(e),Nl.forEach(e),n=0;n<di.length;n++)r=di[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<di.length&&(n=di[0],n.blockedOn===null);)AS(n),n.blockedOn===null&&di.shift()}var Oo=ri.ReactCurrentBatchConfig,gh=!0;function AP(t,e,n,r){var i=Ee,s=Oo.transition;Oo.transition=null;try{Ee=1,Ry(t,e,n,r)}finally{Ee=i,Oo.transition=s}}function DP(t,e,n,r){var i=Ee,s=Oo.transition;Oo.transition=null;try{Ee=4,Ry(t,e,n,r)}finally{Ee=i,Oo.transition=s}}function Ry(t,e,n,r){if(gh){var i=Bm(t,e,n,r);if(i===null)wp(t,e,r,yh,n),N1(t,r);else if(OP(i,t,e,n,r))r.stopPropagation();else if(N1(t,r),e&4&&-1<PP.indexOf(t)){for(;i!==null;){var s=vc(i);if(s!==null&&NS(s),s=Bm(t,e,n,r),s===null&&wp(t,e,r,yh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else wp(t,e,r,null,n)}}var yh=null;function Bm(t,e,n,r){if(yh=null,t=Iy(r),t=ms(t),t!==null)if(e=Js(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_S(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yh=t,null}function DS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_P()){case Ny:return 1;case kS:return 4;case ph:case xP:return 16;case CS:return 536870912;default:return 16}default:return 16}}var bi=null,Ay=null,Hu=null;function MS(){if(Hu)return Hu;var t,e=Ay,n=e.length,r,i="value"in bi?bi.value:bi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Hu=i.slice(t,1<r?1-r:void 0)}function Wu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uu(){return!0}function O1(){return!1}function Nn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uu:O1,this.isPropagationStopped=O1,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),e}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dy=Nn(aa),yc=Je({},aa,{view:0,detail:0}),MP=Nn(yc),up,hp,Aa,kd=Je({},yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:My,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Aa&&(Aa&&t.type==="mousemove"?(up=t.screenX-Aa.screenX,hp=t.screenY-Aa.screenY):hp=up=0,Aa=t),up)},movementY:function(t){return"movementY"in t?t.movementY:hp}}),R1=Nn(kd),LP=Je({},kd,{dataTransfer:0}),$P=Nn(LP),FP=Je({},yc,{relatedTarget:0}),dp=Nn(FP),zP=Je({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),BP=Nn(zP),UP=Je({},aa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jP=Nn(UP),VP=Je({},aa,{data:0}),A1=Nn(VP),HP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qP[t])?!!e[t]:!1}function My(){return KP}var GP=Je({},yc,{key:function(t){if(t.key){var e=HP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:My,charCode:function(t){return t.type==="keypress"?Wu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YP=Nn(GP),QP=Je({},kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D1=Nn(QP),XP=Je({},yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:My}),JP=Nn(XP),ZP=Je({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),eO=Nn(ZP),tO=Je({},kd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nO=Nn(tO),rO=[9,13,27,32],Ly=Kr&&"CompositionEvent"in window,al=null;Kr&&"documentMode"in document&&(al=document.documentMode);var iO=Kr&&"TextEvent"in window&&!al,LS=Kr&&(!Ly||al&&8<al&&11>=al),M1=String.fromCharCode(32),L1=!1;function $S(t,e){switch(t){case"keyup":return rO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var go=!1;function sO(t,e){switch(t){case"compositionend":return FS(e);case"keypress":return e.which!==32?null:(L1=!0,M1);case"textInput":return t=e.data,t===M1&&L1?null:t;default:return null}}function oO(t,e){if(go)return t==="compositionend"||!Ly&&$S(t,e)?(t=MS(),Hu=Ay=bi=null,go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LS&&e.locale!=="ko"?null:e.data;default:return null}}var aO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aO[t.type]:e==="textarea"}function zS(t,e,n,r){gS(r),e=vh(e,"onChange"),0<e.length&&(n=new Dy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ll=null,Ol=null;function lO(t){QS(t,0)}function Cd(t){var e=wo(t);if(cS(e))return t}function cO(t,e){if(t==="change")return e}var BS=!1;if(Kr){var fp;if(Kr){var pp="oninput"in document;if(!pp){var F1=document.createElement("div");F1.setAttribute("oninput","return;"),pp=typeof F1.oninput=="function"}fp=pp}else fp=!1;BS=fp&&(!document.documentMode||9<document.documentMode)}function z1(){ll&&(ll.detachEvent("onpropertychange",US),Ol=ll=null)}function US(t){if(t.propertyName==="value"&&Cd(Ol)){var e=[];zS(e,Ol,t,Iy(t)),bS(lO,e)}}function uO(t,e,n){t==="focusin"?(z1(),ll=e,Ol=n,ll.attachEvent("onpropertychange",US)):t==="focusout"&&z1()}function hO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cd(Ol)}function dO(t,e){if(t==="click")return Cd(e)}function fO(t,e){if(t==="input"||t==="change")return Cd(e)}function pO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ar=typeof Object.is=="function"?Object.is:pO;function Rl(t,e){if(ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xm.call(e,i)||!ar(t[i],e[i]))return!1}return!0}function B1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function U1(t,e){var n=B1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B1(n)}}function jS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VS(){for(var t=window,e=hh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hh(t.document)}return e}function $y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mO(t){var e=VS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jS(n.ownerDocument.documentElement,n)){if(r!==null&&$y(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=U1(n,s);var o=U1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gO=Kr&&"documentMode"in document&&11>=document.documentMode,yo=null,Um=null,cl=null,jm=!1;function j1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jm||yo==null||yo!==hh(r)||(r=yo,"selectionStart"in r&&$y(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cl&&Rl(cl,r)||(cl=r,r=vh(Um,"onSelect"),0<r.length&&(e=new Dy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yo)))}function hu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vo={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},mp={},HS={};Kr&&(HS=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function Td(t){if(mp[t])return mp[t];if(!vo[t])return t;var e=vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HS)return mp[t]=e[n];return t}var WS=Td("animationend"),qS=Td("animationiteration"),KS=Td("animationstart"),GS=Td("transitionend"),YS=new Map,V1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(t,e){YS.set(t,e),Xs(e,[t])}for(var gp=0;gp<V1.length;gp++){var yp=V1[gp],yO=yp.toLowerCase(),vO=yp[0].toUpperCase()+yp.slice(1);Ji(yO,"on"+vO)}Ji(WS,"onAnimationEnd");Ji(qS,"onAnimationIteration");Ji(KS,"onAnimationStart");Ji("dblclick","onDoubleClick");Ji("focusin","onFocus");Ji("focusout","onBlur");Ji(GS,"onTransitionEnd");jo("onMouseEnter",["mouseout","mouseover"]);jo("onMouseLeave",["mouseout","mouseover"]);jo("onPointerEnter",["pointerout","pointerover"]);jo("onPointerLeave",["pointerout","pointerover"]);Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ya));function H1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yP(r,e,void 0,t),t.currentTarget=null}function QS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;H1(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;H1(i,a,c),s=l}}}if(fh)throw t=$m,fh=!1,$m=null,t}function Fe(t,e){var n=e[Km];n===void 0&&(n=e[Km]=new Set);var r=t+"__bubble";n.has(r)||(XS(e,t,2,!1),n.add(r))}function vp(t,e,n){var r=0;e&&(r|=4),XS(n,t,r,e)}var du="_reactListening"+Math.random().toString(36).slice(2);function Al(t){if(!t[du]){t[du]=!0,iS.forEach(function(n){n!=="selectionchange"&&(wO.has(n)||vp(n,!1,t),vp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[du]||(e[du]=!0,vp("selectionchange",!1,e))}}function XS(t,e,n,r){switch(DS(e)){case 1:var i=AP;break;case 4:i=DP;break;default:i=Ry}n=i.bind(null,e,n,t),i=void 0,!Lm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wp(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ms(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}bS(function(){var c=s,u=Iy(n),h=[];e:{var d=YS.get(t);if(d!==void 0){var f=Dy,m=t;switch(t){case"keypress":if(Wu(n)===0)break e;case"keydown":case"keyup":f=YP;break;case"focusin":m="focus",f=dp;break;case"focusout":m="blur",f=dp;break;case"beforeblur":case"afterblur":f=dp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=R1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=$P;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=JP;break;case WS:case qS:case KS:f=BP;break;case GS:f=eO;break;case"scroll":f=MP;break;case"wheel":f=nO;break;case"copy":case"cut":case"paste":f=jP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=D1}var y=(e&4)!==0,b=!y&&t==="scroll",g=y?d!==null?d+"Capture":null:d;y=[];for(var v=c,w;v!==null;){w=v;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,g!==null&&(_=Tl(v,g),_!=null&&y.push(Dl(v,_,w)))),b)break;v=v.return}0<y.length&&(d=new f(d,m,null,n,u),h.push({event:d,listeners:y}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Dm&&(m=n.relatedTarget||n.fromElement)&&(ms(m)||m[Gr]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?ms(m):null,m!==null&&(b=Js(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(y=R1,_="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=D1,_="onPointerLeave",g="onPointerEnter",v="pointer"),b=f==null?d:wo(f),w=m==null?d:wo(m),d=new y(_,v+"leave",f,n,u),d.target=b,d.relatedTarget=w,_=null,ms(u)===c&&(y=new y(g,v+"enter",m,n,u),y.target=w,y.relatedTarget=b,_=y),b=_,f&&m)t:{for(y=f,g=m,v=0,w=y;w;w=lo(w))v++;for(w=0,_=g;_;_=lo(_))w++;for(;0<v-w;)y=lo(y),v--;for(;0<w-v;)g=lo(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=lo(y),g=lo(g)}y=null}else y=null;f!==null&&W1(h,d,f,y,!1),m!==null&&b!==null&&W1(h,b,m,y,!0)}}e:{if(d=c?wo(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var x=cO;else if($1(d))if(BS)x=fO;else{x=hO;var k=uO}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=dO);if(x&&(x=x(t,c))){zS(h,x,n,u);break e}k&&k(t,d,c),t==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&Nm(d,"number",d.value)}switch(k=c?wo(c):window,t){case"focusin":($1(k)||k.contentEditable==="true")&&(yo=k,Um=c,cl=null);break;case"focusout":cl=Um=yo=null;break;case"mousedown":jm=!0;break;case"contextmenu":case"mouseup":case"dragend":jm=!1,j1(h,n,u);break;case"selectionchange":if(gO)break;case"keydown":case"keyup":j1(h,n,u)}var E;if(Ly)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else go?$S(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(LS&&n.locale!=="ko"&&(go||T!=="onCompositionStart"?T==="onCompositionEnd"&&go&&(E=MS()):(bi=u,Ay="value"in bi?bi.value:bi.textContent,go=!0)),k=vh(c,T),0<k.length&&(T=new A1(T,t,null,n,u),h.push({event:T,listeners:k}),E?T.data=E:(E=FS(n),E!==null&&(T.data=E)))),(E=iO?sO(t,n):oO(t,n))&&(c=vh(c,"onBeforeInput"),0<c.length&&(u=new A1("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=E))}QS(h,e)})}function Dl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tl(t,n),s!=null&&r.unshift(Dl(t,s,i)),s=Tl(t,e),s!=null&&r.push(Dl(t,s,i))),t=t.return}return r}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function W1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Tl(n,s),l!=null&&o.unshift(Dl(n,l,a))):i||(l=Tl(n,s),l!=null&&o.push(Dl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var bO=/\r\n?/g,_O=/\u0000|\uFFFD/g;function q1(t){return(typeof t=="string"?t:""+t).replace(bO,`
`).replace(_O,"")}function fu(t,e,n){if(e=q1(e),q1(t)!==e&&n)throw Error(L(425))}function wh(){}var Vm=null,Hm=null;function Wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qm=typeof setTimeout=="function"?setTimeout:void 0,xO=typeof clearTimeout=="function"?clearTimeout:void 0,K1=typeof Promise=="function"?Promise:void 0,SO=typeof queueMicrotask=="function"?queueMicrotask:typeof K1<"u"?function(t){return K1.resolve(null).then(t).catch(EO)}:qm;function EO(t){setTimeout(function(){throw t})}function bp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pl(e)}function Pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function G1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var la=Math.random().toString(36).slice(2),mr="__reactFiber$"+la,Ml="__reactProps$"+la,Gr="__reactContainer$"+la,Km="__reactEvents$"+la,kO="__reactListeners$"+la,CO="__reactHandles$"+la;function ms(t){var e=t[mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gr]||n[mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=G1(t);t!==null;){if(n=t[mr])return n;t=G1(t)}return e}t=n,n=t.parentNode}return null}function vc(t){return t=t[mr]||t[Gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function Id(t){return t[Ml]||null}var Gm=[],bo=-1;function Zi(t){return{current:t}}function Be(t){0>bo||(t.current=Gm[bo],Gm[bo]=null,bo--)}function Re(t,e){bo++,Gm[bo]=t.current,t.current=e}var Vi={},Qt=Zi(Vi),fn=Zi(!1),Ds=Vi;function Vo(t,e){var n=t.type.contextTypes;if(!n)return Vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pn(t){return t=t.childContextTypes,t!=null}function bh(){Be(fn),Be(Qt)}function Y1(t,e,n){if(Qt.current!==Vi)throw Error(L(168));Re(Qt,e),Re(fn,n)}function JS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(L(108,uP(t)||"Unknown",i));return Je({},n,r)}function _h(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vi,Ds=Qt.current,Re(Qt,t),Re(fn,fn.current),!0}function Q1(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=JS(t,e,Ds),r.__reactInternalMemoizedMergedChildContext=t,Be(fn),Be(Qt),Re(Qt,t)):Be(fn),Re(fn,n)}var Lr=null,Nd=!1,_p=!1;function ZS(t){Lr===null?Lr=[t]:Lr.push(t)}function TO(t){Nd=!0,ZS(t)}function es(){if(!_p&&Lr!==null){_p=!0;var t=0,e=Ee;try{var n=Lr;for(Ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Lr=null,Nd=!1}catch(i){throw Lr!==null&&(Lr=Lr.slice(t+1)),ES(Ny,es),i}finally{Ee=e,_p=!1}}return null}var _o=[],xo=0,xh=null,Sh=0,An=[],Dn=0,Ms=null,zr=1,Br="";function ls(t,e){_o[xo++]=Sh,_o[xo++]=xh,xh=t,Sh=e}function eE(t,e,n){An[Dn++]=zr,An[Dn++]=Br,An[Dn++]=Ms,Ms=t;var r=zr;t=Br;var i=32-ir(r)-1;r&=~(1<<i),n+=1;var s=32-ir(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zr=1<<32-ir(e)+i|n<<i|r,Br=s+t}else zr=1<<s|n<<i|r,Br=t}function Fy(t){t.return!==null&&(ls(t,1),eE(t,1,0))}function zy(t){for(;t===xh;)xh=_o[--xo],_o[xo]=null,Sh=_o[--xo],_o[xo]=null;for(;t===Ms;)Ms=An[--Dn],An[Dn]=null,Br=An[--Dn],An[Dn]=null,zr=An[--Dn],An[Dn]=null}var En=null,xn=null,je=!1,er=null;function tE(t,e){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function X1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,xn=Pi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ms!==null?{id:zr,overflow:Br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,xn=null,!0):!1;default:return!1}}function Ym(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qm(t){if(je){var e=xn;if(e){var n=e;if(!X1(t,e)){if(Ym(t))throw Error(L(418));e=Pi(n.nextSibling);var r=En;e&&X1(t,e)?tE(r,n):(t.flags=t.flags&-4097|2,je=!1,En=t)}}else{if(Ym(t))throw Error(L(418));t.flags=t.flags&-4097|2,je=!1,En=t}}}function J1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function pu(t){if(t!==En)return!1;if(!je)return J1(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wm(t.type,t.memoizedProps)),e&&(e=xn)){if(Ym(t))throw nE(),Error(L(418));for(;e;)tE(t,e),e=Pi(e.nextSibling)}if(J1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xn=Pi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=En?Pi(t.stateNode.nextSibling):null;return!0}function nE(){for(var t=xn;t;)t=Pi(t.nextSibling)}function Ho(){xn=En=null,je=!1}function By(t){er===null?er=[t]:er.push(t)}var IO=ri.ReactCurrentBatchConfig;function Xn(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Eh=Zi(null),kh=null,So=null,Uy=null;function jy(){Uy=So=kh=null}function Vy(t){var e=Eh.current;Be(Eh),t._currentValue=e}function Xm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ro(t,e){kh=t,Uy=So=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(hn=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(Uy!==t)if(t={context:t,memoizedValue:e,next:null},So===null){if(kh===null)throw Error(L(308));So=t,kh.dependencies={lanes:0,firstContext:t}}else So=So.next=t;return e}var gs=null;function Hy(t){gs===null?gs=[t]:gs.push(t)}function rE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yr(t,r)}function Yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hi=!1;function Wy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Oi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(ye&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yr(t,n)}return i=r.interleaved,i===null?(e.next=e,Hy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yr(t,n)}function qu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Py(t,n)}}function Z1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ch(t,e,n,r){var i=t.updateQueue;hi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(d=e,f=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break e;h=Je({},h,d);break e;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);$s|=o,t.lanes=o,t.memoizedState=h}}function ew(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var sE=new rS.Component().refs;function Jm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pd={isMounted:function(t){return(t=t._reactInternals)?Js(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Ai(t),s=Hr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Oi(t,s,i),e!==null&&(sr(e,t,i,r),qu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Ai(t),s=Hr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Oi(t,s,i),e!==null&&(sr(e,t,i,r),qu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=Ai(t),i=Hr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Oi(t,i,r),e!==null&&(sr(e,t,r,n),qu(e,t,r))}};function tw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Rl(n,r)||!Rl(i,s):!0}function oE(t,e,n){var r=!1,i=Vi,s=e.contextType;return typeof s=="object"&&s!==null?s=Un(s):(i=pn(e)?Ds:Qt.current,r=e.contextTypes,s=(r=r!=null)?Vo(t,i):Vi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function nw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pd.enqueueReplaceState(e,e.state,null)}function Zm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=sE,Wy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Un(s):(s=pn(e)?Ds:Qt.current,i.context=Vo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Jm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pd.enqueueReplaceState(i,i.state,null),Ch(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Da(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===sE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function mu(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rw(t){var e=t._init;return e(t._payload)}function aE(t){function e(g,v){if(t){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Di(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,w,_){return v===null||v.tag!==6?(v=Ip(w,g.mode,_),v.return=g,v):(v=i(v,w),v.return=g,v)}function l(g,v,w,_){var x=w.type;return x===mo?u(g,v,w.props.children,_,w.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ui&&rw(x)===v.type)?(_=i(v,w.props),_.ref=Da(g,v,w),_.return=g,_):(_=Ju(w.type,w.key,w.props,null,g.mode,_),_.ref=Da(g,v,w),_.return=g,_)}function c(g,v,w,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Np(w,g.mode,_),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function u(g,v,w,_,x){return v===null||v.tag!==7?(v=ks(w,g.mode,_,x),v.return=g,v):(v=i(v,w),v.return=g,v)}function h(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ip(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case iu:return w=Ju(v.type,v.key,v.props,null,g.mode,w),w.ref=Da(g,null,v),w.return=g,w;case po:return v=Np(v,g.mode,w),v.return=g,v;case ui:var _=v._init;return h(g,_(v._payload),w)}if(Ka(v)||Na(v))return v=ks(v,g.mode,w,null),v.return=g,v;mu(g,v)}return null}function d(g,v,w,_){var x=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return x!==null?null:a(g,v,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case iu:return w.key===x?l(g,v,w,_):null;case po:return w.key===x?c(g,v,w,_):null;case ui:return x=w._init,d(g,v,x(w._payload),_)}if(Ka(w)||Na(w))return x!==null?null:u(g,v,w,_,null);mu(g,w)}return null}function f(g,v,w,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(w)||null,a(v,g,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case iu:return g=g.get(_.key===null?w:_.key)||null,l(v,g,_,x);case po:return g=g.get(_.key===null?w:_.key)||null,c(v,g,_,x);case ui:var k=_._init;return f(g,v,w,k(_._payload),x)}if(Ka(_)||Na(_))return g=g.get(w)||null,u(v,g,_,x,null);mu(v,_)}return null}function m(g,v,w,_){for(var x=null,k=null,E=v,T=v=0,N=null;E!==null&&T<w.length;T++){E.index>T?(N=E,E=null):N=E.sibling;var P=d(g,E,w[T],_);if(P===null){E===null&&(E=N);break}t&&E&&P.alternate===null&&e(g,E),v=s(P,v,T),k===null?x=P:k.sibling=P,k=P,E=N}if(T===w.length)return n(g,E),je&&ls(g,T),x;if(E===null){for(;T<w.length;T++)E=h(g,w[T],_),E!==null&&(v=s(E,v,T),k===null?x=E:k.sibling=E,k=E);return je&&ls(g,T),x}for(E=r(g,E);T<w.length;T++)N=f(E,g,T,w[T],_),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?T:N.key),v=s(N,v,T),k===null?x=N:k.sibling=N,k=N);return t&&E.forEach(function(U){return e(g,U)}),je&&ls(g,T),x}function y(g,v,w,_){var x=Na(w);if(typeof x!="function")throw Error(L(150));if(w=x.call(w),w==null)throw Error(L(151));for(var k=x=null,E=v,T=v=0,N=null,P=w.next();E!==null&&!P.done;T++,P=w.next()){E.index>T?(N=E,E=null):N=E.sibling;var U=d(g,E,P.value,_);if(U===null){E===null&&(E=N);break}t&&E&&U.alternate===null&&e(g,E),v=s(U,v,T),k===null?x=U:k.sibling=U,k=U,E=N}if(P.done)return n(g,E),je&&ls(g,T),x;if(E===null){for(;!P.done;T++,P=w.next())P=h(g,P.value,_),P!==null&&(v=s(P,v,T),k===null?x=P:k.sibling=P,k=P);return je&&ls(g,T),x}for(E=r(g,E);!P.done;T++,P=w.next())P=f(E,g,T,P.value,_),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?T:P.key),v=s(P,v,T),k===null?x=P:k.sibling=P,k=P);return t&&E.forEach(function(B){return e(g,B)}),je&&ls(g,T),x}function b(g,v,w,_){if(typeof w=="object"&&w!==null&&w.type===mo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case iu:e:{for(var x=w.key,k=v;k!==null;){if(k.key===x){if(x=w.type,x===mo){if(k.tag===7){n(g,k.sibling),v=i(k,w.props.children),v.return=g,g=v;break e}}else if(k.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ui&&rw(x)===k.type){n(g,k.sibling),v=i(k,w.props),v.ref=Da(g,k,w),v.return=g,g=v;break e}n(g,k);break}else e(g,k);k=k.sibling}w.type===mo?(v=ks(w.props.children,g.mode,_,w.key),v.return=g,g=v):(_=Ju(w.type,w.key,w.props,null,g.mode,_),_.ref=Da(g,v,w),_.return=g,g=_)}return o(g);case po:e:{for(k=w.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=Np(w,g.mode,_),v.return=g,g=v}return o(g);case ui:return k=w._init,b(g,v,k(w._payload),_)}if(Ka(w))return m(g,v,w,_);if(Na(w))return y(g,v,w,_);mu(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,w),v.return=g,g=v):(n(g,v),v=Ip(w,g.mode,_),v.return=g,g=v),o(g)):n(g,v)}return b}var Wo=aE(!0),lE=aE(!1),wc={},br=Zi(wc),Ll=Zi(wc),$l=Zi(wc);function ys(t){if(t===wc)throw Error(L(174));return t}function qy(t,e){switch(Re($l,e),Re(Ll,t),Re(br,wc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Om(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Om(e,t)}Be(br),Re(br,e)}function qo(){Be(br),Be(Ll),Be($l)}function cE(t){ys($l.current);var e=ys(br.current),n=Om(e,t.type);e!==n&&(Re(Ll,t),Re(br,n))}function Ky(t){Ll.current===t&&(Be(br),Be(Ll))}var Qe=Zi(0);function Th(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xp=[];function Gy(){for(var t=0;t<xp.length;t++)xp[t]._workInProgressVersionPrimary=null;xp.length=0}var Ku=ri.ReactCurrentDispatcher,Sp=ri.ReactCurrentBatchConfig,Ls=0,Xe=null,pt=null,kt=null,Ih=!1,ul=!1,Fl=0,NO=0;function Bt(){throw Error(L(321))}function Yy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function Qy(t,e,n,r,i,s){if(Ls=s,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ku.current=t===null||t.memoizedState===null?AO:DO,t=n(r,i),ul){s=0;do{if(ul=!1,Fl=0,25<=s)throw Error(L(301));s+=1,kt=pt=null,e.updateQueue=null,Ku.current=MO,t=n(r,i)}while(ul)}if(Ku.current=Nh,e=pt!==null&&pt.next!==null,Ls=0,kt=pt=Xe=null,Ih=!1,e)throw Error(L(300));return t}function Xy(){var t=Fl!==0;return Fl=0,t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Xe.memoizedState=kt=t:kt=kt.next=t,kt}function jn(){if(pt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=kt===null?Xe.memoizedState:kt.next;if(e!==null)kt=e,pt=t;else{if(t===null)throw Error(L(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},kt===null?Xe.memoizedState=kt=t:kt=kt.next=t}return kt}function zl(t,e){return typeof e=="function"?e(t):e}function Ep(t){var e=jn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Ls&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Xe.lanes|=u,$s|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ar(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Xe.lanes|=s,$s|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kp(t){var e=jn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ar(s,e.memoizedState)||(hn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function uE(){}function hE(t,e){var n=Xe,r=jn(),i=e(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,hn=!0),r=r.queue,Jy(pE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,Bl(9,fE.bind(null,n,r,i,e),void 0,null),Ct===null)throw Error(L(349));(Ls&30)!==0||dE(n,e,i)}return i}function dE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fE(t,e,n,r){e.value=n,e.getSnapshot=r,mE(e)&&gE(t)}function pE(t,e,n){return n(function(){mE(e)&&gE(t)})}function mE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch{return!0}}function gE(t){var e=Yr(t,1);e!==null&&sr(e,t,1,-1)}function iw(t){var e=pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:t},e.queue=t,t=t.dispatch=RO.bind(null,Xe,t),[e.memoizedState,t]}function Bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yE(){return jn().memoizedState}function Gu(t,e,n,r){var i=pr();Xe.flags|=t,i.memoizedState=Bl(1|e,n,void 0,r===void 0?null:r)}function Od(t,e,n,r){var i=jn();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&Yy(r,o.deps)){i.memoizedState=Bl(e,n,s,r);return}}Xe.flags|=t,i.memoizedState=Bl(1|e,n,s,r)}function sw(t,e){return Gu(8390656,8,t,e)}function Jy(t,e){return Od(2048,8,t,e)}function vE(t,e){return Od(4,2,t,e)}function wE(t,e){return Od(4,4,t,e)}function bE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _E(t,e,n){return n=n!=null?n.concat([t]):null,Od(4,4,bE.bind(null,e,t),n)}function Zy(){}function xE(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function SE(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function EE(t,e,n){return(Ls&21)===0?(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n):(ar(n,e)||(n=TS(),Xe.lanes|=n,$s|=n,t.baseState=!0),e)}function PO(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var r=Sp.transition;Sp.transition={};try{t(!1),e()}finally{Ee=n,Sp.transition=r}}function kE(){return jn().memoizedState}function OO(t,e,n){var r=Ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CE(t))TE(e,n);else if(n=rE(t,e,n,r),n!==null){var i=rn();sr(n,t,r,i),IE(n,e,r)}}function RO(t,e,n){var r=Ai(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CE(t))TE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=e.interleaved;l===null?(i.next=i,Hy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=rE(t,e,i,r),n!==null&&(i=rn(),sr(n,t,r,i),IE(n,e,r))}}function CE(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function TE(t,e){ul=Ih=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function IE(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Py(t,n)}}var Nh={readContext:Un,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},AO={readContext:Un,useCallback:function(t,e){return pr().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:sw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gu(4194308,4,bE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gu(4,2,t,e)},useMemo:function(t,e){var n=pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=OO.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=pr();return t={current:t},e.memoizedState=t},useState:iw,useDebugValue:Zy,useDeferredValue:function(t){return pr().memoizedState=t},useTransition:function(){var t=iw(!1),e=t[0];return t=PO.bind(null,t[1]),pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=pr();if(je){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),Ct===null)throw Error(L(349));(Ls&30)!==0||dE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,sw(pE.bind(null,r,s,t),[t]),r.flags|=2048,Bl(9,fE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=pr(),e=Ct.identifierPrefix;if(je){var n=Br,r=zr;n=(r&~(1<<32-ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=NO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},DO={readContext:Un,useCallback:xE,useContext:Un,useEffect:Jy,useImperativeHandle:_E,useInsertionEffect:vE,useLayoutEffect:wE,useMemo:SE,useReducer:Ep,useRef:yE,useState:function(){return Ep(zl)},useDebugValue:Zy,useDeferredValue:function(t){var e=jn();return EE(e,pt.memoizedState,t)},useTransition:function(){var t=Ep(zl)[0],e=jn().memoizedState;return[t,e]},useMutableSource:uE,useSyncExternalStore:hE,useId:kE,unstable_isNewReconciler:!1},MO={readContext:Un,useCallback:xE,useContext:Un,useEffect:Jy,useImperativeHandle:_E,useInsertionEffect:vE,useLayoutEffect:wE,useMemo:SE,useReducer:kp,useRef:yE,useState:function(){return kp(zl)},useDebugValue:Zy,useDeferredValue:function(t){var e=jn();return pt===null?e.memoizedState=t:EE(e,pt.memoizedState,t)},useTransition:function(){var t=kp(zl)[0],e=jn().memoizedState;return[t,e]},useMutableSource:uE,useSyncExternalStore:hE,useId:kE,unstable_isNewReconciler:!1};function Ko(t,e){try{var n="",r=e;do n+=cP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cp(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function eg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LO=typeof WeakMap=="function"?WeakMap:Map;function NE(t,e,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Oh||(Oh=!0,ug=r),eg(t,e)},n}function PE(t,e,n){n=Hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){eg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){eg(t,e),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ow(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=QO.bind(null,t,e,n),e.then(t,t))}function aw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lw(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hr(-1,1),e.tag=2,Oi(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var $O=ri.ReactCurrentOwner,hn=!1;function tn(t,e,n,r){e.child=t===null?lE(e,null,n,r):Wo(e,t.child,n,r)}function cw(t,e,n,r,i){n=n.render;var s=e.ref;return Ro(e,i),r=Qy(t,e,n,r,s,i),n=Xy(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(je&&n&&Fy(e),e.flags|=1,tn(t,e,r,i),e.child)}function uw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!a0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,OE(t,e,s,r,i)):(t=Ju(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Rl,n(o,r)&&t.ref===e.ref)return Qr(t,e,i)}return e.flags|=1,t=Di(s,r),t.ref=e.ref,t.return=e,e.child=t}function OE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Rl(s,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(hn=!0);else return e.lanes=t.lanes,Qr(t,e,i)}return tg(t,e,n,r,i)}function RE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(ko,bn),bn|=n;else{if((n&1073741824)===0)return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(ko,bn),bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Re(ko,bn),bn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Re(ko,bn),bn|=r;return tn(t,e,i,n),e.child}function AE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tg(t,e,n,r,i){var s=pn(n)?Ds:Qt.current;return s=Vo(e,s),Ro(e,i),n=Qy(t,e,n,r,s,i),r=Xy(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(je&&r&&Fy(e),e.flags|=1,tn(t,e,n,i),e.child)}function hw(t,e,n,r,i){if(pn(n)){var s=!0;_h(e)}else s=!1;if(Ro(e,i),e.stateNode===null)Yu(t,e),oE(e,n,r),Zm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Un(c):(c=pn(n)?Ds:Qt.current,c=Vo(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&nw(e,o,r,c),hi=!1;var d=e.memoizedState;o.state=d,Ch(e,r,o,i),l=e.memoizedState,a!==r||d!==l||fn.current||hi?(typeof u=="function"&&(Jm(e,n,u,r),l=e.memoizedState),(a=hi||tw(e,n,a,r,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,iE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Xn(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Un(l):(l=pn(n)?Ds:Qt.current,l=Vo(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&nw(e,o,r,l),hi=!1,d=e.memoizedState,o.state=d,Ch(e,r,o,i);var m=e.memoizedState;a!==h||d!==m||fn.current||hi?(typeof f=="function"&&(Jm(e,n,f,r),m=e.memoizedState),(c=hi||tw(e,n,c,r,d,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return ng(t,e,n,r,s,i)}function ng(t,e,n,r,i,s){AE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Q1(e,n,!1),Qr(t,e,s);r=e.stateNode,$O.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wo(e,t.child,null,s),e.child=Wo(e,null,a,s)):tn(t,e,a,s),e.memoizedState=r.state,i&&Q1(e,n,!0),e.child}function DE(t){var e=t.stateNode;e.pendingContext?Y1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Y1(t,e.context,!1),qy(t,e.containerInfo)}function dw(t,e,n,r,i){return Ho(),By(i),e.flags|=256,tn(t,e,n,r),e.child}var rg={dehydrated:null,treeContext:null,retryLane:0};function ig(t){return{baseLanes:t,cachePool:null,transitions:null}}function ME(t,e,n){var r=e.pendingProps,i=Qe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Re(Qe,i&1),t===null)return Qm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dd(o,r,0,null),t=ks(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ig(n),e.memoizedState=rg,t):e0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Di(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Di(a,s):(s=ks(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ig(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=rg,r}return s=t.child,t=s.sibling,r=Di(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function e0(t,e){return e=Dd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gu(t,e,n,r){return r!==null&&By(r),Wo(e,t.child,null,n),t=e0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Cp(Error(L(422))),gu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Dd({mode:"visible",children:r.children},i,0,null),s=ks(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&Wo(e,t.child,null,o),e.child.memoizedState=ig(o),e.memoizedState=rg,s);if((e.mode&1)===0)return gu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(L(419)),r=Cp(s,r,void 0),gu(t,e,o,r)}if(a=(o&t.childLanes)!==0,hn||a){if(r=Ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yr(t,i),sr(r,t,i,-1))}return o0(),r=Cp(Error(L(421))),gu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=XO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,xn=Pi(i.nextSibling),En=e,je=!0,er=null,t!==null&&(An[Dn++]=zr,An[Dn++]=Br,An[Dn++]=Ms,zr=t.id,Br=t.overflow,Ms=e),e=e0(e,r.children),e.flags|=4096,e)}function fw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xm(t.return,e,n)}function Tp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function LE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(tn(t,e,r.children,n),r=Qe.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fw(t,n,e);else if(t.tag===19)fw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(Qe,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Th(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Th(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tp(e,!0,n,null,s);break;case"together":Tp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yu(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$s|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=Di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zO(t,e,n){switch(e.tag){case 3:DE(e),Ho();break;case 5:cE(e);break;case 1:pn(e.type)&&_h(e);break;case 4:qy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Re(Eh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(Qe,Qe.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?ME(t,e,n):(Re(Qe,Qe.current&1),t=Qr(t,e,n),t!==null?t.sibling:null);Re(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return LE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,RE(t,e,n)}return Qr(t,e,n)}var $E,sg,FE,zE;$E=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sg=function(){};FE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ys(br.current);var s=null;switch(n){case"input":i=Tm(t,i),r=Tm(t,r),s=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":i=Pm(t,i),r=Pm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wh)}Rm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(kl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(kl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};zE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ma(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function BO(t,e,n){var r=e.pendingProps;switch(zy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return pn(e.type)&&bh(),Ut(e),null;case 3:return r=e.stateNode,qo(),Be(fn),Be(Qt),Gy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,er!==null&&(fg(er),er=null))),sg(t,e),Ut(e),null;case 5:Ky(e);var i=ys($l.current);if(n=e.type,t!==null&&e.stateNode!=null)FE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return Ut(e),null}if(t=ys(br.current),pu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[mr]=e,r[Ml]=s,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<Ya.length;i++)Fe(Ya[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":x1(r,s),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",r);break;case"textarea":E1(r,s),Fe("invalid",r)}Rm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&fu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&fu(r.textContent,a,t),i=["children",""+a]):kl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":su(r),S1(r,s,!0);break;case"textarea":su(r),k1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mr]=e,t[Ml]=r,$E(t,e,!1,!1),e.stateNode=t;e:{switch(o=Am(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ya.length;i++)Fe(Ya[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":x1(t,r),i=Tm(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":E1(t,r),i=Pm(t,r),Fe("invalid",t);break;default:i=r}Rm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?mS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cl(t,l):typeof l=="number"&&Cl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(kl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Fe("scroll",t):l!=null&&Ey(t,s,l,o))}switch(n){case"input":su(t),S1(t,r,!1);break;case"textarea":su(t),k1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ji(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Io(t,!!r.multiple,s,!1):r.defaultValue!=null&&Io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)zE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=ys($l.current),ys(br.current),pu(e)){if(r=e.stateNode,n=e.memoizedProps,r[mr]=e,(s=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:fu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mr]=e,e.stateNode=r}return Ut(e),null;case 13:if(Be(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&xn!==null&&(e.mode&1)!==0&&(e.flags&128)===0)nE(),Ho(),e.flags|=98560,s=!1;else if(s=pu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[mr]=e}else Ho(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ut(e),s=!1}else er!==null&&(fg(er),er=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Qe.current&1)!==0?mt===0&&(mt=3):o0())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return qo(),sg(t,e),t===null&&Al(e.stateNode.containerInfo),Ut(e),null;case 10:return Vy(e.type._context),Ut(e),null;case 17:return pn(e.type)&&bh(),Ut(e),null;case 19:if(Be(Qe),s=e.memoizedState,s===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ma(s,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=Th(t),o!==null){for(e.flags|=128,Ma(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(Qe,Qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&rt()>Go&&(e.flags|=128,r=!0,Ma(s,!1),e.lanes=4194304)}else{if(!r)if(t=Th(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ma(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!je)return Ut(e),null}else 2*rt()-s.renderingStartTime>Go&&n!==1073741824&&(e.flags|=128,r=!0,Ma(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rt(),e.sibling=null,n=Qe.current,Re(Qe,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return s0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(bn&1073741824)!==0&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function UO(t,e){switch(zy(e),e.tag){case 1:return pn(e.type)&&bh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qo(),Be(fn),Be(Qt),Gy(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Ky(e),null;case 13:if(Be(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Ho()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(Qe),null;case 4:return qo(),null;case 10:return Vy(e.type._context),null;case 22:case 23:return s0(),null;case 24:return null;default:return null}}var yu=!1,Wt=!1,jO=typeof WeakSet=="function"?WeakSet:Set,V=null;function Eo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function og(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var pw=!1;function VO(t,e){if(Vm=gh,t=VS(),$y(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hm={focusedElem:t,selectionRange:n},gh=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var m=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Xn(e.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(_){Ze(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return m=pw,pw=!1,m}function hl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&og(e,n,s)}i=i.next}while(i!==r)}}function Rd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ag(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BE(t){var e=t.alternate;e!==null&&(t.alternate=null,BE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mr],delete e[Ml],delete e[Km],delete e[kO],delete e[CO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UE(t){return t.tag===5||t.tag===3||t.tag===4}function mw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wh));else if(r!==4&&(t=t.child,t!==null))for(lg(t,e,n),t=t.sibling;t!==null;)lg(t,e,n),t=t.sibling}function cg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cg(t,e,n),t=t.sibling;t!==null;)cg(t,e,n),t=t.sibling}var Pt=null,Jn=!1;function ai(t,e,n){for(n=n.child;n!==null;)jE(t,e,n),n=n.sibling}function jE(t,e,n){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(Ed,n)}catch{}switch(n.tag){case 5:Wt||Eo(n,e);case 6:var r=Pt,i=Jn;Pt=null,ai(t,e,n),Pt=r,Jn=i,Pt!==null&&(Jn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Jn?(t=Pt,n=n.stateNode,t.nodeType===8?bp(t.parentNode,n):t.nodeType===1&&bp(t,n),Pl(t)):bp(Pt,n.stateNode));break;case 4:r=Pt,i=Jn,Pt=n.stateNode.containerInfo,Jn=!0,ai(t,e,n),Pt=r,Jn=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&og(n,e,o),i=i.next}while(i!==r)}ai(t,e,n);break;case 1:if(!Wt&&(Eo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}ai(t,e,n);break;case 21:ai(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,ai(t,e,n),Wt=r):ai(t,e,n);break;default:ai(t,e,n)}}function gw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jO),e.forEach(function(r){var i=JO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,Jn=!1;break e;case 3:Pt=a.stateNode.containerInfo,Jn=!0;break e;case 4:Pt=a.stateNode.containerInfo,Jn=!0;break e}a=a.return}if(Pt===null)throw Error(L(160));jE(s,o,i),Pt=null,Jn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ze(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VE(e,t),e=e.sibling}function VE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gn(e,t),dr(t),r&4){try{hl(3,t,t.return),Rd(3,t)}catch(y){Ze(t,t.return,y)}try{hl(5,t,t.return)}catch(y){Ze(t,t.return,y)}}break;case 1:Gn(e,t),dr(t),r&512&&n!==null&&Eo(n,n.return);break;case 5:if(Gn(e,t),dr(t),r&512&&n!==null&&Eo(n,n.return),t.flags&32){var i=t.stateNode;try{Cl(i,"")}catch(y){Ze(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&uS(i,s),Am(a,o);var c=Am(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?mS(i,h):u==="dangerouslySetInnerHTML"?fS(i,h):u==="children"?Cl(i,h):Ey(i,u,h,c)}switch(a){case"input":Im(i,s);break;case"textarea":hS(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Io(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Io(i,!!s.multiple,s.defaultValue,!0):Io(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ml]=s}catch(y){Ze(t,t.return,y)}}break;case 6:if(Gn(e,t),dr(t),r&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Ze(t,t.return,y)}}break;case 3:if(Gn(e,t),dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(e.containerInfo)}catch(y){Ze(t,t.return,y)}break;case 4:Gn(e,t),dr(t);break;case 13:Gn(e,t),dr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(r0=rt())),r&4&&gw(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(c=Wt)||u,Gn(e,t),Wt=c):Gn(e,t),dr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&(t.mode&1)!==0)for(V=t,u=t.child;u!==null;){for(h=V=u;V!==null;){switch(d=V,f=d.child,d.tag){case 0:case 11:case 14:case 15:hl(4,d,d.return);break;case 1:Eo(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Ze(r,n,y)}}break;case 5:Eo(d,d.return);break;case 22:if(d.memoizedState!==null){vw(h);continue}}f!==null?(f.return=d,V=f):vw(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pS("display",o))}catch(y){Ze(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Ze(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gn(e,t),dr(t),r&4&&gw(t);break;case 21:break;default:Gn(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UE(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cl(i,""),r.flags&=-33);var s=mw(t);cg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=mw(t);lg(t,a,o);break;default:throw Error(L(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HO(t,e,n){V=t,HE(t)}function HE(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var i=V,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=yu;var c=Wt;if(yu=o,(Wt=l)&&!c)for(V=i;V!==null;)o=V,l=o.child,o.tag===22&&o.memoizedState!==null?ww(i):l!==null?(l.return=o,V=l):ww(i);for(;s!==null;)V=s,HE(s),s=s.sibling;V=i,yu=a,Wt=c}yw(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,V=s):yw(t)}}function yw(t){for(;V!==null;){var e=V;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Wt||Rd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Xn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ew(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ew(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Pl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Wt||e.flags&512&&ag(e)}catch(d){Ze(e,e.return,d)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function vw(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function ww(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rd(4,e)}catch(l){Ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ze(e,i,l)}}var s=e.return;try{ag(e)}catch(l){Ze(e,s,l)}break;case 5:var o=e.return;try{ag(e)}catch(l){Ze(e,o,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var WO=Math.ceil,Ph=ri.ReactCurrentDispatcher,t0=ri.ReactCurrentOwner,Bn=ri.ReactCurrentBatchConfig,ye=0,Ct=null,dt=null,At=0,bn=0,ko=Zi(0),mt=0,Ul=null,$s=0,Ad=0,n0=0,dl=null,cn=null,r0=0,Go=1/0,Mr=null,Oh=!1,ug=null,Ri=null,vu=!1,_i=null,Rh=0,fl=0,hg=null,Qu=-1,Xu=0;function rn(){return(ye&6)!==0?rt():Qu!==-1?Qu:Qu=rt()}function Ai(t){return(t.mode&1)===0?1:(ye&2)!==0&&At!==0?At&-At:IO.transition!==null?(Xu===0&&(Xu=TS()),Xu):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:DS(t.type)),t)}function sr(t,e,n,r){if(50<fl)throw fl=0,hg=null,Error(L(185));gc(t,n,r),((ye&2)===0||t!==Ct)&&(t===Ct&&((ye&2)===0&&(Ad|=n),mt===4&&fi(t,At)),mn(t,r),n===1&&ye===0&&(e.mode&1)===0&&(Go=rt()+500,Nd&&es()))}function mn(t,e){var n=t.callbackNode;IP(t,e);var r=mh(t,t===Ct?At:0);if(r===0)n!==null&&I1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&I1(n),e===1)t.tag===0?TO(bw.bind(null,t)):ZS(bw.bind(null,t)),SO(function(){(ye&6)===0&&es()}),n=null;else{switch(IS(r)){case 1:n=Ny;break;case 4:n=kS;break;case 16:n=ph;break;case 536870912:n=CS;break;default:n=ph}n=JE(n,WE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WE(t,e){if(Qu=-1,Xu=0,(ye&6)!==0)throw Error(L(327));var n=t.callbackNode;if(Ao()&&t.callbackNode!==n)return null;var r=mh(t,t===Ct?At:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=Ah(t,r);else{e=r;var i=ye;ye|=2;var s=KE();(Ct!==t||At!==e)&&(Mr=null,Go=rt()+500,Es(t,e));do try{GO();break}catch(a){qE(t,a)}while(1);jy(),Ph.current=s,ye=i,dt!==null?e=0:(Ct=null,At=0,e=mt)}if(e!==0){if(e===2&&(i=Fm(t),i!==0&&(r=i,e=dg(t,i))),e===1)throw n=Ul,Es(t,0),fi(t,r),mn(t,rt()),n;if(e===6)fi(t,r);else{if(i=t.current.alternate,(r&30)===0&&!qO(i)&&(e=Ah(t,r),e===2&&(s=Fm(t),s!==0&&(r=s,e=dg(t,s))),e===1))throw n=Ul,Es(t,0),fi(t,r),mn(t,rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:cs(t,cn,Mr);break;case 3:if(fi(t,r),(r&130023424)===r&&(e=r0+500-rt(),10<e)){if(mh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qm(cs.bind(null,t,cn,Mr),e);break}cs(t,cn,Mr);break;case 4:if(fi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ir(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WO(r/1960))-r,10<r){t.timeoutHandle=qm(cs.bind(null,t,cn,Mr),r);break}cs(t,cn,Mr);break;case 5:cs(t,cn,Mr);break;default:throw Error(L(329))}}}return mn(t,rt()),t.callbackNode===n?WE.bind(null,t):null}function dg(t,e){var n=dl;return t.current.memoizedState.isDehydrated&&(Es(t,e).flags|=256),t=Ah(t,e),t!==2&&(e=cn,cn=n,e!==null&&fg(e)),t}function fg(t){cn===null?cn=t:cn.push.apply(cn,t)}function qO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fi(t,e){for(e&=~n0,e&=~Ad,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ir(e),r=1<<n;t[n]=-1,e&=~r}}function bw(t){if((ye&6)!==0)throw Error(L(327));Ao();var e=mh(t,0);if((e&1)===0)return mn(t,rt()),null;var n=Ah(t,e);if(t.tag!==0&&n===2){var r=Fm(t);r!==0&&(e=r,n=dg(t,r))}if(n===1)throw n=Ul,Es(t,0),fi(t,e),mn(t,rt()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cs(t,cn,Mr),mn(t,rt()),null}function i0(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(Go=rt()+500,Nd&&es())}}function Fs(t){_i!==null&&_i.tag===0&&(ye&6)===0&&Ao();var e=ye;ye|=1;var n=Bn.transition,r=Ee;try{if(Bn.transition=null,Ee=1,t)return t()}finally{Ee=r,Bn.transition=n,ye=e,(ye&6)===0&&es()}}function s0(){bn=ko.current,Be(ko)}function Es(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xO(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(zy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bh();break;case 3:qo(),Be(fn),Be(Qt),Gy();break;case 5:Ky(r);break;case 4:qo();break;case 13:Be(Qe);break;case 19:Be(Qe);break;case 10:Vy(r.type._context);break;case 22:case 23:s0()}n=n.return}if(Ct=t,dt=t=Di(t.current,null),At=bn=e,mt=0,Ul=null,n0=Ad=$s=0,cn=dl=null,gs!==null){for(e=0;e<gs.length;e++)if(n=gs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}gs=null}return t}function qE(t,e){do{var n=dt;try{if(jy(),Ku.current=Nh,Ih){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ih=!1}if(Ls=0,kt=pt=Xe=null,ul=!1,Fl=0,t0.current=null,n===null||n.return===null){mt=1,Ul=e,dt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if((u.mode&1)===0&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=aw(o);if(f!==null){f.flags&=-257,lw(f,o,a,s,e),f.mode&1&&ow(s,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if((e&1)===0){ow(s,c,e),o0();break e}l=Error(L(426))}}else if(je&&a.mode&1){var b=aw(o);if(b!==null){(b.flags&65536)===0&&(b.flags|=256),lw(b,o,a,s,e),By(Ko(l,a));break e}}s=l=Ko(l,a),mt!==4&&(mt=2),dl===null?dl=[s]:dl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=NE(s,l,e);Z1(s,g);break e;case 1:a=l;var v=s.type,w=s.stateNode;if((s.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ri===null||!Ri.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=PE(s,a,e);Z1(s,_);break e}}s=s.return}while(s!==null)}YE(n)}catch(x){e=x,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(1)}function KE(){var t=Ph.current;return Ph.current=Nh,t===null?Nh:t}function o0(){(mt===0||mt===3||mt===2)&&(mt=4),Ct===null||($s&268435455)===0&&(Ad&268435455)===0||fi(Ct,At)}function Ah(t,e){var n=ye;ye|=2;var r=KE();(Ct!==t||At!==e)&&(Mr=null,Es(t,e));do try{KO();break}catch(i){qE(t,i)}while(1);if(jy(),ye=n,Ph.current=r,dt!==null)throw Error(L(261));return Ct=null,At=0,mt}function KO(){for(;dt!==null;)GE(dt)}function GO(){for(;dt!==null&&!wP();)GE(dt)}function GE(t){var e=XE(t.alternate,t,bn);t.memoizedProps=t.pendingProps,e===null?YE(t):dt=e,t0.current=null}function YE(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=BO(n,e,bn),n!==null){dt=n;return}}else{if(n=UO(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,dt=null;return}}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);mt===0&&(mt=5)}function cs(t,e,n){var r=Ee,i=Bn.transition;try{Bn.transition=null,Ee=1,YO(t,e,n,r)}finally{Bn.transition=i,Ee=r}return null}function YO(t,e,n,r){do Ao();while(_i!==null);if((ye&6)!==0)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(NP(t,s),t===Ct&&(dt=Ct=null,At=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||vu||(vu=!0,JE(ph,function(){return Ao(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Bn.transition,Bn.transition=null;var o=Ee;Ee=1;var a=ye;ye|=4,t0.current=null,VO(t,n),VE(n,t),mO(Hm),gh=!!Vm,Hm=Vm=null,t.current=n,HO(n),bP(),ye=a,Ee=o,Bn.transition=s}else t.current=n;if(vu&&(vu=!1,_i=t,Rh=i),s=t.pendingLanes,s===0&&(Ri=null),SP(n.stateNode),mn(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Oh)throw Oh=!1,t=ug,ug=null,t;return(Rh&1)!==0&&t.tag!==0&&Ao(),s=t.pendingLanes,(s&1)!==0?t===hg?fl++:(fl=0,hg=t):fl=0,es(),null}function Ao(){if(_i!==null){var t=IS(Rh),e=Bn.transition,n=Ee;try{if(Bn.transition=null,Ee=16>t?16:t,_i===null)var r=!1;else{if(t=_i,_i=null,Rh=0,(ye&6)!==0)throw Error(L(331));var i=ye;for(ye|=4,V=t.current;V!==null;){var s=V,o=s.child;if((V.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(V=c;V!==null;){var u=V;switch(u.tag){case 0:case 11:case 15:hl(8,u,s)}var h=u.child;if(h!==null)h.return=u,V=h;else for(;V!==null;){u=V;var d=u.sibling,f=u.return;if(BE(u),u===c){V=null;break}if(d!==null){d.return=f,V=d;break}V=f}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}V=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,V=o;else e:for(;V!==null;){if(s=V,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:hl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,V=g;break e}V=s.return}}var v=t.current;for(V=v;V!==null;){o=V;var w=o.child;if((o.subtreeFlags&2064)!==0&&w!==null)w.return=o,V=w;else e:for(o=v;V!==null;){if(a=V,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:Rd(9,a)}}catch(x){Ze(a,a.return,x)}if(a===o){V=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,V=_;break e}V=a.return}}if(ye=i,es(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(Ed,t)}catch{}r=!0}return r}finally{Ee=n,Bn.transition=e}}return!1}function _w(t,e,n){e=Ko(n,e),e=NE(t,e,1),t=Oi(t,e,1),e=rn(),t!==null&&(gc(t,1,e),mn(t,e))}function Ze(t,e,n){if(t.tag===3)_w(t,t,n);else for(;e!==null;){if(e.tag===3){_w(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){t=Ko(n,t),t=PE(e,t,1),e=Oi(e,t,1),t=rn(),e!==null&&(gc(e,1,t),mn(e,t));break}}e=e.return}}function QO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(At&n)===n&&(mt===4||mt===3&&(At&130023424)===At&&500>rt()-r0?Es(t,0):n0|=n),mn(t,e)}function QE(t,e){e===0&&((t.mode&1)===0?e=1:(e=lu,lu<<=1,(lu&130023424)===0&&(lu=4194304)));var n=rn();t=Yr(t,e),t!==null&&(gc(t,e,n),mn(t,n))}function XO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QE(t,n)}function JO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),QE(t,n)}var XE;XE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)hn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return hn=!1,zO(t,e,n);hn=(t.flags&131072)!==0}else hn=!1,je&&(e.flags&1048576)!==0&&eE(e,Sh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yu(t,e),t=e.pendingProps;var i=Vo(e,Qt.current);Ro(e,n),i=Qy(null,e,r,t,i,n);var s=Xy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(r)?(s=!0,_h(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wy(e),i.updater=Pd,e.stateNode=i,i._reactInternals=e,Zm(e,r,t,n),e=ng(null,e,r,!0,s,n)):(e.tag=0,je&&s&&Fy(e),tn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=eR(r),t=Xn(r,t),i){case 0:e=tg(null,e,r,t,n);break e;case 1:e=hw(null,e,r,t,n);break e;case 11:e=cw(null,e,r,t,n);break e;case 14:e=uw(null,e,r,Xn(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xn(r,i),tg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xn(r,i),hw(t,e,r,i,n);case 3:e:{if(DE(e),t===null)throw Error(L(387));r=e.pendingProps,s=e.memoizedState,i=s.element,iE(t,e),Ch(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ko(Error(L(423)),e),e=dw(t,e,r,n,i);break e}else if(r!==i){i=Ko(Error(L(424)),e),e=dw(t,e,r,n,i);break e}else for(xn=Pi(e.stateNode.containerInfo.firstChild),En=e,je=!0,er=null,n=lE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ho(),r===i){e=Qr(t,e,n);break e}tn(t,e,r,n)}e=e.child}return e;case 5:return cE(e),t===null&&Qm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Wm(r,i)?o=null:s!==null&&Wm(r,s)&&(e.flags|=32),AE(t,e),tn(t,e,o,n),e.child;case 6:return t===null&&Qm(e),null;case 13:return ME(t,e,n);case 4:return qy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wo(e,null,r,n):tn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xn(r,i),cw(t,e,r,i,n);case 7:return tn(t,e,e.pendingProps,n),e.child;case 8:return tn(t,e,e.pendingProps.children,n),e.child;case 12:return tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Re(Eh,r._currentValue),r._currentValue=o,s!==null)if(ar(s.value,o)){if(s.children===i.children&&!fn.current){e=Qr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Hr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Xm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}tn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ro(e,n),i=Un(i),r=r(i),e.flags|=1,tn(t,e,r,n),e.child;case 14:return r=e.type,i=Xn(r,e.pendingProps),i=Xn(r.type,i),uw(t,e,r,i,n);case 15:return OE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xn(r,i),Yu(t,e),e.tag=1,pn(r)?(t=!0,_h(e)):t=!1,Ro(e,n),oE(e,r,i),Zm(e,r,i,n),ng(null,e,r,!0,t,n);case 19:return LE(t,e,n);case 22:return RE(t,e,n)}throw Error(L(156,e.tag))};function JE(t,e){return ES(t,e)}function ZO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,e,n,r){return new ZO(t,e,n,r)}function a0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eR(t){if(typeof t=="function")return a0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cy)return 11;if(t===Ty)return 14}return 2}function Di(t,e){var n=t.alternate;return n===null?(n=$n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ju(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")a0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case mo:return ks(n.children,i,s,e);case ky:o=8,i|=8;break;case Sm:return t=$n(12,n,e,i|2),t.elementType=Sm,t.lanes=s,t;case Em:return t=$n(13,n,e,i),t.elementType=Em,t.lanes=s,t;case km:return t=$n(19,n,e,i),t.elementType=km,t.lanes=s,t;case aS:return Dd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sS:o=10;break e;case oS:o=9;break e;case Cy:o=11;break e;case Ty:o=14;break e;case ui:o=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=$n(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ks(t,e,n,r){return t=$n(7,t,r,e),t.lanes=n,t}function Dd(t,e,n,r){return t=$n(22,t,r,e),t.elementType=aS,t.lanes=n,t.stateNode={isHidden:!1},t}function Ip(t,e,n){return t=$n(6,t,null,e),t.lanes=n,t}function Np(t,e,n){return e=$n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cp(0),this.expirationTimes=cp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function l0(t,e,n,r,i,s,o,a,l){return t=new tR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$n(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wy(s),t}function nR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:po,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZE(t){if(!t)return Vi;t=t._reactInternals;e:{if(Js(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(pn(n))return JS(t,n,e)}return e}function ek(t,e,n,r,i,s,o,a,l){return t=l0(n,r,!0,t,i,s,o,a,l),t.context=ZE(null),n=t.current,r=rn(),i=Ai(n),s=Hr(r,i),s.callback=e!=null?e:null,Oi(n,s,i),t.current.lanes=i,gc(t,i,r),mn(t,r),t}function Md(t,e,n,r){var i=e.current,s=rn(),o=Ai(i);return n=ZE(n),e.context===null?e.context=n:e.pendingContext=n,e=Hr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Oi(i,e,o),t!==null&&(sr(t,i,o,s),qu(t,i,o)),o}function Dh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function c0(t,e){xw(t,e),(t=t.alternate)&&xw(t,e)}function rR(){return null}var tk=typeof reportError=="function"?reportError:function(t){console.error(t)};function u0(t){this._internalRoot=t}Ld.prototype.render=u0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));Md(t,e,null,null)};Ld.prototype.unmount=u0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fs(function(){Md(null,t,null,null)}),e[Gr]=null}};function Ld(t){this._internalRoot=t}Ld.prototype.unstable_scheduleHydration=function(t){if(t){var e=OS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<di.length&&e!==0&&e<di[n].priority;n++);di.splice(n,0,t),n===0&&AS(t)}};function h0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sw(){}function iR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Dh(o);s.call(c)}}var o=ek(e,r,t,0,null,!1,!1,"",Sw);return t._reactRootContainer=o,t[Gr]=o.current,Al(t.nodeType===8?t.parentNode:t),Fs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Dh(l);a.call(c)}}var l=l0(t,0,!1,null,null,!1,!1,"",Sw);return t._reactRootContainer=l,t[Gr]=l.current,Al(t.nodeType===8?t.parentNode:t),Fs(function(){Md(e,l,n,r)}),l}function Fd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Dh(o);a.call(l)}}Md(e,o,t,i)}else o=iR(n,e,t,i,r);return Dh(o)}NS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ga(e.pendingLanes);n!==0&&(Py(e,n|1),mn(e,rt()),(ye&6)===0&&(Go=rt()+500,es()))}break;case 13:Fs(function(){var r=Yr(t,1);if(r!==null){var i=rn();sr(r,t,1,i)}}),c0(t,1)}};Oy=function(t){if(t.tag===13){var e=Yr(t,134217728);if(e!==null){var n=rn();sr(e,t,134217728,n)}c0(t,134217728)}};PS=function(t){if(t.tag===13){var e=Ai(t),n=Yr(t,e);if(n!==null){var r=rn();sr(n,t,e,r)}c0(t,e)}};OS=function(){return Ee};RS=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};Mm=function(t,e,n){switch(e){case"input":if(Im(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Id(r);if(!i)throw Error(L(90));cS(r),Im(r,i)}}}break;case"textarea":hS(t,n);break;case"select":e=n.value,e!=null&&Io(t,!!n.multiple,e,!1)}};vS=i0;wS=Fs;var sR={usingClientEntryPoint:!1,Events:[vc,wo,Id,gS,yS,i0]},La={findFiberByHostInstance:ms,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},oR={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xS(t),t===null?null:t.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||rR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{Ed=wu.inject(oR),wr=wu}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sR;In.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h0(e))throw Error(L(200));return nR(t,e,null,n)};In.createRoot=function(t,e){if(!h0(t))throw Error(L(299));var n=!1,r="",i=tk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=l0(t,1,!1,null,null,n,!1,r,i),t[Gr]=e.current,Al(t.nodeType===8?t.parentNode:t),new u0(e)};In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=xS(e),t=t===null?null:t.stateNode,t};In.flushSync=function(t){return Fs(t)};In.hydrate=function(t,e,n){if(!$d(e))throw Error(L(200));return Fd(null,t,e,!0,n)};In.hydrateRoot=function(t,e,n){if(!h0(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=tk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ek(e,null,t,1,n!=null?n:null,i,!1,s,o),t[Gr]=e.current,Al(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ld(e)};In.render=function(t,e,n){if(!$d(e))throw Error(L(200));return Fd(null,t,e,!1,n)};In.unmountComponentAtNode=function(t){if(!$d(t))throw Error(L(40));return t._reactRootContainer?(Fs(function(){Fd(null,null,t,!1,function(){t._reactRootContainer=null,t[Gr]=null})}),!0):!1};In.unstable_batchedUpdates=i0;In.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$d(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Fd(t,e,n,!1,r)};In.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=In})(mc);const aR=Kx(mc.exports);var Ew=mc.exports;_m.createRoot=Ew.createRoot,_m.hydrateRoot=Ew.hydrateRoot;/**
 * @remix-run/router v1.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mh.apply(this,arguments)}var xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xi||(xi={}));const kw="popstate";function lR(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return pg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mg(i)}return uR(e,n,null,t)}function cR(){return Math.random().toString(36).substr(2,8)}function Cw(t){return{usr:t.state,key:t.key}}function pg(t,e,n,r){return n===void 0&&(n=null),Mh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ca(e):e,{state:n,key:e&&e.key||r||cR()})}function mg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ca(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function uR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=xi.Pop,l=null;function c(){a=xi.Pop,l&&l({action:a,location:d.location})}function u(f,m){a=xi.Push;let y=pg(d.location,f,m);n&&n(y,f);let b=Cw(y),g=d.createHref(y);try{o.pushState(b,"",g)}catch{i.location.assign(g)}s&&l&&l({action:a,location:y})}function h(f,m){a=xi.Replace;let y=pg(d.location,f,m);n&&n(y,f);let b=Cw(y),g=d.createHref(y);o.replaceState(b,"",g),s&&l&&l({action:a,location:y})}let d={get action(){return a},get location(){return t(i,o)},listen(f){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kw,c),l=f,()=>{i.removeEventListener(kw,c),l=null}},createHref(f){return e(i,f)},push:u,replace:h,go(f){return o.go(f)}};return d}var Tw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Tw||(Tw={}));function hR(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ca(e):e,i=rk(r.pathname||"/",n);if(i==null)return null;let s=nk(t);dR(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=_R(s[a],i);return o}function nk(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(ft(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let a=Mi([r,o.relativePath]),l=n.concat(o);i.children&&i.children.length>0&&(ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),nk(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:wR(a,i.index),routesMeta:l})}),e}function dR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fR=/^:\w+$/,pR=3,mR=2,gR=1,yR=10,vR=-2,Iw=t=>t==="*";function wR(t,e){let n=t.split("/"),r=n.length;return n.some(Iw)&&(r+=vR),e&&(r+=mR),n.filter(i=>!Iw(i)).reduce((i,s)=>i+(fR.test(s)?pR:s===""?gR:yR),r)}function bR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _R(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=d0({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;s.push({params:r,pathname:Mi([i,u.pathname]),pathnameBase:CR(Mi([i,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(i=Mi([i,u.pathnameBase]))}return s}function d0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{if(u==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return c[u]=SR(a[h]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:t}}function xR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ik(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function SR(t,e){try{return decodeURIComponent(t)}catch(n){return ik(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function rk(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ik(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ER(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ca(t):t;return{pathname:n?n.startsWith("/")?n:kR(n,e):e,search:TR(r),hash:IR(i)}}function kR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Pp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sk(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ca(t):(i=Mh({},t),ft(!i.pathname||!i.pathname.includes("?"),Pp("?","pathname","search",i)),ft(!i.pathname||!i.pathname.includes("#"),Pp("#","pathname","hash",i)),ft(!i.search||!i.search.includes("#"),Pp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=ER(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Mi=t=>t.join("/").replace(/\/\/+/g,"/"),CR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class NR{constructor(e,n,r){this.status=e,this.statusText=n||"",this.data=r}}function PR(t){return t instanceof NR}var zd={exports:{}},Bd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OR=C.exports,RR=Symbol.for("react.element"),AR=Symbol.for("react.fragment"),DR=Object.prototype.hasOwnProperty,MR=OR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LR={key:!0,ref:!0,__self:!0,__source:!0};function ok(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)DR.call(e,r)&&!LR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:RR,type:t,key:s,ref:o,props:i,_owner:MR.current}}Bd.Fragment=AR;Bd.jsx=ok;Bd.jsxs=ok;(function(t){t.exports=Bd})(zd);const Me=zd.exports.Fragment,p=zd.exports.jsx,S=zd.exports.jsxs;/**
 * React Router v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gg(){return gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gg.apply(this,arguments)}function $R(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const FR=typeof Object.is=="function"?Object.is:$R,{useState:zR,useEffect:BR,useLayoutEffect:UR,useDebugValue:jR}=bm;function VR(t,e,n){const r=e(),[{inst:i},s]=zR({inst:{value:r,getSnapshot:e}});return UR(()=>{i.value=r,i.getSnapshot=e,Op(i)&&s({inst:i})},[t,r,e]),BR(()=>(Op(i)&&s({inst:i}),t(()=>{Op(i)&&s({inst:i})})),[t]),jR(r),r}function Op(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!FR(n,r)}catch{return!0}}function HR(t,e,n){return e()}const WR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qR=!WR,KR=qR?HR:VR;"useSyncExternalStore"in bm&&(t=>t.useSyncExternalStore)(bm);const GR=C.exports.createContext(null),YR=C.exports.createContext(null),Ud=C.exports.createContext(null),f0=C.exports.createContext(null),jd=C.exports.createContext(null),ua=C.exports.createContext({outlet:null,matches:[]}),ak=C.exports.createContext(null);function QR(t,e){let{relative:n}=e===void 0?{}:e;Zs()||ft(!1);let{basename:r,navigator:i}=C.exports.useContext(f0),{hash:s,pathname:o,search:a}=Lh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Mi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Zs(){return C.exports.useContext(jd)!=null}function bc(){return Zs()||ft(!1),C.exports.useContext(jd).location}function XR(t){Zs()||ft(!1);let{pathname:e}=bc();return C.exports.useMemo(()=>d0(t,e),[e,t])}function lk(t){return t.filter((e,n)=>n===0||!e.route.index&&e.pathnameBase!==t[n-1].pathnameBase)}function Wn(){Zs()||ft(!1);let{basename:t,navigator:e}=C.exports.useContext(f0),{matches:n}=C.exports.useContext(ua),{pathname:r}=bc(),i=JSON.stringify(lk(n).map(a=>a.pathnameBase)),s=C.exports.useRef(!1);return C.exports.useEffect(()=>{s.current=!0}),C.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=sk(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:Mi([t,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[t,e,i,r])}function _c(){let{matches:t}=C.exports.useContext(ua),e=t[t.length-1];return e?e.params:{}}function Lh(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=C.exports.useContext(ua),{pathname:i}=bc(),s=JSON.stringify(lk(r).map(o=>o.pathnameBase));return C.exports.useMemo(()=>sk(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function JR(t,e){Zs()||ft(!1);let n=C.exports.useContext(Ud),{matches:r}=C.exports.useContext(ua),i=r[r.length-1],s=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let a=bc(),l;if(e){var c;let m=typeof e=="string"?ca(e):e;o==="/"||((c=m.pathname)==null?void 0:c.startsWith(o))||ft(!1),l=m}else l=a;let u=l.pathname||"/",h=o==="/"?u:u.slice(o.length)||"/",d=hR(t,{pathname:h}),f=nA(d&&d.map(m=>Object.assign({},m,{params:Object.assign({},s,m.params),pathname:Mi([o,m.pathname]),pathnameBase:m.pathnameBase==="/"?o:Mi([o,m.pathnameBase])})),r,n||void 0);return e?p(jd.Provider,{value:{location:gg({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:xi.Pop},children:f}):f}function ZR(){let t=iA(),e=PR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return S(Me,{children:[p("h2",{children:"Unhandled Thrown Error!"}),p("h3",{style:{fontStyle:"italic"},children:e}),n?p("pre",{style:i,children:n}):null,p("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),S("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",p("code",{style:s,children:"errorElement"})," props on\xA0",p("code",{style:s,children:"<Route>"})]})]})}class eA extends C.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?p(ak.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function tA(t){let{routeContext:e,match:n,children:r}=t,i=C.exports.useContext(GR);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),p(ua.Provider,{value:e,children:r})}function nA(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||ft(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=n?o.route.errorElement||p(ZR,{}):null,u=()=>p(tA,{match:o,routeContext:{outlet:s,matches:e.concat(r.slice(0,a+1))},children:l?c:o.route.element!==void 0?o.route.element:s});return n&&(o.route.errorElement||a===0)?p(eA,{location:n.location,component:c,error:l,children:u()}):u()},null)}var Nw;(function(t){t.UseRevalidator="useRevalidator"})(Nw||(Nw={}));var yg;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(yg||(yg={}));function rA(t){let e=C.exports.useContext(Ud);return e||ft(!1),e}function iA(){var t;let e=C.exports.useContext(ak),n=rA(yg.UseRouteError),r=C.exports.useContext(ua),i=r.matches[r.matches.length-1];return e||(r||ft(!1),i.route.id||ft(!1),(t=n.errors)==null?void 0:t[i.route.id])}function sA(t){let{to:e,replace:n,state:r,relative:i}=t;Zs()||ft(!1);let s=C.exports.useContext(Ud),o=Wn();return C.exports.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function ut(t){ft(!1)}function oA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=xi.Pop,navigator:s,static:o=!1}=t;Zs()&&ft(!1);let a=e.replace(/^\/*/,"/"),l=C.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ca(r));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:f="default"}=r,m=C.exports.useMemo(()=>{let y=rk(c,a);return y==null?null:{pathname:y,search:u,hash:h,state:d,key:f}},[a,c,u,h,d,f]);return m==null?null:p(f0.Provider,{value:l,children:p(jd.Provider,{children:n,value:{location:m,navigationType:i}})})}function ck(t){let{children:e,location:n}=t,r=C.exports.useContext(YR),i=r&&!e?r.router.routes:vg(e);return JR(i,n)}var Pw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Pw||(Pw={}));new Promise(()=>{});function vg(t,e){e===void 0&&(e=[]);let n=[];return C.exports.Children.forEach(t,(r,i)=>{if(!C.exports.isValidElement(r))return;if(r.type===C.exports.Fragment){n.push.apply(n,vg(r.props.children,e));return}r.type!==ut&&ft(!1),!r.props.index||!r.props.children||ft(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=vg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function aA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lA(t,e){return t.button===0&&(!e||e==="_self")&&!aA(t)}const cA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],uA=["aria-current","caseSensitive","className","end","style","to","children"];function hA(t){let{basename:e,children:n,window:r}=t,i=C.exports.useRef();i.current==null&&(i.current=lR({window:r,v5Compat:!0}));let s=i.current,[o,a]=C.exports.useState({action:s.action,location:s.location});return C.exports.useLayoutEffect(()=>s.listen(a),[s]),p(oA,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const _e=C.exports.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,h=uk(e,cA),d=QR(c,{relative:i}),f=dA(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i});function m(y){r&&r(y),y.defaultPrevented||f(y)}return p("a",{...h,href:d,onClick:s?r:m,ref:n,target:l})}),nr=C.exports.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:c}=e,u=uk(e,uA),h=Lh(l),d=XR({path:h.pathname,end:o,caseSensitive:i}),f=C.exports.useContext(Ud),m=f==null?void 0:f.navigation.location,y=Lh(m||""),g=C.exports.useMemo(()=>m?d0({path:h.pathname,end:o,caseSensitive:i},y.pathname):null,[m,h.pathname,i,o,y.pathname])!=null,v=d!=null,w=v?r:void 0,_;typeof s=="function"?_=s({isActive:v,isPending:g}):_=[s,v?"active":null,g?"pending":null].filter(Boolean).join(" ");let x=typeof a=="function"?a({isActive:v,isPending:g}):a;return p(_e,{...u,"aria-current":w,className:_,ref:n,style:x,to:l,children:typeof c=="function"?c({isActive:v,isPending:g}):c})});var Ow;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Ow||(Ow={}));var Rw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Rw||(Rw={}));function dA(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Wn(),l=bc(),c=Lh(t,{relative:o});return C.exports.useCallback(u=>{if(lA(u,n)){u.preventDefault();let h=r!==void 0?r:mg(l)===mg(c);a(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,n,t,s,o])}function hk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=hk(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Si(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=hk(t))&&(r&&(r+=" "),r+=e);return r}function xc(t){return typeof t=="number"&&!isNaN(t)}function $a(t){return typeof t=="boolean"}function zs(t){return typeof t=="string"}function gn(t){return typeof t=="function"}function Zu(t){return zs(t)||gn(t)?t:null}function eh(t){return t!=null}function fA(t,e){return t===!1||xc(t)&&t>0?t:e}function Rp(t){return C.exports.isValidElement(t)||zs(t)||gn(t)||xc(t)}const dk={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ii={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function pA(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function mA(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(a){let{children:l,position:c,preventExitTransition:u,done:h,nodeRef:d,isIn:f}=a;const m=r?e+"--"+c:e,y=r?n+"--"+c:n,b=C.exports.useRef(0);return C.exports.useLayoutEffect(()=>{const g=d.current,v=m.split(" "),w=x=>{x.target===d.current&&(g.dispatchEvent(new Event("d")),g.removeEventListener("animationend",w),g.removeEventListener("animationcancel",w),b.current===0&&x.type!=="animationcancel"&&g.classList.remove(...v))};(()=>{g.classList.add(...v),g.addEventListener("animationend",w),g.addEventListener("animationcancel",w)})()},[]),C.exports.useEffect(()=>{const g=d.current,v=()=>{g.removeEventListener("animationend",v),i?pA(g,h,s):h()};f||(u?v():(()=>{b.current=1,g.className+=" "+y,g.addEventListener("animationend",v)})())},[f]),p(Me,{children:l})}}function Aw(t,e){return{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}}const Fn={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},Vd=t=>{let{theme:e,type:n,...r}=t;return p("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":"var(--toastify-icon-color-"+n+")",...r})};function gA(t){return p(Vd,{...t,children:p("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"})})}function yA(t){return p(Vd,{...t,children:p("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"})})}function vA(t){return p(Vd,{...t,children:p("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"})})}function wA(t){return p(Vd,{...t,children:p("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"})})}function bA(){return p("div",{className:"Toastify__spinner"})}const wg={info:yA,warning:gA,success:vA,error:wA,spinner:bA},_A=t=>t in wg;function xA(t){let{theme:e,type:n,isLoading:r,icon:i}=t,s=null;const o={theme:e,type:n};return i===!1||(gn(i)?s=i(o):C.exports.isValidElement(i)?s=C.exports.cloneElement(i,o):zs(i)||xc(i)?s=i:r?s=wg.spinner():_A(n)&&(s=wg[n](o))),s}function SA(t){const[,e]=C.exports.useReducer(y=>y+1,0),[n,r]=C.exports.useState([]),i=C.exports.useRef(null),s=C.exports.useRef(new Map).current,o=y=>n.indexOf(y)!==-1,a=C.exports.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:y=>s.get(y)}).current;C.exports.useEffect(()=>(a.containerId=t.containerId,Fn.cancelEmit(3).on(0,d).on(1,y=>i.current&&c(y)).on(5,l).emit(2,a),()=>{s.clear(),Fn.emit(3,a)}),[]),C.exports.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length});function l(y){let{containerId:b}=y;const{limit:g}=a.props;g&&(!b||a.containerId===b)&&(a.count-=a.queue.length,a.queue=[])}function c(y){r(b=>eh(y)?b.filter(g=>g!==y):[])}function u(){const{toastContent:y,toastProps:b,staleId:g}=a.queue.shift();f(y,b,g)}function h(y){return!i.current||a.props.enableMultiContainer&&y.containerId!==a.props.containerId||s.has(y.toastId)&&y.updateId==null}function d(y,b){let{delay:g,staleId:v,...w}=b;if(!Rp(y)||h(w))return;const{toastId:_,updateId:x,data:k}=w,{props:E}=a,T=()=>c(_),N=x==null;N&&a.count++;const P={toastId:_,updateId:x,data:k,containerId:w.containerId,isLoading:w.isLoading,theme:w.theme||E.theme,icon:w.icon!=null?w.icon:E.icon,isIn:!1,key:w.key||a.toastKey++,type:w.type,closeToast:T,closeButton:w.closeButton,rtl:E.rtl,position:w.position||E.position,transition:w.transition||E.transition,className:Zu(w.className||E.toastClassName),bodyClassName:Zu(w.bodyClassName||E.bodyClassName),style:w.style||E.toastStyle,bodyStyle:w.bodyStyle||E.bodyStyle,onClick:w.onClick||E.onClick,pauseOnHover:$a(w.pauseOnHover)?w.pauseOnHover:E.pauseOnHover,pauseOnFocusLoss:$a(w.pauseOnFocusLoss)?w.pauseOnFocusLoss:E.pauseOnFocusLoss,draggable:$a(w.draggable)?w.draggable:E.draggable,draggablePercent:w.draggablePercent||E.draggablePercent,draggableDirection:w.draggableDirection||E.draggableDirection,closeOnClick:$a(w.closeOnClick)?w.closeOnClick:E.closeOnClick,progressClassName:Zu(w.progressClassName||E.progressClassName),progressStyle:w.progressStyle||E.progressStyle,autoClose:w.isLoading?!1:fA(w.autoClose,E.autoClose),hideProgressBar:$a(w.hideProgressBar)?w.hideProgressBar:E.hideProgressBar,progress:w.progress,role:w.role||E.role,deleteToast(){const B=Aw(s.get(_),"removed");s.delete(_),Fn.emit(4,B);const W=a.queue.length;if(a.count=eh(_)?a.count-1:a.count-a.displayedToast,a.count<0&&(a.count=0),W>0){const re=eh(_)?1:a.props.limit;if(W===1||re===1)a.displayedToast++,u();else{const j=re>W?W:re;a.displayedToast=j;for(let te=0;te<j;te++)u()}}else e()}};P.iconOut=xA(P),gn(w.onOpen)&&(P.onOpen=w.onOpen),gn(w.onClose)&&(P.onClose=w.onClose),P.closeButton=E.closeButton,w.closeButton===!1||Rp(w.closeButton)?P.closeButton=w.closeButton:w.closeButton===!0&&(P.closeButton=Rp(E.closeButton)?E.closeButton:!0);let U=y;C.exports.isValidElement(y)&&!zs(y.type)?U=C.exports.cloneElement(y,{closeToast:T,toastProps:P,data:k}):gn(y)&&(U=y({closeToast:T,toastProps:P,data:k})),E.limit&&E.limit>0&&a.count>E.limit&&N?a.queue.push({toastContent:U,toastProps:P,staleId:v}):xc(g)?setTimeout(()=>{f(U,P,v)},g):f(U,P,v)}function f(y,b,g){const{toastId:v}=b;g&&s.delete(g);const w={content:y,props:b};s.set(v,w),r(_=>[..._,v].filter(x=>x!==g)),Fn.emit(4,Aw(w,w.props.updateId==null?"added":"updated"))}function m(y){const b=new Map,g=Array.from(s.values());return t.newestOnTop&&g.reverse(),g.forEach(v=>{const{position:w}=v.props;b.has(w)||b.set(w,[]),b.get(w).push(v)}),Array.from(b,v=>y(v[0],v[1]))}return{getToastToRender:m,containerRef:i,isToastActive:o}}function Dw(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function Mw(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function EA(t){const[e,n]=C.exports.useState(!1),[r,i]=C.exports.useState(!1),s=C.exports.useRef(null),o=C.exports.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=C.exports.useRef(t),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:h,closeOnClick:d}=t;C.exports.useEffect(()=>{a.current=t}),C.exports.useEffect(()=>(s.current&&s.current.addEventListener("d",y,{once:!0}),gn(t.onOpen)&&t.onOpen(C.exports.isValidElement(t.children)&&t.children.props),()=>{const T=a.current;gn(T.onClose)&&T.onClose(C.exports.isValidElement(T.children)&&T.children.props)}),[]),C.exports.useEffect(()=>(t.pauseOnFocusLoss&&g(),()=>{t.pauseOnFocusLoss&&v()}),[t.pauseOnFocusLoss]);function f(T){if(t.draggable){w();const N=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=N.getBoundingClientRect(),N.style.transition="",o.x=Dw(T.nativeEvent),o.y=Mw(T.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=N.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=N.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent/100))}}function m(){if(o.boundingRect){const{top:T,bottom:N,left:P,right:U}=o.boundingRect;t.pauseOnHover&&o.x>=P&&o.x<=U&&o.y>=T&&o.y<=N?b():y()}}function y(){n(!0)}function b(){n(!1)}function g(){document.hasFocus()||b(),window.addEventListener("focus",y),window.addEventListener("blur",b)}function v(){window.removeEventListener("focus",y),window.removeEventListener("blur",b)}function w(){o.didMove=!1,document.addEventListener("mousemove",x),document.addEventListener("mouseup",k),document.addEventListener("touchmove",x),document.addEventListener("touchend",k)}function _(){document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",k),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",k)}function x(T){const N=s.current;o.canDrag&&N&&(o.didMove=!0,e&&b(),o.x=Dw(T),o.y=Mw(T),t.draggableDirection==="x"?o.delta=o.x-o.start:o.delta=o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),N.style.transform="translate"+t.draggableDirection+"("+o.delta+"px)",N.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function k(){_();const T=s.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast();return}T.style.transition="transform 0.2s, opacity 0.2s",T.style.transform="translate"+t.draggableDirection+"(0)",T.style.opacity="1"}}const E={onMouseDown:f,onTouchStart:f,onMouseUp:m,onTouchEnd:m};return l&&c&&(E.onMouseEnter=b,E.onMouseLeave=y),d&&(E.onClick=T=>{h&&h(T),o.canCloseOnClick&&u()}),{playToast:y,pauseToast:b,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:E}}function fk(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return p("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r,children:p("svg",{"aria-hidden":"true",viewBox:"0 0 14 16",children:p("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})})})}function pk(t){let{delay:e,isRunning:n,closeToast:r,type:i,hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:h,theme:d}=t;const f={...a,animationDuration:e+"ms",animationPlayState:n?"running":"paused",opacity:s?0:1};l&&(f.transform="scaleX("+c+")");const m=Si("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+d,"Toastify__progress-bar--"+i,{["Toastify__progress-bar--rtl"]:u}),y=gn(o)?o({rtl:u,type:i,defaultClassName:m}):Si(m,o),b={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&r()}};return p("div",{role:"progressbar","aria-hidden":s?"true":"false","aria-label":"notification timer",className:y,style:f,...b})}pk.defaultProps={type:ii.DEFAULT,hide:!1};const kA=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=EA(t),{closeButton:s,children:o,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:h,transition:d,position:f,className:m,style:y,bodyClassName:b,bodyStyle:g,progressClassName:v,progressStyle:w,updateId:_,role:x,progress:k,rtl:E,toastId:T,deleteToast:N,isIn:P,isLoading:U,iconOut:B,theme:W}=t,re=Si("Toastify__toast","Toastify__toast-theme--"+W,"Toastify__toast--"+c,{["Toastify__toast--rtl"]:E}),j=gn(m)?m({rtl:E,position:f,type:c,defaultClassName:re}):Si(re,m),te=!!k,ne={closeToast:h,type:c,theme:W};let R=null;return s===!1||(gn(s)?R=s(ne):it.isValidElement(s)?R=it.cloneElement(s,ne):R=fk(ne)),p(d,{isIn:P,done:N,position:f,preventExitTransition:n,nodeRef:r,children:S("div",{id:T,onClick:l,className:j,...i,style:y,ref:r,children:[S("div",{...P&&{role:x},className:gn(b)?b({type:c}):Si("Toastify__toast-body",b),style:g,children:[B!=null&&p("div",{className:Si("Toastify__toast-icon",{["Toastify--animate-icon Toastify__zoom-enter"]:!U}),children:B}),p("div",{children:o})]}),R,(a||te)&&p(pk,{..._&&!te?{key:"pb-"+_}:{},rtl:E,theme:W,delay:a,isRunning:e,isIn:P,closeToast:h,hide:u,type:c,style:w,className:v,controlledProgress:te,progress:k})]})})},CA=mA({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),p0=C.exports.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=SA(t),{className:s,style:o,rtl:a,containerId:l}=t;function c(u){const h=Si("Toastify__toast-container","Toastify__toast-container--"+u,{["Toastify__toast-container--rtl"]:a});return gn(s)?s({position:u,rtl:a,defaultClassName:h}):Si(h,Zu(s))}return C.exports.useEffect(()=>{e&&(e.current=r.current)},[]),p("div",{ref:r,className:"Toastify",id:l,children:n((u,h)=>{const d=h.length?{...o}:{...o,pointerEvents:"none"};return p("div",{className:c(u),style:d,children:h.map((f,m)=>{let{content:y,props:b}=f;return C.exports.createElement(kA,{...b,isIn:i(b.toastId),style:{...b.style,"--nth":m+1,"--len":h.length},key:"toast-"+b.key},y)})},"container-"+u)})})});p0.displayName="ToastContainer";p0.defaultProps={position:dk.TOP_RIGHT,transition:CA,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:fk,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Cs=new Map,bg,jl=[];function TA(t,e){let{containerId:n}=e;const r=Cs.get(n||bg);return r?r.getToast(t):null}function mk(){return Math.random().toString(36).substring(2,9)}function IA(t){return t&&(zs(t.toastId)||xc(t.toastId))?t.toastId:mk()}function Sc(t,e){return Cs.size>0?Fn.emit(0,t,e):jl.push({content:t,options:e}),e.toastId}function Hd(t,e){return{...e,type:e&&e.type||t,toastId:IA(e)}}function Wd(t){return(e,n)=>Sc(e,Hd(t,n))}function X(t,e){return Sc(t,Hd(ii.DEFAULT,e))}X.loading=(t,e)=>Sc(t,Hd(ii.DEFAULT,{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function NA(t,e,n){let{pending:r,error:i,success:s}=e,o;r&&(o=zs(r)?X.loading(r,n):X.loading(r.render,{...n,...r}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},l=(u,h,d)=>{if(h==null){X.dismiss(o);return}const f={type:u,...a,...n,data:d},m=zs(h)?{render:h}:h;return o?X.update(o,{...f,...m}):X(m.render,{...f,...m}),d},c=gn(t)?t():t;return c.then(u=>l("success",s,u)).catch(u=>l("error",i,u)),c}X.promise=NA;X.success=Wd(ii.SUCCESS);X.info=Wd(ii.INFO);X.error=Wd(ii.ERROR);X.warning=Wd(ii.WARNING);X.warn=X.warning;X.dark=(t,e)=>Sc(t,Hd(ii.DEFAULT,{theme:"dark",...e}));X.dismiss=t=>{Cs.size>0?Fn.emit(1,t):jl=jl.filter(e=>eh(t)&&e.options.toastId!==t)};X.clearWaitingQueue=function(t){return t===void 0&&(t={}),Fn.emit(5,t)};X.isActive=t=>{let e=!1;return Cs.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e};X.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=TA(t,e);if(n){const{props:r,content:i}=n,s={...r,...e,toastId:e.toastId||t,updateId:mk()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,Sc(o,s)}},0)};X.done=t=>{X.update(t,{progress:1})};X.onChange=t=>(Fn.on(4,t),()=>{Fn.off(4,t)});X.POSITION=dk;X.TYPE=ii;Fn.on(2,t=>{bg=t.containerId||t,Cs.set(bg,t),jl.forEach(e=>{Fn.emit(0,e.content,e.options)}),jl=[]}).on(3,t=>{Cs.delete(t.containerId||t),Cs.size===0&&Fn.off(0).off(1).off(5)});function Dt(t){return Intl.NumberFormat("en-US",{style:"currency",currency:"INR"}).format(t)}var gk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Lw=it.createContext&&it.createContext(gk),Li=globalThis&&globalThis.__assign||function(){return Li=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Li.apply(this,arguments)},PA=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function yk(t){return t&&t.map(function(e,n){return it.createElement(e.tag,Li({key:n},e.attr),yk(e.child))})}function wt(t){return function(e){return p(OA,{...Li({attr:Li({},t.attr)},e),children:yk(t.child)})}}function OA(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=PA(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),S("svg",{...Li({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Li(Li({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),children:[s&&p("title",{children:s}),t.children]})};return Lw!==void 0?p(Lw.Consumer,{children:function(n){return e(n)}}):e(gk)}function RA(t){return wt({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`}},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`}},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`}},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`}}]})(t)}function AA(t){return wt({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"g",attr:{fill:"#616161"},child:[{tag:"rect",attr:{x:"34.6",y:"28.1",transform:"matrix(.707 -.707 .707 .707 -15.154 36.586)",width:"4",height:"17"}},{tag:"circle",attr:{cx:"20",cy:"20",r:"16"}}]},{tag:"rect",attr:{x:"36.2",y:"32.1",transform:"matrix(.707 -.707 .707 .707 -15.839 38.239)",fill:"#37474F",width:"4",height:"12.3"}},{tag:"circle",attr:{fill:"#64B5F6",cx:"20",cy:"20",r:"13"}},{tag:"path",attr:{fill:"#BBDEFB",d:"M26.9,14.2c-1.7-2-4.2-3.2-6.9-3.2s-5.2,1.2-6.9,3.2c-0.4,0.4-0.3,1.1,0.1,1.4c0.4,0.4,1.1,0.3,1.4-0.1 C16,13.9,17.9,13,20,13s4,0.9,5.4,2.5c0.2,0.2,0.5,0.4,0.8,0.4c0.2,0,0.5-0.1,0.6-0.2C27.2,15.3,27.2,14.6,26.9,14.2z"}}]})(t)}var ts={exports:{}};(()=>{var t={296:(i,s,o)=>{var a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,h=parseInt,d=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,f=typeof self=="object"&&self&&self.Object===Object&&self,m=d||f||Function("return this")(),y=Object.prototype.toString,b=Math.max,g=Math.min,v=function(){return m.Date.now()};function w(x){var k=typeof x;return!!x&&(k=="object"||k=="function")}function _(x){if(typeof x=="number")return x;if(function(T){return typeof T=="symbol"||function(N){return!!N&&typeof N=="object"}(T)&&y.call(T)=="[object Symbol]"}(x))return NaN;if(w(x)){var k=typeof x.valueOf=="function"?x.valueOf():x;x=w(k)?k+"":k}if(typeof x!="string")return x===0?x:+x;x=x.replace(a,"");var E=c.test(x);return E||u.test(x)?h(x.slice(2),E?2:8):l.test(x)?NaN:+x}i.exports=function(x,k,E){var T,N,P,U,B,W,re=0,j=!1,te=!1,ne=!0;if(typeof x!="function")throw new TypeError("Expected a function");function R(ue){var Te=T,Le=N;return T=N=void 0,re=ue,U=x.apply(Le,Te)}function H(ue){return re=ue,B=setTimeout(ie,k),j?R(ue):U}function q(ue){var Te=ue-W;return W===void 0||Te>=k||Te<0||te&&ue-re>=P}function ie(){var ue=v();if(q(ue))return ae(ue);B=setTimeout(ie,function(Te){var Le=k-(Te-W);return te?g(Le,P-(Te-re)):Le}(ue))}function ae(ue){return B=void 0,ne&&T?R(ue):(T=N=void 0,U)}function Ke(){var ue=v(),Te=q(ue);if(T=arguments,N=this,W=ue,Te){if(B===void 0)return H(W);if(te)return B=setTimeout(ie,k),R(W)}return B===void 0&&(B=setTimeout(ie,k)),U}return k=_(k)||0,w(E)&&(j=!!E.leading,P=(te="maxWait"in E)?b(_(E.maxWait)||0,k):P,ne="trailing"in E?!!E.trailing:ne),Ke.cancel=function(){B!==void 0&&clearTimeout(B),re=0,T=W=N=B=void 0},Ke.flush=function(){return B===void 0?U:ae(v())},Ke}},96:(i,s,o)=>{var a="Expected a function",l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt,f=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,m=typeof self=="object"&&self&&self.Object===Object&&self,y=f||m||Function("return this")(),b=Object.prototype.toString,g=Math.max,v=Math.min,w=function(){return y.Date.now()};function _(k){var E=typeof k;return!!k&&(E=="object"||E=="function")}function x(k){if(typeof k=="number")return k;if(function(N){return typeof N=="symbol"||function(P){return!!P&&typeof P=="object"}(N)&&b.call(N)=="[object Symbol]"}(k))return NaN;if(_(k)){var E=typeof k.valueOf=="function"?k.valueOf():k;k=_(E)?E+"":E}if(typeof k!="string")return k===0?k:+k;k=k.replace(l,"");var T=u.test(k);return T||h.test(k)?d(k.slice(2),T?2:8):c.test(k)?NaN:+k}i.exports=function(k,E,T){var N=!0,P=!0;if(typeof k!="function")throw new TypeError(a);return _(T)&&(N="leading"in T?!!T.leading:N,P="trailing"in T?!!T.trailing:P),function(U,B,W){var re,j,te,ne,R,H,q=0,ie=!1,ae=!1,Ke=!0;if(typeof U!="function")throw new TypeError(a);function ue(ot){var an=re,oi=j;return re=j=void 0,q=ot,ne=U.apply(oi,an)}function Te(ot){return q=ot,R=setTimeout(wn,B),ie?ue(ot):ne}function Le(ot){var an=ot-H;return H===void 0||an>=B||an<0||ae&&ot-q>=te}function wn(){var ot=w();if(Le(ot))return oo(ot);R=setTimeout(wn,function(an){var oi=B-(an-H);return ae?v(oi,te-(an-q)):oi}(ot))}function oo(ot){return R=void 0,Ke&&re?ue(ot):(re=j=void 0,ne)}function si(){var ot=w(),an=Le(ot);if(re=arguments,j=this,H=ot,an){if(R===void 0)return Te(H);if(ae)return R=setTimeout(wn,B),ue(H)}return R===void 0&&(R=setTimeout(wn,B)),ne}return B=x(B)||0,_(W)&&(ie=!!W.leading,te=(ae="maxWait"in W)?g(x(W.maxWait)||0,B):te,Ke="trailing"in W?!!W.trailing:Ke),si.cancel=function(){R!==void 0&&clearTimeout(R),q=0,re=H=j=R=void 0},si.flush=function(){return R===void 0?ne:oo(w())},si}(k,E,{leading:N,maxWait:E,trailing:P})}},703:(i,s,o)=>{var a=o(414);function l(){}function c(){}c.resetWarningCache=l,i.exports=function(){function u(f,m,y,b,g,v){if(v!==a){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}function h(){return u}u.isRequired=u;var d={array:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:h,element:u,elementType:u,instanceOf:h,node:u,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:c,resetWarningCache:l};return d.PropTypes=d,d}},697:(i,s,o)=>{i.exports=o(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(i){var s=e[i];if(s!==void 0)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return n.d(s,{a:s}),s},n.d=(i,s)=>{for(var o in s)n.o(s,o)&&!n.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:s[o]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>tu,LazyLoadImage:()=>jN,trackWindowScroll:()=>ie});const i=C.exports;var s=n.n(i),o=n(697);const a=mc.exports;var l=n.n(a);function c(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function u(A){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(A)}function h(A,I){var z=Object.keys(A);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(A);I&&(F=F.filter(function(xt){return Object.getOwnPropertyDescriptor(A,xt).enumerable})),z.push.apply(z,F)}return z}function d(A,I,z){return I in A?Object.defineProperty(A,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):A[I]=z,A}function f(A,I){for(var z=0;z<I.length;z++){var F=I[z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}function m(A,I){return(m=Object.setPrototypeOf||function(z,F){return z.__proto__=F,z})(A,I)}function y(A,I){if(I&&(u(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}(A)}function b(A){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(A)}var g=function(A){A.forEach(function(I){I.isIntersecting&&I.target.onVisible()})},v={},w=function(A){(function(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&m(O,D)})(Pe,A);var I,z,F,xt,hr=(F=Pe,xt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,D=b(F);if(xt){var G=b(this).constructor;O=Reflect.construct(D,arguments,G)}else O=D.apply(this,arguments);return y(this,O)});function Pe(O){var D;if(function(Y,de){if(!(Y instanceof de))throw new TypeError("Cannot call a class as a function")}(this,Pe),(D=hr.call(this,O)).supportsObserver=!O.scrollPosition&&O.useIntersectionObserver&&c(),D.supportsObserver){var G=O.threshold;D.observer=function(Y){return v[Y]=v[Y]||new IntersectionObserver(g,{rootMargin:Y+"px"}),v[Y]}(G)}return D}return I=Pe,(z=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,D=this.placeholder.getBoundingClientRect(),G=l().findDOMNode(this.placeholder).style,Y={left:parseInt(G.getPropertyValue("margin-left"),10)||0,top:parseInt(G.getPropertyValue("margin-top"),10)||0};return{bottom:O.y+D.bottom+Y.top,left:O.x+D.left+Y.left,right:O.x+D.right+Y.left,top:O.y+D.top+Y.top}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var O=this.props,D=O.scrollPosition,G=O.threshold,Y=this.getPlaceholderBoundingBox(D),de=D.y+window.innerHeight,Ie=D.x,Ge=D.x+window.innerWidth,Ye=D.y;return Boolean(Ye-G<=Y.bottom&&de+G>=Y.top&&Ie-G<=Y.right&&Ge+G>=Y.left)}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var O=this,D=this.props,G=D.className,Y=D.height,de=D.placeholder,Ie=D.style,Ge=D.width;if(de&&typeof de.type!="function")return s().cloneElement(de,{ref:function($e){return O.placeholder=$e}});var Ye=function($e){for(var Nt=1;Nt<arguments.length;Nt++){var lt=arguments[Nt]!=null?arguments[Nt]:{};Nt%2?h(Object(lt),!0).forEach(function(zt){d($e,zt,lt[zt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($e,Object.getOwnPropertyDescriptors(lt)):h(Object(lt)).forEach(function(zt){Object.defineProperty($e,zt,Object.getOwnPropertyDescriptor(lt,zt))})}return $e}({display:"inline-block"},Ie);return Ge!==void 0&&(Ye.width=Ge),Y!==void 0&&(Ye.height=Y),s().createElement("span",{className:G,ref:function($e){return O.placeholder=$e},style:Ye},de)}}])&&f(I.prototype,z),Pe}(s().Component);w.propTypes={onVisible:o.PropTypes.func.isRequired,className:o.PropTypes.string,height:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string]),placeholder:o.PropTypes.element,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,scrollPosition:o.PropTypes.shape({x:o.PropTypes.number.isRequired,y:o.PropTypes.number.isRequired}),width:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string])},w.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const _=w;var x=n(296),k=n.n(x),E=n(96),T=n.n(E),N=function(A){var I=getComputedStyle(A,null);return I.getPropertyValue("overflow")+I.getPropertyValue("overflow-y")+I.getPropertyValue("overflow-x")};const P=function(A){if(!(A instanceof HTMLElement))return window;for(var I=A;I&&I instanceof HTMLElement;){if(/(scroll|auto)/.test(N(I)))return I;I=I.parentNode}return window};function U(A){return(U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(A)}var B=["delayMethod","delayTime"];function W(){return(W=Object.assign||function(A){for(var I=1;I<arguments.length;I++){var z=arguments[I];for(var F in z)Object.prototype.hasOwnProperty.call(z,F)&&(A[F]=z[F])}return A}).apply(this,arguments)}function re(A,I){for(var z=0;z<I.length;z++){var F=I[z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}function j(A,I){return(j=Object.setPrototypeOf||function(z,F){return z.__proto__=F,z})(A,I)}function te(A,I){if(I&&(U(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ne(A)}function ne(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function R(A){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(A)}var H=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},q=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const ie=function(A){var I=function(z){(function(G,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(Y&&Y.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Y&&j(G,Y)})(D,z);var F,xt,hr,Pe,O=(hr=D,Pe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var G,Y=R(hr);if(Pe){var de=R(this).constructor;G=Reflect.construct(Y,arguments,de)}else G=Y.apply(this,arguments);return te(this,G)});function D(G){var Y;if(function(Ie,Ge){if(!(Ie instanceof Ge))throw new TypeError("Cannot call a class as a function")}(this,D),(Y=O.call(this,G)).useIntersectionObserver=G.useIntersectionObserver&&c(),Y.useIntersectionObserver)return te(Y);var de=Y.onChangeScroll.bind(ne(Y));return G.delayMethod==="debounce"?Y.delayedScroll=k()(de,G.delayTime):G.delayMethod==="throttle"&&(Y.delayedScroll=T()(de,G.delayTime)),Y.state={scrollPosition:{x:H(),y:q()}},Y.baseComponentRef=s().createRef(),Y}return F=D,(xt=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||P(l().findDOMNode(this.baseComponentRef.current))!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=P(l().findDOMNode(this.baseComponentRef.current)),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:H(),y:q()}})}},{key:"render",value:function(){var G=this.props,Y=(G.delayMethod,G.delayTime,function(Ie,Ge){if(Ie==null)return{};var Ye,$e,Nt=function(zt,ao){if(zt==null)return{};var ss,nu,p1={},m1=Object.keys(zt);for(nu=0;nu<m1.length;nu++)ss=m1[nu],ao.indexOf(ss)>=0||(p1[ss]=zt[ss]);return p1}(Ie,Ge);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(Ie);for($e=0;$e<lt.length;$e++)Ye=lt[$e],Ge.indexOf(Ye)>=0||Object.prototype.propertyIsEnumerable.call(Ie,Ye)&&(Nt[Ye]=Ie[Ye])}return Nt}(G,B)),de=this.useIntersectionObserver?null:this.state.scrollPosition;return s().createElement(A,W({forwardRef:this.baseComponentRef,scrollPosition:de},Y))}}])&&re(F.prototype,xt),D}(s().Component);return I.propTypes={delayMethod:o.PropTypes.oneOf(["debounce","throttle"]),delayTime:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool},I.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},I};function ae(A){return(ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(A)}function Ke(A,I){for(var z=0;z<I.length;z++){var F=I[z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}function ue(A,I){return(ue=Object.setPrototypeOf||function(z,F){return z.__proto__=F,z})(A,I)}function Te(A,I){if(I&&(ae(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}(A)}function Le(A){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(A)}var wn=function(A){(function(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&ue(O,D)})(Pe,A);var I,z,F,xt,hr=(F=Pe,xt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,D=Le(F);if(xt){var G=Le(this).constructor;O=Reflect.construct(D,arguments,G)}else O=D.apply(this,arguments);return Te(this,O)});function Pe(O){return function(D,G){if(!(D instanceof G))throw new TypeError("Cannot call a class as a function")}(this,Pe),hr.call(this,O)}return I=Pe,(z=[{key:"render",value:function(){return s().createElement(_,this.props)}}])&&Ke(I.prototype,z),Pe}(s().Component);const oo=ie(wn);function si(A){return(si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(A)}function ot(A,I){for(var z=0;z<I.length;z++){var F=I[z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}function an(A,I){return(an=Object.setPrototypeOf||function(z,F){return z.__proto__=F,z})(A,I)}function oi(A,I){if(I&&(si(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eu(A)}function eu(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function Ca(A){return(Ca=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(A)}var Ta=function(A){(function(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&an(O,D)})(Pe,A);var I,z,F,xt,hr=(F=Pe,xt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,D=Ca(F);if(xt){var G=Ca(this).constructor;O=Reflect.construct(D,arguments,G)}else O=D.apply(this,arguments);return oi(this,O)});function Pe(O){var D;(function(Ge,Ye){if(!(Ge instanceof Ye))throw new TypeError("Cannot call a class as a function")})(this,Pe),D=hr.call(this,O);var G=O.afterLoad,Y=O.beforeLoad,de=O.scrollPosition,Ie=O.visibleByDefault;return D.state={visible:Ie},Ie&&(Y(),G()),D.onVisible=D.onVisible.bind(eu(D)),D.isScrollTracked=Boolean(de&&Number.isFinite(de.x)&&de.x>=0&&Number.isFinite(de.y)&&de.y>=0),D}return I=Pe,(z=[{key:"componentDidUpdate",value:function(O,D){D.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var O=this.props,D=O.className,G=O.delayMethod,Y=O.delayTime,de=O.height,Ie=O.placeholder,Ge=O.scrollPosition,Ye=O.style,$e=O.threshold,Nt=O.useIntersectionObserver,lt=O.width;return this.isScrollTracked||Nt&&c()?s().createElement(_,{className:D,height:de,onVisible:this.onVisible,placeholder:Ie,scrollPosition:Ge,style:Ye,threshold:$e,useIntersectionObserver:Nt,width:lt}):s().createElement(oo,{className:D,delayMethod:G,delayTime:Y,height:de,onVisible:this.onVisible,placeholder:Ie,style:Ye,threshold:$e,width:lt})}}])&&ot(I.prototype,z),Pe}(s().Component);Ta.propTypes={afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool},Ta.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const tu=Ta;function Ia(A){return(Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(A)}var at=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function ur(A,I){var z=Object.keys(A);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(A);I&&(F=F.filter(function(xt){return Object.getOwnPropertyDescriptor(A,xt).enumerable})),z.push.apply(z,F)}return z}function d1(A){for(var I=1;I<arguments.length;I++){var z=arguments[I]!=null?arguments[I]:{};I%2?ur(Object(z),!0).forEach(function(F){zN(A,F,z[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(z)):ur(Object(z)).forEach(function(F){Object.defineProperty(A,F,Object.getOwnPropertyDescriptor(z,F))})}return A}function zN(A,I,z){return I in A?Object.defineProperty(A,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):A[I]=z,A}function tp(){return(tp=Object.assign||function(A){for(var I=1;I<arguments.length;I++){var z=arguments[I];for(var F in z)Object.prototype.hasOwnProperty.call(z,F)&&(A[F]=z[F])}return A}).apply(this,arguments)}function BN(A,I){for(var z=0;z<I.length;z++){var F=I[z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}function f1(A,I){return(f1=Object.setPrototypeOf||function(z,F){return z.__proto__=F,z})(A,I)}function UN(A,I){if(I&&(Ia(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}(A)}function np(A){return(np=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(A)}var rp=function(A){(function(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&f1(O,D)})(Pe,A);var I,z,F,xt,hr=(F=Pe,xt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,D=np(F);if(xt){var G=np(this).constructor;O=Reflect.construct(D,arguments,G)}else O=D.apply(this,arguments);return UN(this,O)});function Pe(O){var D;return function(G,Y){if(!(G instanceof Y))throw new TypeError("Cannot call a class as a function")}(this,Pe),(D=hr.call(this,O)).state={loaded:!1},D}return I=Pe,(z=[{key:"onImageLoad",value:function(){var O=this;return this.state.loaded?null:function(){O.props.afterLoad(),O.setState({loaded:!0})}}},{key:"getImg",value:function(){var O=this.props,D=(O.afterLoad,O.beforeLoad,O.delayMethod,O.delayTime,O.effect,O.placeholder,O.placeholderSrc,O.scrollPosition,O.threshold,O.useIntersectionObserver,O.visibleByDefault,O.wrapperClassName,O.wrapperProps,function(G,Y){if(G==null)return{};var de,Ie,Ge=function($e,Nt){if($e==null)return{};var lt,zt,ao={},ss=Object.keys($e);for(zt=0;zt<ss.length;zt++)lt=ss[zt],Nt.indexOf(lt)>=0||(ao[lt]=$e[lt]);return ao}(G,Y);if(Object.getOwnPropertySymbols){var Ye=Object.getOwnPropertySymbols(G);for(Ie=0;Ie<Ye.length;Ie++)de=Ye[Ie],Y.indexOf(de)>=0||Object.prototype.propertyIsEnumerable.call(G,de)&&(Ge[de]=G[de])}return Ge}(O,at));return s().createElement("img",tp({onLoad:this.onImageLoad()},D))}},{key:"getLazyLoadImage",value:function(){var O=this.props,D=O.beforeLoad,G=O.className,Y=O.delayMethod,de=O.delayTime,Ie=O.height,Ge=O.placeholder,Ye=O.scrollPosition,$e=O.style,Nt=O.threshold,lt=O.useIntersectionObserver,zt=O.visibleByDefault,ao=O.width;return s().createElement(tu,{beforeLoad:D,className:G,delayMethod:Y,delayTime:de,height:Ie,placeholder:Ge,scrollPosition:Ye,style:$e,threshold:Nt,useIntersectionObserver:lt,visibleByDefault:zt,width:ao},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(O){var D=this.props,G=D.effect,Y=D.height,de=D.placeholderSrc,Ie=D.width,Ge=D.wrapperClassName,Ye=D.wrapperProps,$e=this.state.loaded,Nt=$e?" lazy-load-image-loaded":"",lt=$e||!de?{}:{backgroundImage:"url(".concat(de,")"),backgroundSize:"100% 100%"};return s().createElement("span",tp({className:Ge+" lazy-load-image-background "+G+Nt,style:d1(d1({},lt),{},{color:"transparent",display:"inline-block",height:Y,width:Ie})},Ye),O)}},{key:"render",value:function(){var O=this.props,D=O.effect,G=O.placeholderSrc,Y=O.visibleByDefault,de=O.wrapperClassName,Ie=O.wrapperProps,Ge=this.getLazyLoadImage();return(D||G)&&!Y||de||Ie?this.getWrappedLazyLoadImage(Ge):Ge}}])&&BN(I.prototype,z),Pe}(s().Component);rp.propTypes={afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,delayMethod:o.PropTypes.string,delayTime:o.PropTypes.number,effect:o.PropTypes.string,placeholderSrc:o.PropTypes.string,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool,wrapperClassName:o.PropTypes.string,wrapperProps:o.PropTypes.object},rp.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const jN=rp})(),ts.exports=r})();var vk={exports:{}},wk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yo=C.exports;function DA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var MA=typeof Object.is=="function"?Object.is:DA,LA=Yo.useState,$A=Yo.useEffect,FA=Yo.useLayoutEffect,zA=Yo.useDebugValue;function BA(t,e){var n=e(),r=LA({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return FA(function(){i.value=n,i.getSnapshot=e,Ap(i)&&s({inst:i})},[t,n,e]),$A(function(){return Ap(i)&&s({inst:i}),t(function(){Ap(i)&&s({inst:i})})},[t]),zA(n),n}function Ap(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!MA(t,n)}catch{return!0}}function UA(t,e){return e()}var jA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?UA:BA;wk.useSyncExternalStore=Yo.useSyncExternalStore!==void 0?Yo.useSyncExternalStore:jA;(function(t){t.exports=wk})(vk);var bk={exports:{}},_k={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd=C.exports,VA=vk.exports;function HA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var WA=typeof Object.is=="function"?Object.is:HA,qA=VA.useSyncExternalStore,KA=qd.useRef,GA=qd.useEffect,YA=qd.useMemo,QA=qd.useDebugValue;_k.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=KA(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=YA(function(){function l(f){if(!c){if(c=!0,u=f,f=r(f),i!==void 0&&o.hasValue){var m=o.value;if(i(m,f))return h=m}return h=f}if(m=h,WA(u,f))return m;var y=r(f);return i!==void 0&&i(m,y)?m:(u=f,h=y)}var c=!1,u,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var a=qA(t,s[0],s[1]);return GA(function(){o.hasValue=!0,o.value=a},[a]),QA(a),a};(function(t){t.exports=_k})(bk);function XA(t){t()}let xk=XA;const JA=t=>xk=t,ZA=()=>xk,Hi=C.exports.createContext(null);function Sk(){return C.exports.useContext(Hi)}const eD=()=>{throw new Error("uSES not initialized!")};let Ek=eD;const tD=t=>{Ek=t},nD=(t,e)=>t===e;function rD(t=Hi){const e=t===Hi?Sk:()=>C.exports.useContext(t);return function(r,i=nD){const{store:s,subscription:o,getServerState:a}=e(),l=Ek(o.addNestedSub,s.getState,a||s.getState,r,i);return C.exports.useDebugValue(l),l}}const De=rD();var kk={exports:{}},ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var It=typeof Symbol=="function"&&Symbol.for,m0=It?Symbol.for("react.element"):60103,g0=It?Symbol.for("react.portal"):60106,Kd=It?Symbol.for("react.fragment"):60107,Gd=It?Symbol.for("react.strict_mode"):60108,Yd=It?Symbol.for("react.profiler"):60114,Qd=It?Symbol.for("react.provider"):60109,Xd=It?Symbol.for("react.context"):60110,y0=It?Symbol.for("react.async_mode"):60111,Jd=It?Symbol.for("react.concurrent_mode"):60111,Zd=It?Symbol.for("react.forward_ref"):60112,ef=It?Symbol.for("react.suspense"):60113,iD=It?Symbol.for("react.suspense_list"):60120,tf=It?Symbol.for("react.memo"):60115,nf=It?Symbol.for("react.lazy"):60116,sD=It?Symbol.for("react.block"):60121,oD=It?Symbol.for("react.fundamental"):60117,aD=It?Symbol.for("react.responder"):60118,lD=It?Symbol.for("react.scope"):60119;function Pn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case m0:switch(t=t.type,t){case y0:case Jd:case Kd:case Yd:case Gd:case ef:return t;default:switch(t=t&&t.$$typeof,t){case Xd:case Zd:case nf:case tf:case Qd:return t;default:return e}}case g0:return e}}}function Ck(t){return Pn(t)===Jd}ke.AsyncMode=y0;ke.ConcurrentMode=Jd;ke.ContextConsumer=Xd;ke.ContextProvider=Qd;ke.Element=m0;ke.ForwardRef=Zd;ke.Fragment=Kd;ke.Lazy=nf;ke.Memo=tf;ke.Portal=g0;ke.Profiler=Yd;ke.StrictMode=Gd;ke.Suspense=ef;ke.isAsyncMode=function(t){return Ck(t)||Pn(t)===y0};ke.isConcurrentMode=Ck;ke.isContextConsumer=function(t){return Pn(t)===Xd};ke.isContextProvider=function(t){return Pn(t)===Qd};ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===m0};ke.isForwardRef=function(t){return Pn(t)===Zd};ke.isFragment=function(t){return Pn(t)===Kd};ke.isLazy=function(t){return Pn(t)===nf};ke.isMemo=function(t){return Pn(t)===tf};ke.isPortal=function(t){return Pn(t)===g0};ke.isProfiler=function(t){return Pn(t)===Yd};ke.isStrictMode=function(t){return Pn(t)===Gd};ke.isSuspense=function(t){return Pn(t)===ef};ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kd||t===Jd||t===Yd||t===Gd||t===ef||t===iD||typeof t=="object"&&t!==null&&(t.$$typeof===nf||t.$$typeof===tf||t.$$typeof===Qd||t.$$typeof===Xd||t.$$typeof===Zd||t.$$typeof===oD||t.$$typeof===aD||t.$$typeof===lD||t.$$typeof===sD)};ke.typeOf=Pn;(function(t){t.exports=ke})(kk);var Tk=kk.exports,cD={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},uD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ik={};Ik[Tk.ForwardRef]=cD;Ik[Tk.Memo]=uD;var hD={exports:{}},Ce={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0=Symbol.for("react.element"),w0=Symbol.for("react.portal"),rf=Symbol.for("react.fragment"),sf=Symbol.for("react.strict_mode"),of=Symbol.for("react.profiler"),af=Symbol.for("react.provider"),lf=Symbol.for("react.context"),dD=Symbol.for("react.server_context"),cf=Symbol.for("react.forward_ref"),uf=Symbol.for("react.suspense"),hf=Symbol.for("react.suspense_list"),df=Symbol.for("react.memo"),ff=Symbol.for("react.lazy"),fD=Symbol.for("react.offscreen"),Nk;Nk=Symbol.for("react.module.reference");function qn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case v0:switch(t=t.type,t){case rf:case of:case sf:case uf:case hf:return t;default:switch(t=t&&t.$$typeof,t){case dD:case lf:case cf:case ff:case df:case af:return t;default:return e}}case w0:return e}}}Ce.ContextConsumer=lf;Ce.ContextProvider=af;Ce.Element=v0;Ce.ForwardRef=cf;Ce.Fragment=rf;Ce.Lazy=ff;Ce.Memo=df;Ce.Portal=w0;Ce.Profiler=of;Ce.StrictMode=sf;Ce.Suspense=uf;Ce.SuspenseList=hf;Ce.isAsyncMode=function(){return!1};Ce.isConcurrentMode=function(){return!1};Ce.isContextConsumer=function(t){return qn(t)===lf};Ce.isContextProvider=function(t){return qn(t)===af};Ce.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===v0};Ce.isForwardRef=function(t){return qn(t)===cf};Ce.isFragment=function(t){return qn(t)===rf};Ce.isLazy=function(t){return qn(t)===ff};Ce.isMemo=function(t){return qn(t)===df};Ce.isPortal=function(t){return qn(t)===w0};Ce.isProfiler=function(t){return qn(t)===of};Ce.isStrictMode=function(t){return qn(t)===sf};Ce.isSuspense=function(t){return qn(t)===uf};Ce.isSuspenseList=function(t){return qn(t)===hf};Ce.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rf||t===of||t===sf||t===uf||t===hf||t===fD||typeof t=="object"&&t!==null&&(t.$$typeof===ff||t.$$typeof===df||t.$$typeof===af||t.$$typeof===lf||t.$$typeof===cf||t.$$typeof===Nk||t.getModuleId!==void 0)};Ce.typeOf=qn;(function(t){t.exports=Ce})(hD);function pD(){const t=ZA();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const $w={notify(){},get:()=>[]};function mD(t,e){let n,r=$w;function i(h){return l(),r.subscribe(h)}function s(){r.notify()}function o(){u.onStateChange&&u.onStateChange()}function a(){return Boolean(n)}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=pD())}function c(){n&&(n(),n=void 0,r.clear(),r=$w)}const u={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:()=>r};return u}const gD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yD=gD?C.exports.useLayoutEffect:C.exports.useEffect;function vD({store:t,context:e,children:n,serverState:r}){const i=C.exports.useMemo(()=>{const a=mD(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=C.exports.useMemo(()=>t.getState(),[t]);return yD(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]),p((e||Hi).Provider,{value:i,children:n})}function Pk(t=Hi){const e=t===Hi?Sk:()=>C.exports.useContext(t);return function(){const{store:r}=e();return r}}const wD=Pk();function bD(t=Hi){const e=t===Hi?wD:Pk(t);return function(){return e().dispatch}}const vn=bD();tD(bk.exports.useSyncExternalStoreWithSelector);JA(mc.exports.unstable_batchedUpdates);function tr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Wi(t){return!!t&&!!t[Ue]}function Xr(t){return!!t&&(function(e){if(!e||typeof e!="object")return!1;var n=Object.getPrototypeOf(e);if(n===null)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===ND}(t)||Array.isArray(t)||!!t[Hw]||!!t.constructor[Hw]||b0(t)||_0(t))}function Bs(t,e,n){n===void 0&&(n=!1),ha(t)===0?(n?Object.keys:Mo)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function ha(t){var e=t[Ue];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:b0(t)?2:_0(t)?3:0}function Do(t,e){return ha(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function _D(t,e){return ha(t)===2?t.get(e):t[e]}function Ok(t,e,n){var r=ha(t);r===2?t.set(e,n):r===3?(t.delete(e),t.add(n)):t[e]=n}function Rk(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function b0(t){return TD&&t instanceof Map}function _0(t){return ID&&t instanceof Set}function us(t){return t.o||t.t}function x0(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Dk(t);delete e[Ue];for(var n=Mo(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function S0(t,e){return e===void 0&&(e=!1),E0(t)||Wi(t)||!Xr(t)||(ha(t)>1&&(t.set=t.add=t.clear=t.delete=xD),Object.freeze(t),e&&Bs(t,function(n,r){return S0(r,!0)},!0)),t}function xD(){tr(2)}function E0(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function _r(t){var e=Eg[t];return e||tr(18,t),e}function SD(t,e){Eg[t]||(Eg[t]=e)}function _g(){return Vl}function Dp(t,e){e&&(_r("Patches"),t.u=[],t.s=[],t.v=e)}function $h(t){xg(t),t.p.forEach(ED),t.p=null}function xg(t){t===Vl&&(Vl=t.l)}function Fw(t){return Vl={p:[],l:Vl,h:t,m:!0,_:0}}function ED(t){var e=t[Ue];e.i===0||e.i===1?e.j():e.O=!0}function Mp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||_r("ES5").S(e,t,r),r?(n[Ue].P&&($h(e),tr(4)),Xr(t)&&(t=Fh(e,t),e.l||zh(e,t)),e.u&&_r("Patches").M(n[Ue].t,t,e.u,e.s)):t=Fh(e,n,[]),$h(e),e.u&&e.v(e.u,e.s),t!==Ak?t:void 0}function Fh(t,e,n){if(E0(e))return e;var r=e[Ue];if(!r)return Bs(e,function(s,o){return zw(t,r,e,s,o,n)},!0),e;if(r.A!==t)return e;if(!r.P)return zh(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=x0(r.k):r.o;Bs(r.i===3?new Set(i):i,function(s,o){return zw(t,r,i,s,o,n)}),zh(t,i,!1),n&&t.u&&_r("Patches").R(r,n,t.u,t.s)}return r.o}function zw(t,e,n,r,i,s){if(Wi(i)){var o=Fh(t,i,s&&e&&e.i!==3&&!Do(e.D,r)?s.concat(r):void 0);if(Ok(n,r,o),!Wi(o))return;t.m=!1}if(Xr(i)&&!E0(i)){if(!t.h.F&&t._<1)return;Fh(t,i),e&&e.A.l||zh(t,i)}}function zh(t,e,n){n===void 0&&(n=!1),t.h.F&&t.m&&S0(e,n)}function Lp(t,e){var n=t[Ue];return(n?us(n):t)[e]}function Bw(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function pi(t){t.P||(t.P=!0,t.l&&pi(t.l))}function $p(t){t.o||(t.o=x0(t.t))}function Sg(t,e,n){var r=b0(e)?_r("MapSet").N(e,n):_0(e)?_r("MapSet").T(e,n):t.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:_g(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,c=Hl;o&&(l=[a],c=Qa);var u=Proxy.revocable(l,c),h=u.revoke,d=u.proxy;return a.k=d,a.j=h,d}(e,n):_r("ES5").J(e,n);return(n?n.A:_g()).p.push(r),r}function kD(t){return Wi(t)||tr(22,t),function e(n){if(!Xr(n))return n;var r,i=n[Ue],s=ha(n);if(i){if(!i.P&&(i.i<4||!_r("ES5").K(i)))return i.t;i.I=!0,r=Uw(n,s),i.I=!1}else r=Uw(n,s);return Bs(r,function(o,a){i&&_D(i.t,o)===a||Ok(r,o,e(a))}),s===3?new Set(r):r}(t)}function Uw(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return x0(t)}function CD(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Ue];return Hl.get(l,s)},set:function(l){var c=this[Ue];Hl.set(c,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Ue];if(!a.P)switch(a.i){case 5:r(a)&&pi(a);break;case 4:n(a)&&pi(a)}}}function n(s){for(var o=s.t,a=s.k,l=Mo(a),c=l.length-1;c>=0;c--){var u=l[c];if(u!==Ue){var h=o[u];if(h===void 0&&!Do(o,u))return!0;var d=a[u],f=d&&d[Ue];if(f?f.t!==h:!Rk(d,h))return!0}}var m=!!o[Ue];return l.length!==Mo(o).length+(m?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};SD("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(u,h){if(u){for(var d=Array(h.length),f=0;f<h.length;f++)Object.defineProperty(d,""+f,t(f,!0));return d}var m=Dk(h);delete m[Ue];for(var y=Mo(m),b=0;b<y.length;b++){var g=y[b];m[g]=t(g,u||!!m[g].enumerable)}return Object.create(Object.getPrototypeOf(h),m)}(a,s),c={i:a?5:4,A:o?o.A:_g(),P:!1,I:!1,D:{},l:o,t:s,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Ue,{value:c,writable:!0}),l},S:function(s,o,a){a?Wi(o)&&o[Ue].A===s&&e(s.p):(s.u&&function l(c){if(c&&typeof c=="object"){var u=c[Ue];if(u){var h=u.t,d=u.k,f=u.D,m=u.i;if(m===4)Bs(d,function(w){w!==Ue&&(h[w]!==void 0||Do(h,w)?f[w]||l(d[w]):(f[w]=!0,pi(u)))}),Bs(h,function(w){d[w]!==void 0||Do(d,w)||(f[w]=!1,pi(u))});else if(m===5){if(r(u)&&(pi(u),f.length=!0),d.length<h.length)for(var y=d.length;y<h.length;y++)f[y]=!1;else for(var b=h.length;b<d.length;b++)f[b]=!0;for(var g=Math.min(d.length,h.length),v=0;v<g;v++)d.hasOwnProperty(v)||(f[v]=!0),f[v]===void 0&&l(d[v])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var jw,Vl,k0=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",TD=typeof Map<"u",ID=typeof Set<"u",Vw=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Ak=k0?Symbol.for("immer-nothing"):((jw={})["immer-nothing"]=!0,jw),Hw=k0?Symbol.for("immer-draftable"):"__$immer_draftable",Ue=k0?Symbol.for("immer-state"):"__$immer_state",ND=""+Object.prototype.constructor,Mo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Dk=Object.getOwnPropertyDescriptors||function(t){var e={};return Mo(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Eg={},Hl={get:function(t,e){if(e===Ue)return t;var n=us(t);if(!Do(n,e))return function(i,s,o){var a,l=Bw(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Xr(r)?r:r===Lp(t.t,e)?($p(t),t.o[e]=Sg(t.A.h,r,t)):r},has:function(t,e){return e in us(t)},ownKeys:function(t){return Reflect.ownKeys(us(t))},set:function(t,e,n){var r=Bw(us(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Lp(us(t),e),s=i==null?void 0:i[Ue];if(s&&s.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(Rk(n,i)&&(n!==void 0||Do(t.t,e)))return!0;$p(t),pi(t)}return t.o[e]===n&&typeof n!="number"&&(n!==void 0||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return Lp(t.t,e)!==void 0||e in t.t?(t.D[e]=!1,$p(t),pi(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=us(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){tr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){tr(12)}},Qa={};Bs(Hl,function(t,e){Qa[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Qa.deleteProperty=function(t,e){return Qa.set.call(this,t,e,void 0)},Qa.set=function(t,e,n){return Hl.set.call(this,t[0],e,n,t[0])};var PD=function(){function t(n){var r=this;this.g=Vw,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(y){var b=this;y===void 0&&(y=a);for(var g=arguments.length,v=Array(g>1?g-1:0),w=1;w<g;w++)v[w-1]=arguments[w];return l.produce(y,function(_){var x;return(x=s).call.apply(x,[b,_].concat(v))})}}var c;if(typeof s!="function"&&tr(6),o!==void 0&&typeof o!="function"&&tr(7),Xr(i)){var u=Fw(r),h=Sg(r,i,void 0),d=!0;try{c=s(h),d=!1}finally{d?$h(u):xg(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(y){return Dp(u,o),Mp(y,u)},function(y){throw $h(u),y}):(Dp(u,o),Mp(c,u))}if(!i||typeof i!="object"){if((c=s(i))===void 0&&(c=i),c===Ak&&(c=void 0),r.F&&S0(c,!0),o){var f=[],m=[];_r("Patches").M(i,c,f,m),o(f,m)}return c}tr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(c){for(var u=arguments.length,h=Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];return r.produceWithPatches(c,function(f){return i.apply(void 0,[f].concat(h))})};var o,a,l=r.produce(i,s,function(c,u){o=c,a=u});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Xr(n)||tr(8),Wi(n)&&(n=kD(n));var r=Fw(this),i=Sg(this,n,void 0);return i[Ue].C=!0,xg(r),i},e.finishDraft=function(n,r){var i=n&&n[Ue],s=i.A;return Dp(s,r),Mp(void 0,s)},e.setAutoFreeze=function(n){this.F=n},e.setUseProxies=function(n){n&&!Vw&&tr(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=_r("Patches").$;return Wi(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Cn=new PD,Mk=Cn.produce;Cn.produceWithPatches.bind(Cn);Cn.setAutoFreeze.bind(Cn);Cn.setUseProxies.bind(Cn);Cn.applyPatches.bind(Cn);Cn.createDraft.bind(Cn);Cn.finishDraft.bind(Cn);function OD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ww(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ww(Object(n),!0).forEach(function(r){OD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ww(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Kw=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Fp=function(){return Math.random().toString(36).substring(7).split("").join(".")},Bh={INIT:"@@redux/INIT"+Fp(),REPLACE:"@@redux/REPLACE"+Fp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Fp()}};function RD(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Lk(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(jt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(jt(1));return n(Lk)(t,e)}if(typeof t!="function")throw new Error(jt(2));var i=t,s=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function u(){if(l)throw new Error(jt(3));return s}function h(y){if(typeof y!="function")throw new Error(jt(4));if(l)throw new Error(jt(5));var b=!0;return c(),a.push(y),function(){if(!!b){if(l)throw new Error(jt(6));b=!1,c();var v=a.indexOf(y);a.splice(v,1),o=null}}}function d(y){if(!RD(y))throw new Error(jt(7));if(typeof y.type>"u")throw new Error(jt(8));if(l)throw new Error(jt(9));try{l=!0,s=i(s,y)}finally{l=!1}for(var b=o=a,g=0;g<b.length;g++){var v=b[g];v()}return y}function f(y){if(typeof y!="function")throw new Error(jt(10));i=y,d({type:Bh.REPLACE})}function m(){var y,b=h;return y={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(jt(11));function w(){v.next&&v.next(u())}w();var _=b(w);return{unsubscribe:_}}},y[Kw]=function(){return this},y}return d({type:Bh.INIT}),r={dispatch:d,subscribe:h,getState:u,replaceReducer:f},r[Kw]=m,r}function AD(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Bh.INIT});if(typeof r>"u")throw new Error(jt(12));if(typeof n(void 0,{type:Bh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(jt(13))})}function DD(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{AD(n)}catch(a){o=a}return function(l,c){if(l===void 0&&(l={}),o)throw o;for(var u=!1,h={},d=0;d<s.length;d++){var f=s[d],m=n[f],y=l[f],b=m(y,c);if(typeof b>"u")throw c&&c.type,new Error(jt(14));h[f]=b,u=u||b!==y}return u=u||s.length!==Object.keys(l).length,u?h:l}}function Uh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function MD(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(jt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Uh.apply(void 0,a)(i.dispatch),qw(qw({},i),{},{dispatch:s})}}}function $k(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var Fk=$k();Fk.withExtraArgument=$k;const Gw=Fk;var LD=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();globalThis&&globalThis.__generator;var jh=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},$D=Object.defineProperty,Yw=Object.getOwnPropertySymbols,FD=Object.prototype.hasOwnProperty,zD=Object.prototype.propertyIsEnumerable,Qw=function(t,e,n){return e in t?$D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Wl=function(t,e){for(var n in e||(e={}))FD.call(e,n)&&Qw(t,n,e[n]);if(Yw)for(var r=0,i=Yw(e);r<i.length;r++){var n=i[r];zD.call(e,n)&&Qw(t,n,e[n])}return t},BD=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Uh:Uh.apply(null,arguments)};function UD(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var jD=function(t){LD(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,jh([void 0],n[0].concat(this)))):new(e.bind.apply(e,jh([void 0],n.concat(this))))},e}(Array);function kg(t){return Xr(t)?Mk(t,function(){}):t}function VD(t){return typeof t=="boolean"}function HD(){return function(e){return WD(e)}}function WD(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new jD;return n&&(VD(n)?r.push(Gw):r.push(Gw.withExtraArgument(n.extraArgument))),r}var qD=!0;function KD(t){var e=HD(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,c=n.preloadedState,u=c===void 0?void 0:c,h=n.enhancers,d=h===void 0?void 0:h,f;if(typeof i=="function")f=i;else if(UD(i))f=DD(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var m=o;typeof m=="function"&&(m=m(e));var y=MD.apply(void 0,m),b=Uh;l&&(b=BD(Wl({trace:!qD},typeof l=="object"&&l)));var g=[y];Array.isArray(d)?g=jh([y],d):typeof d=="function"&&(g=d(g));var v=b.apply(void 0,g);return Lk(f,u,v)}function ql(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Wl(Wl({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function zk(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function GD(t){return typeof t=="function"}function YD(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?zk(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(GD(t))l=function(){return kg(t())};else{var c=kg(t);l=function(){return c}}function u(h,d){h===void 0&&(h=l());var f=jh([s[d.type]],o.filter(function(m){var y=m.matcher;return y(d)}).map(function(m){var y=m.reducer;return y}));return f.filter(function(m){return!!m}).length===0&&(f=[a]),f.reduce(function(m,y){if(y)if(Wi(m)){var b=m,g=y(b,d);return g===void 0?m:g}else{if(Xr(m))return Mk(m,function(v){return y(v,d)});var g=y(m,d);if(g===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return m},h)}return u.getInitialState=l,u}function QD(t,e){return t+"/"+e}function da(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:kg(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(u){var h=r[u],d=QD(e,u),f,m;"reducer"in h?(f=h.reducer,m=h.prepare):f=h,s[u]=f,o[d]=f,a[u]=m?ql(d,m):ql(d)});function l(){var u=typeof t.extraReducers=="function"?zk(t.extraReducers):[t.extraReducers],h=u[0],d=h===void 0?{}:h,f=u[1],m=f===void 0?[]:f,y=u[2],b=y===void 0?void 0:y,g=Wl(Wl({},d),o);return YD(n,g,m,b)}var c;return{name:e,reducer:function(u,h){return c||(c=l()),c(u,h)},actions:a,caseReducers:s,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}var C0="listenerMiddleware";ql(C0+"/add");ql(C0+"/removeAll");ql(C0+"/remove");CD();const XD={cartItems:localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],totalQuantity:0,totalAmount:0},Bk=da({name:"cart",initialState:XD,reducers:{addToCart:(t,e)=>{const n=t.cartItems.findIndex(r=>r.id===e.payload.id);if(n>=0)t.cartItems[n].qty+=1,X.info(`${e.payload.name} quantity increased `);else{const r={...e.payload,qty:1};t.cartItems.push(r),X.info(`${e.payload.name} Added to cart`)}localStorage.setItem("cart",JSON.stringify(t.cartItems))},decreaseCart:(t,e)=>{const n=t.cartItems.findIndex(r=>r.id===e.payload.id);if(t.cartItems[n].qty>1)t.cartItems[n].qty-=1,X.error(`${e.payload.name} quantity Decreased `);else if(t.cartItems[n].qty===1){const r=t.cartItems.filter(i=>i.id!==e.payload.id);t.cartItems=r,X.error(`${e.payload.name} removed from Cart`)}localStorage.setItem("cart",JSON.stringify(t.cartItems))},removeCartItem:(t,e)=>{const n=t.cartItems.filter(r=>r.id!==e.payload.id);t.cartItems=n,localStorage.setItem("cart",JSON.stringify(t.cartItems)),X.error(`${e.payload.name} removed from Cart`)},clearCart:t=>{t.cartItems=[],localStorage.setItem("cart",JSON.stringify(t.cartItems)),X.info("All Items removed from Cart")},calculateSubtotal:t=>{const e=[];t.cartItems.map(r=>{const{price:i,qty:s}=r,o=i*s;e.push(o)});const n=e.reduce((r,i)=>r+i,0);t.totalAmount=n},calculateTotalQuantity:t=>{let e=[];t.cartItems.map(r=>{e.push(r.qty)});const n=e.reduce((r,i)=>r+i,0);t.totalQuantity=n}}}),{addToCart:pf,decreaseCart:Uk,removeCartItem:JD,clearCart:c9,calculateSubtotal:jk,calculateTotalQuantity:Vh}=Bk.actions,ZD=Bk.reducer,eM=({products:t})=>{const e=vn();if(!t.length)return p("h1",{className:"text-3xl font-bold",children:"No Products Found"});function n(r){e(pf(r))}return p("div",{className:" flex flex-wrap gap-y-5 py-10 ",children:t.map(r=>{const{id:i,imageURL:s,name:o,price:a}=r;return p("div",{className:"mx-auto ",children:p("div",{className:"group",children:S("div",{className:"card w-72 shadow-md relative hover:scale-105 duration-300 items-center",children:[p(ts.exports.LazyLoadImage,{src:s,alt:o,className:"h-60 object-contain rounded-md",placeholderSrc:"https://www.slntechnologies.com/wp-content/uploads/2017/08/ef3-placeholder-image.jpg",effect:"blur"}),p("div",{className:" absolute top-0 right-0",children:p("span",{className:"badge badge-primary",children:"Free Delivery"})}),S("div",{className:"my-4 items-center text-center",children:[p("h1",{className:"font-semibold py-2",children:o}),p("p",{className:"py-2 text-lg",children:Dt(a)})]}),p("div",{className:"absolute top-0 right-0 h-full w-full group-hover:bg-[rgba(0,0,0,0.5)] duration-300"}),p(_e,{to:`/product-details/${i}`,children:p("button",{className:"absolute top-1/3 left-[45%] hidden group-hover:block transition-all ease-in duration-300",children:p(AA,{size:32})})}),p("button",{className:"absolute bottom-1/3 left-[30%] btn btn-sm btn-primary hidden group-hover:block transition-all ease-in duration-300",onClick:()=>n(r),children:"Add to Cart"})]})})},i)})})},tM=it.memo(eM),nM=({products:t})=>{const e=vn();if(!t.length)return p("h1",{className:"text-3xl font-bold",children:"No Products Found"});function n(r){e(pf(r))}return p("div",{className:"w-full flex flex-col gap-y-5 py-10",children:t.map(r=>p("div",{className:"mx-auto ",children:S("div",{className:"flex flex-col xl:flex-row gap-x-5 relative shadow-md hover:scale-105 duration-300 p-2 items-center",children:[p(ts.exports.LazyLoadImage,{src:r.imageURL,alt:r.name,className:"block w-60 h-60 object-contain rounded-md",placeholderSrc:"https://www.slntechnologies.com/wp-content/uploads/2017/08/ef3-placeholder-image.jpg",effect:"blur"}),p("div",{className:" absolute top-0 right-0",children:p("span",{className:"badge ",children:"Free Delivery"})}),S("div",{className:"flex-1",children:[p("h1",{className:"font-semibold",children:r.brand}),p("h1",{className:"font-semibold pb-2",children:r.name}),p("p",{className:"py-2 text-xl font-semibold",children:Dt(r.price)}),S("p",{children:[r.description.slice(0,150),"..."]}),p("button",{onClick:()=>n(r),className:"btn btn-sm btn-outline mr-4",children:"Add to cart"}),p(_e,{to:`/product-details/${r.id}`,children:p("button",{className:"btn btn-sm btn-primary mt-2",children:"View Details"})})]})]})},r.id))})},rM=it.memo(nM);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Hk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),r.push(n[u],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw Error();const d=s<<2|a>>4;if(r.push(d),c!==64){const f=a<<4&240|c>>2;if(r.push(f),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},sM=function(t){const e=Vk(t);return Hk.encodeByteArray(e,!0)},Hh=function(t){return sM(t).replace(/\./g,"")},Wk=function(t){try{return Hk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function aM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cM(){const t=Xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uM(){return typeof indexedDB=="object"}function hM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function dM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=()=>dM().__FIREBASE_DEFAULTS__,pM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wk(t[1]);return e&&JSON.parse(e)},T0=()=>{try{return fM()||pM()||mM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qk=t=>{var e,n;return(n=(e=T0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Kk=t=>{const e=qk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gM=()=>{var t;return(t=T0())===null||t===void 0?void 0:t.config},Gk=t=>{var e;return(e=T0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Hh(JSON.stringify(n)),Hh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="FirebaseError";class Pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vM,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ec.prototype.create)}}class Ec{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?wM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Pr(i,a,r)}}function wM(t,e){return t.replace(bM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bM=/\{\$([^}]+)}/g;function _M(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Xw(s)&&Xw(o)){if(!Wh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Xw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ja(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xM(t,e){const n=new SM(t,e);return n.subscribe.bind(n)}class SM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zp),i.error===void 0&&(i.error=zp),i.complete===void 0&&(i.complete=zp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t){return t&&t._delegate?t._delegate:t}class qi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TM(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CM(t){return t===hs?void 0:t}function TM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const NM={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},PM=we.INFO,OM={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},RM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=OM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I0{constructor(e){this.name=e,this._logLevel=PM,this._logHandler=RM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const AM=(t,e)=>e.some(n=>t instanceof n);let Jw,Zw;function DM(){return Jw||(Jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MM(){return Zw||(Zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qk=new WeakMap,Cg=new WeakMap,Xk=new WeakMap,Bp=new WeakMap,N0=new WeakMap;function LM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($i(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Qk.set(n,t)}).catch(()=>{}),N0.set(e,t),e}function $M(t){if(Cg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cg.set(t,e)}let Tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FM(t){Tg=t(Tg)}function zM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Up(this),e,...n);return Xk.set(r,e.sort?e.sort():[e]),$i(r)}:MM().includes(t)?function(...e){return t.apply(Up(this),e),$i(Qk.get(this))}:function(...e){return $i(t.apply(Up(this),e))}}function BM(t){return typeof t=="function"?zM(t):(t instanceof IDBTransaction&&$M(t),AM(t,DM())?new Proxy(t,Tg):t)}function $i(t){if(t instanceof IDBRequest)return LM(t);if(Bp.has(t))return Bp.get(t);const e=BM(t);return e!==t&&(Bp.set(t,e),N0.set(e,t)),e}const Up=t=>N0.get(t);function UM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=$i(o);return r&&o.addEventListener("upgradeneeded",l=>{r($i(o.result),l.oldVersion,l.newVersion,$i(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const jM=["get","getKey","getAll","getAllKeys","count"],VM=["put","add","delete","clear"],jp=new Map;function eb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jp.get(e))return jp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=VM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return jp.set(e,s),s}FM(t=>({...t,get:(e,n,r)=>eb(e,n)||t.get(e,n,r),has:(e,n)=>!!eb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ig="@firebase/app",tb="0.8.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new I0("@firebase/app"),qM="@firebase/app-compat",KM="@firebase/analytics-compat",GM="@firebase/analytics",YM="@firebase/app-check-compat",QM="@firebase/app-check",XM="@firebase/auth",JM="@firebase/auth-compat",ZM="@firebase/database",eL="@firebase/database-compat",tL="@firebase/functions",nL="@firebase/functions-compat",rL="@firebase/installations",iL="@firebase/installations-compat",sL="@firebase/messaging",oL="@firebase/messaging-compat",aL="@firebase/performance",lL="@firebase/performance-compat",cL="@firebase/remote-config",uL="@firebase/remote-config-compat",hL="@firebase/storage",dL="@firebase/storage-compat",fL="@firebase/firestore",pL="@firebase/firestore-compat",mL="firebase",gL="9.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",yL={[Ig]:"fire-core",[qM]:"fire-core-compat",[GM]:"fire-analytics",[KM]:"fire-analytics-compat",[QM]:"fire-app-check",[YM]:"fire-app-check-compat",[XM]:"fire-auth",[JM]:"fire-auth-compat",[ZM]:"fire-rtdb",[eL]:"fire-rtdb-compat",[tL]:"fire-fn",[nL]:"fire-fn-compat",[rL]:"fire-iid",[iL]:"fire-iid-compat",[sL]:"fire-fcm",[oL]:"fire-fcm-compat",[aL]:"fire-perf",[lL]:"fire-perf-compat",[cL]:"fire-rc",[uL]:"fire-rc-compat",[hL]:"fire-gcs",[dL]:"fire-gcs-compat",[fL]:"fire-fst",[pL]:"fire-fst-compat","fire-js":"fire-js",[mL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,Pg=new Map;function vL(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function js(t){const e=t.name;if(Pg.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,t);for(const n of qh.values())vL(n,t);return!0}function mf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Fi=new Ec("app","Firebase",wL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=gL;function Jk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ng,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fi.create("bad-app-name",{appName:String(i)});if(n||(n=gM()),!n)throw Fi.create("no-options");const s=qh.get(i);if(s){if(Wh(n,s.options)&&Wh(r,s.config))return s;throw Fi.create("duplicate-app",{appName:i})}const o=new IM(i);for(const l of Pg.values())o.addComponent(l);const a=new bL(n,r,o);return qh.set(i,a),a}function P0(t=Ng){const e=qh.get(t);if(!e&&t===Ng)return Jk();if(!e)throw Fi.create("no-app",{appName:t});return e}function xr(t,e,n){var r;let i=(r=yL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(a.join(" "));return}js(new qi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L="firebase-heartbeat-database",xL=1,Kl="firebase-heartbeat-store";let Vp=null;function Zk(){return Vp||(Vp=UM(_L,xL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Kl)}}}).catch(t=>{throw Fi.create("idb-open",{originalErrorMessage:t.message})})),Vp}async function SL(t){var e;try{return(await Zk()).transaction(Kl).objectStore(Kl).get(eC(t))}catch(n){if(n instanceof Pr)Us.warn(n.message);else{const r=Fi.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});Us.warn(r.message)}}}async function nb(t,e){var n;try{const i=(await Zk()).transaction(Kl,"readwrite");return await i.objectStore(Kl).put(e,eC(t)),i.done}catch(r){if(r instanceof Pr)Us.warn(r.message);else{const i=Fi.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});Us.warn(i.message)}}}function eC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=1024,kL=30*24*60*60*1e3;class CL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rb();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=kL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rb(),{heartbeatsToSend:n,unsentEntries:r}=TL(this._heartbeatsCache.heartbeats),i=Hh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function rb(){return new Date().toISOString().substring(0,10)}function TL(t,e=EL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ib(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ib(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uM()?hM().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await SL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ib(t){return Hh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){js(new qi("platform-logger",e=>new HM(e),"PRIVATE")),js(new qi("heartbeat",e=>new CL(e),"PRIVATE")),xr(Ig,tb,t),xr(Ig,tb,"esm2017"),xr("fire-js","")}NL("");var PL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},K,O0=O0||{},se=PL||self;function Kh(){}function gf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Cc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function OL(t){return Object.prototype.hasOwnProperty.call(t,Hp)&&t[Hp]||(t[Hp]=++RL)}var Hp="closure_uid_"+(1e9*Math.random()>>>0),RL=0;function AL(t,e,n){return t.call.apply(t.bind,arguments)}function DL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Gt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Gt=AL:Gt=DL,Gt.apply(null,arguments)}function bu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ft(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ns(){this.s=this.s,this.o=this.o}var ML=0;ns.prototype.s=!1;ns.prototype.na=function(){!this.s&&(this.s=!0,this.M(),ML!=0)&&OL(this)};ns.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function R0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function sb(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(gf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Yt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Yt.prototype.h=function(){this.defaultPrevented=!0};var LL=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{se.addEventListener("test",Kh,e),se.removeEventListener("test",Kh,e)}catch{}return t}();function Gh(t){return/^[\s\xa0]*$/.test(t)}var ob=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Wp(t,e){return t<e?-1:t>e?1:0}function yf(){var t=se.navigator;return t&&(t=t.userAgent)?t:""}function gr(t){return yf().indexOf(t)!=-1}function A0(t){return A0[" "](t),t}A0[" "]=Kh;function $L(t){var e=BL;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var FL=gr("Opera"),Qo=gr("Trident")||gr("MSIE"),nC=gr("Edge"),Og=nC||Qo,rC=gr("Gecko")&&!(yf().toLowerCase().indexOf("webkit")!=-1&&!gr("Edge"))&&!(gr("Trident")||gr("MSIE"))&&!gr("Edge"),zL=yf().toLowerCase().indexOf("webkit")!=-1&&!gr("Edge");function iC(){var t=se.document;return t?t.documentMode:void 0}var Yh;e:{var qp="",Kp=function(){var t=yf();if(rC)return/rv:([^\);]+)(\)|;)/.exec(t);if(nC)return/Edge\/([\d\.]+)/.exec(t);if(Qo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(zL)return/WebKit\/(\S+)/.exec(t);if(FL)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Kp&&(qp=Kp?Kp[1]:""),Qo){var Gp=iC();if(Gp!=null&&Gp>parseFloat(qp)){Yh=String(Gp);break e}}Yh=qp}var BL={};function UL(){return $L(function(){let t=0;const e=ob(String(Yh)).split("."),n=ob("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Wp(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Wp(i[2].length==0,s[2].length==0)||Wp(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Rg;if(se.document&&Qo){var ab=iC();Rg=ab||parseInt(Yh,10)||void 0}else Rg=void 0;var jL=Rg;function Gl(t,e){if(Yt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(rC){e:{try{A0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:VL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Gl.X.h.call(this)}}Ft(Gl,Yt);var VL={2:"touch",3:"pen",4:"mouse"};Gl.prototype.h=function(){Gl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Tc="closure_listenable_"+(1e6*Math.random()|0),HL=0;function WL(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++HL,this.ba=this.ea=!1}function vf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function D0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function sC(t){const e={};for(const n in t)e[n]=t[n];return e}const lb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<lb.length;s++)n=lb[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wf(t){this.src=t,this.g={},this.h=0}wf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Dg(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new WL(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Ag(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=tC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(vf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Dg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var M0="closure_lm_"+(1e6*Math.random()|0),Yp={};function aC(t,e,n,r,i){if(r&&r.once)return cC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)aC(t,e[s],n,r,i);return null}return n=F0(n),t&&t[Tc]?t.N(e,n,Cc(r)?!!r.capture:!!r,i):lC(t,e,n,!1,r,i)}function lC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Cc(i)?!!i.capture:!!i,a=$0(t);if(a||(t[M0]=a=new wf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=qL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)LL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function qL(){function t(n){return e.call(t.src,t.listener,n)}const e=KL;return t}function cC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)cC(t,e[s],n,r,i);return null}return n=F0(n),t&&t[Tc]?t.O(e,n,Cc(r)?!!r.capture:!!r,i):lC(t,e,n,!0,r,i)}function uC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)uC(t,e[s],n,r,i);else r=Cc(r)?!!r.capture:!!r,n=F0(n),t&&t[Tc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Dg(s,n,r,i),-1<n&&(vf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=$0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Dg(e,n,r,i)),(n=-1<t?e[t]:null)&&L0(n))}function L0(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Tc])Ag(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$0(e))?(Ag(n,t),n.h==0&&(n.src=null,e[M0]=null)):vf(t)}}}function hC(t){return t in Yp?Yp[t]:Yp[t]="on"+t}function KL(t,e){if(t.ba)t=!0;else{e=new Gl(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&L0(t),t=n.call(r,e)}return t}function $0(t){return t=t[M0],t instanceof wf?t:null}var Qp="__closure_events_fn_"+(1e9*Math.random()>>>0);function F0(t){return typeof t=="function"?t:(t[Qp]||(t[Qp]=function(e){return t.handleEvent(e)}),t[Qp])}function Tt(){ns.call(this),this.i=new wf(this),this.P=this,this.I=null}Ft(Tt,ns);Tt.prototype[Tc]=!0;Tt.prototype.removeEventListener=function(t,e,n,r){uC(this,t,e,n,r)};function Mt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Yt(e,t);else if(e instanceof Yt)e.target=e.target||t;else{var i=e;e=new Yt(r,t),oC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=_u(o,r,!0,e)&&i}if(o=e.g=t,i=_u(o,r,!0,e)&&i,i=_u(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=_u(o,r,!1,e)&&i}Tt.prototype.M=function(){if(Tt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vf(n[r]);delete t.g[e],t.h--}}this.I=null};Tt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Tt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function _u(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Ag(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var z0=se.JSON.stringify;function GL(){var t=pC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class YL{constructor(){this.h=this.g=null}add(e,n){const r=dC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var dC=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new QL,t=>t.reset());class QL{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function XL(t){se.setTimeout(()=>{throw t},0)}function fC(t,e){Mg||JL(),Lg||(Mg(),Lg=!0),pC.add(t,e)}var Mg;function JL(){var t=se.Promise.resolve(void 0);Mg=function(){t.then(ZL)}}var Lg=!1,pC=new YL;function ZL(){for(var t;t=GL();){try{t.h.call(t.g)}catch(n){XL(n)}var e=dC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Lg=!1}function bf(t,e){Tt.call(this),this.h=t||1,this.g=e||se,this.j=Gt(this.lb,this),this.l=Date.now()}Ft(bf,Tt);K=bf.prototype;K.ca=!1;K.R=null;K.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Mt(this,"tick"),this.ca&&(B0(this),this.start()))}};K.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function B0(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}K.M=function(){bf.X.M.call(this),B0(this),delete this.g};function U0(t,e,n){if(typeof t=="function")n&&(t=Gt(t,n));else if(t&&typeof t.handleEvent=="function")t=Gt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:se.setTimeout(t,e||0)}function mC(t){t.g=U0(()=>{t.g=null,t.i&&(t.i=!1,mC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class e4 extends ns{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mC(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yl(t){ns.call(this),this.h=t,this.g={}}Ft(Yl,ns);var cb=[];function gC(t,e,n,r){Array.isArray(n)||(n&&(cb[0]=n.toString()),n=cb);for(var i=0;i<n.length;i++){var s=aC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function yC(t){D0(t.g,function(e,n){this.g.hasOwnProperty(n)&&L0(e)},t),t.g={}}Yl.prototype.M=function(){Yl.X.M.call(this),yC(this)};Yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function _f(){this.g=!0}_f.prototype.Aa=function(){this.g=!1};function t4(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function n4(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Co(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+i4(t,n)+(r?" "+r:"")})}function r4(t,e){t.info(function(){return"TIMEOUT: "+e})}_f.prototype.info=function(){};function i4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return z0(n)}catch{return e}}var eo={},ub=null;function xf(){return ub=ub||new Tt}eo.Pa="serverreachability";function vC(t){Yt.call(this,eo.Pa,t)}Ft(vC,Yt);function Ql(t){const e=xf();Mt(e,new vC(e))}eo.STAT_EVENT="statevent";function wC(t,e){Yt.call(this,eo.STAT_EVENT,t),this.stat=e}Ft(wC,Yt);function nn(t){const e=xf();Mt(e,new wC(e,t))}eo.Qa="timingevent";function bC(t,e){Yt.call(this,eo.Qa,t),this.size=e}Ft(bC,Yt);function Ic(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){t()},e)}var Sf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},_C={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function j0(){}j0.prototype.h=null;function hb(t){return t.h||(t.h=t.i())}function xC(){}var Nc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function V0(){Yt.call(this,"d")}Ft(V0,Yt);function H0(){Yt.call(this,"c")}Ft(H0,Yt);var $g;function Ef(){}Ft(Ef,j0);Ef.prototype.g=function(){return new XMLHttpRequest};Ef.prototype.i=function(){return{}};$g=new Ef;function Pc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Yl(this),this.O=s4,t=Og?125:void 0,this.T=new bf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new SC}function SC(){this.i=null,this.g="",this.h=!1}var s4=45e3,Fg={},Qh={};K=Pc.prototype;K.setTimeout=function(t){this.O=t};function zg(t,e,n){t.K=1,t.v=Cf(Jr(e)),t.s=n,t.P=!0,EC(t,null)}function EC(t,e){t.F=Date.now(),Oc(t),t.A=Jr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),RC(n.i,"t",r),t.C=0,n=t.l.H,t.h=new SC,t.g=ZC(t.l,n?e:null,!t.s),0<t.N&&(t.L=new e4(Gt(t.La,t,t.g),t.N)),gC(t.S,t.g,"readystatechange",t.ib),e=t.H?sC(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Ql(),t4(t.j,t.u,t.A,t.m,t.U,t.s)}K.ib=function(t){t=t.target;const e=this.L;e&&Ur(t)==3?e.l():this.La(t)};K.La=function(t){try{if(t==this.g)e:{const u=Ur(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>u)&&(u!=3||Og||this.g&&(this.h.h||this.g.fa()||mb(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?Ql(3):Ql(2)),kf(this);var n=this.g.aa();this.Y=n;t:if(kC(this)){var r=mb(this.g);t="";var i=r.length,s=Ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vs(this),pl(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,n4(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gh(a)){var c=a;break t}}c=null}if(n=c)Co(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bg(this,n);else{this.i=!1,this.o=3,nn(12),vs(this),pl(this);break e}}this.P?(CC(this,u,o),Og&&this.i&&u==3&&(gC(this.S,this.T,"tick",this.hb),this.T.start())):(Co(this.j,this.m,o,null),Bg(this,o)),u==4&&vs(this),this.i&&!this.I&&(u==4?YC(this.l,this):(this.i=!1,Oc(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,nn(12)):(this.o=0,nn(13)),vs(this),pl(this)}}}catch{}finally{}};function kC(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function CC(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=o4(t,n),i==Qh){e==4&&(t.o=4,nn(14),r=!1),Co(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Fg){t.o=4,nn(15),Co(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Co(t.j,t.m,i,null),Bg(t,i);kC(t)&&i!=Qh&&i!=Fg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,nn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),X0(e),e.K=!0,nn(11))):(Co(t.j,t.m,n,"[Invalid Chunked Response]"),vs(t),pl(t))}K.hb=function(){if(this.g){var t=Ur(this.g),e=this.g.fa();this.C<e.length&&(kf(this),CC(this,t,e),this.i&&t!=4&&Oc(this))}};function o4(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Qh:(n=Number(e.substring(n,r)),isNaN(n)?Fg:(r+=1,r+n>e.length?Qh:(e=e.substr(r,n),t.C=r+n,e)))}K.cancel=function(){this.I=!0,vs(this)};function Oc(t){t.V=Date.now()+t.O,TC(t,t.O)}function TC(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ic(Gt(t.gb,t),e)}function kf(t){t.B&&(se.clearTimeout(t.B),t.B=null)}K.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(r4(this.j,this.A),this.K!=2&&(Ql(),nn(17)),vs(this),this.o=2,pl(this)):TC(this,this.V-t)};function pl(t){t.l.G==0||t.I||YC(t.l,t)}function vs(t){kf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,B0(t.T),yC(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Bg(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Ug(n.h,t))){if(!t.J&&Ug(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Zh(n),Nf(n);else break e;Q0(n),nn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Ic(Gt(n.cb,n),6e3));if(1>=MC(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else ws(n,11)}else if((t.J||n.g==t)&&Zh(n),!Gh(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.I=c[1],n.ka=c[2];const u=c[3];u!=null&&(n.ma=u,n.j.info("VER="+n.ma));const h=c[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.h;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(W0(s,s.h),s.h=null))}if(r.D){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.za=y,Ve(r.F,r.D,y))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=JC(r,r.H?r.ka:null,r.V),o.J){LC(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(kf(a),Oc(a)),r.g=o}else KC(r);0<n.i.length&&Pf(n)}else c[0]!="stop"&&c[0]!="close"||ws(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?ws(n,7):Y0(n):c[0]!="noop"&&n.l&&n.l.wa(c),n.A=0)}}Ql(4)}catch{}}function a4(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(gf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function l4(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(gf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function IC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(gf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=l4(t),r=a4(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var NC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function c4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ts(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ts){this.h=e!==void 0?e:t.h,Xh(this,t.j),this.s=t.s,this.g=t.g,Jh(this,t.m),this.l=t.l,e=t.i;var n=new Xl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),db(this,n),this.o=t.o}else t&&(n=String(t).match(NC))?(this.h=!!e,Xh(this,n[1]||"",!0),this.s=Za(n[2]||""),this.g=Za(n[3]||"",!0),Jh(this,n[4]),this.l=Za(n[5]||"",!0),db(this,n[6]||"",!0),this.o=Za(n[7]||"")):(this.h=!!e,this.i=new Xl(null,this.h))}Ts.prototype.toString=function(){var t=[],e=this.j;e&&t.push(el(e,fb,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(el(e,fb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(el(n,n.charAt(0)=="/"?d4:h4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",el(n,p4)),t.join("")};function Jr(t){return new Ts(t)}function Xh(t,e,n){t.j=n?Za(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Jh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function db(t,e,n){e instanceof Xl?(t.i=e,m4(t.i,t.h)):(n||(e=el(e,f4)),t.i=new Xl(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function Cf(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Za(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function el(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,u4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function u4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var fb=/[#\/\?@]/g,h4=/[#\?:]/g,d4=/[#\?]/g,f4=/[#\?@]/g,p4=/#/g;function Xl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rs(t){t.g||(t.g=new Map,t.h=0,t.i&&c4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}K=Xl.prototype;K.add=function(t,e){rs(this),this.i=null,t=pa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function PC(t,e){rs(t),e=pa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function OC(t,e){return rs(t),e=pa(t,e),t.g.has(e)}K.forEach=function(t,e){rs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};K.oa=function(){rs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};K.W=function(t){rs(this);let e=[];if(typeof t=="string")OC(this,t)&&(e=e.concat(this.g.get(pa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};K.set=function(t,e){return rs(this),this.i=null,t=pa(this,t),OC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};K.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function RC(t,e,n){PC(t,e),0<n.length&&(t.i=null,t.g.set(pa(t,e),R0(n)),t.h+=n.length)}K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function pa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function m4(t,e){e&&!t.j&&(rs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(PC(this,r),RC(this,i,n))},t)),t.j=e}var g4=class{constructor(t,e){this.h=t,this.g=e}};function AC(t){this.l=t||y4,se.PerformanceNavigationTiming?(t=se.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(se.g&&se.g.Ga&&se.g.Ga()&&se.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var y4=10;function DC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function MC(t){return t.h?1:t.g?t.g.size:0}function Ug(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function W0(t,e){t.g?t.g.add(e):t.h=e}function LC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}AC.prototype.cancel=function(){if(this.i=$C(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function $C(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return R0(t.i)}function q0(){}q0.prototype.stringify=function(t){return se.JSON.stringify(t,void 0)};q0.prototype.parse=function(t){return se.JSON.parse(t,void 0)};function v4(){this.g=new q0}function w4(t,e,n){const r=n||"";try{IC(t,function(i,s){let o=i;Cc(i)&&(o=z0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function b4(t,e){const n=new _f;if(se.Image){const r=new Image;r.onload=bu(xu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=bu(xu,n,r,"TestLoadImage: error",!1,e),r.onabort=bu(xu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=bu(xu,n,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function xu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Rc(t){this.l=t.ac||null,this.j=t.jb||!1}Ft(Rc,j0);Rc.prototype.g=function(){return new Tf(this.l,this.j)};Rc.prototype.i=function(t){return function(){return t}}({});function Tf(t,e){Tt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=K0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ft(Tf,Tt);var K0=0;K=Tf.prototype;K.open=function(t,e){if(this.readyState!=K0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jl(this)};K.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||se).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ac(this)),this.readyState=K0};K.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jl(this)),this.g&&(this.readyState=3,Jl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;FC(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function FC(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}K.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ac(this):Jl(this),this.readyState==3&&FC(this)}};K.Va=function(t){this.g&&(this.response=this.responseText=t,Ac(this))};K.Ua=function(t){this.g&&(this.response=t,Ac(this))};K.ga=function(){this.g&&Ac(this)};function Ac(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jl(t)}K.setRequestHeader=function(t,e){this.v.append(t,e)};K.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};K.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Jl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Tf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var _4=se.JSON.parse;function tt(t){Tt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zC,this.K=this.L=!1}Ft(tt,Tt);var zC="",x4=/^https?$/i,S4=["POST","PUT"];K=tt.prototype;K.Ka=function(t){this.L=t};K.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$g.g(),this.C=this.u?hb(this.u):hb($g),this.g.onreadystatechange=Gt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){pb(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=se.FormData&&t instanceof se.FormData,!(0<=tC(S4,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jC(this),0<this.B&&((this.K=E4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gt(this.qa,this)):this.A=U0(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){pb(this,s)}};function E4(t){return Qo&&UL()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}K.qa=function(){typeof O0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mt(this,"timeout"),this.abort(8))};function pb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,BC(t),If(t)}function BC(t){t.D||(t.D=!0,Mt(t,"complete"),Mt(t,"error"))}K.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Mt(this,"complete"),Mt(this,"abort"),If(this))};K.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),If(this,!0)),tt.X.M.call(this)};K.Ha=function(){this.s||(this.F||this.v||this.l?UC(this):this.fb())};K.fb=function(){UC(this)};function UC(t){if(t.h&&typeof O0<"u"&&(!t.C[1]||Ur(t)!=4||t.aa()!=2)){if(t.v&&Ur(t)==4)U0(t.Ha,0,t);else if(Mt(t,"readystatechange"),Ur(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(NC)[1]||null;if(!i&&se.self&&se.self.location){var s=se.self.location.protocol;i=s.substr(0,s.length-1)}r=!x4.test(i?i.toLowerCase():"")}n=r}if(n)Mt(t,"complete"),Mt(t,"success");else{t.m=6;try{var o=2<Ur(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",BC(t)}}finally{If(t)}}}}function If(t,e){if(t.g){jC(t);const n=t.g,r=t.C[0]?Kh:null;t.g=null,t.C=null,e||Mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function jC(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(se.clearTimeout(t.A),t.A=null)}function Ur(t){return t.g?t.g.readyState:0}K.aa=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}};K.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};K.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),_4(e)}};function mb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case zC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}K.Ea=function(){return this.m};K.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function VC(t){let e="";return D0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function G0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=VC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ve(t,e,n))}function Fa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function HC(t){this.Ca=0,this.i=[],this.j=new _f,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Fa("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Fa("baseRetryDelayMs",5e3,t),this.bb=Fa("retryDelaySeedMs",1e4,t),this.$a=Fa("forwardChannelMaxRetries",2,t),this.ta=Fa("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new AC(t&&t.concurrentRequestLimit),this.Fa=new v4,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}K=HC.prototype;K.ma=8;K.G=1;function Y0(t){if(WC(t),t.G==3){var e=t.U++,n=Jr(t.F);Ve(n,"SID",t.I),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),Dc(t,n),e=new Pc(t,t.j,e,void 0),e.K=2,e.v=Cf(Jr(n)),n=!1,se.navigator&&se.navigator.sendBeacon&&(n=se.navigator.sendBeacon(e.v.toString(),"")),!n&&se.Image&&(new Image().src=e.v,n=!0),n||(e.g=ZC(e.l,null),e.g.da(e.v)),e.F=Date.now(),Oc(e)}XC(t)}function Nf(t){t.g&&(X0(t),t.g.cancel(),t.g=null)}function WC(t){Nf(t),t.u&&(se.clearTimeout(t.u),t.u=null),Zh(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&se.clearTimeout(t.m),t.m=null)}function Pf(t){DC(t.h)||t.m||(t.m=!0,fC(t.Ja,t),t.C=0)}function k4(t,e){return MC(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Ic(Gt(t.Ja,t,e),QC(t,t.C)),t.C++,!0)}K.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Pc(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=sC(s),oC(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=qC(this,i,e),n=Jr(this.F),Ve(n,"RID",t),Ve(n,"CVER",22),this.D&&Ve(n,"X-HTTP-Session-Id",this.D),Dc(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(VC(s)))+"&"+e:this.o&&G0(n,this.o,s)),W0(this.h,i),this.Ya&&Ve(n,"TYPE","init"),this.O?(Ve(n,"$req",e),Ve(n,"SID","null"),i.Z=!0,zg(i,n,null)):zg(i,n,e),this.G=2}}else this.G==3&&(t?gb(this,t):this.i.length==0||DC(this.h)||gb(this))};function gb(t,e){var n;e?n=e.m:n=t.U++;const r=Jr(t.F);Ve(r,"SID",t.I),Ve(r,"RID",n),Ve(r,"AID",t.T),Dc(t,r),t.o&&t.s&&G0(r,t.o,t.s),n=new Pc(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=qC(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),W0(t.h,n),zg(n,r,e)}function Dc(t,e){t.ia&&D0(t.ia,function(n,r){Ve(e,r,n)}),t.l&&IC({},function(n,r){Ve(e,r,n)})}function qC(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Gt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{w4(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function KC(t){t.g||t.u||(t.Z=1,fC(t.Ia,t),t.A=0)}function Q0(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Ic(Gt(t.Ia,t),QC(t,t.A)),t.A++,!0)}K.Ia=function(){if(this.u=null,GC(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Ic(Gt(this.eb,this),t)}};K.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,nn(10),Nf(this),GC(this))};function X0(t){t.B!=null&&(se.clearTimeout(t.B),t.B=null)}function GC(t){t.g=new Pc(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Jr(t.sa);Ve(e,"RID","rpc"),Ve(e,"SID",t.I),Ve(e,"CI",t.L?"0":"1"),Ve(e,"AID",t.T),Ve(e,"TYPE","xmlhttp"),Dc(t,e),t.o&&t.s&&G0(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Cf(Jr(e)),n.s=null,n.P=!0,EC(n,t)}K.cb=function(){this.v!=null&&(this.v=null,Nf(this),Q0(this),nn(19))};function Zh(t){t.v!=null&&(se.clearTimeout(t.v),t.v=null)}function YC(t,e){var n=null;if(t.g==e){Zh(t),X0(t),t.g=null;var r=2}else if(Ug(t.h,e))n=e.D,LC(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=xf(),Mt(r,new bC(r,n)),Pf(t)}else KC(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&k4(t,e)||r==2&&Q0(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:ws(t,5);break;case 4:ws(t,10);break;case 3:ws(t,6);break;default:ws(t,2)}}}function QC(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function ws(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Gt(t.kb,t);n||(n=new Ts("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||Xh(n,"https"),Cf(n)),b4(n.toString(),r)}else nn(2);t.G=0,t.l&&t.l.va(e),XC(t),WC(t)}K.kb=function(t){t?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function XC(t){if(t.G=0,t.la=[],t.l){const e=$C(t.h);(e.length!=0||t.i.length!=0)&&(sb(t.la,e),sb(t.la,t.i),t.h.i.length=0,R0(t.i),t.i.length=0),t.l.ua()}}function JC(t,e,n){var r=n instanceof Ts?Jr(n):new Ts(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Jh(r,r.m);else{var i=se.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ts(null,void 0);r&&Xh(s,r),e&&(s.g=e),i&&Jh(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Ve(r,n,e),Ve(r,"VER",t.ma),Dc(t,r),r}function ZC(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new tt(new Rc({jb:!0})):new tt(t.ra),e.Ka(t.H),e}function eT(){}K=eT.prototype;K.xa=function(){};K.wa=function(){};K.va=function(){};K.ua=function(){};K.Ra=function(){};function ed(){if(Qo&&!(10<=Number(jL)))throw Error("Environmental error: no available transport.")}ed.prototype.g=function(t,e){return new Tn(t,e)};function Tn(t,e){Tt.call(this),this.g=new HC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Gh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gh(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ma(this)}Ft(Tn,Tt);Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;nn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=JC(t,null,t.V),Pf(t)};Tn.prototype.close=function(){Y0(this.g)};Tn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=z0(t),t=n);e.i.push(new g4(e.ab++,t)),e.G==3&&Pf(e)};Tn.prototype.M=function(){this.g.l=null,delete this.j,Y0(this.g),delete this.g,Tn.X.M.call(this)};function tT(t){V0.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ft(tT,V0);function nT(){H0.call(this),this.status=1}Ft(nT,H0);function ma(t){this.g=t}Ft(ma,eT);ma.prototype.xa=function(){Mt(this.g,"a")};ma.prototype.wa=function(t){Mt(this.g,new tT(t))};ma.prototype.va=function(t){Mt(this.g,new nT)};ma.prototype.ua=function(){Mt(this.g,"b")};ed.prototype.createWebChannel=ed.prototype.g;Tn.prototype.send=Tn.prototype.u;Tn.prototype.open=Tn.prototype.m;Tn.prototype.close=Tn.prototype.close;Sf.NO_ERROR=0;Sf.TIMEOUT=8;Sf.HTTP_ERROR=6;_C.COMPLETE="complete";xC.EventType=Nc;Nc.OPEN="a";Nc.CLOSE="b";Nc.ERROR="c";Nc.MESSAGE="d";Tt.prototype.listen=Tt.prototype.N;tt.prototype.listenOnce=tt.prototype.O;tt.prototype.getLastError=tt.prototype.Oa;tt.prototype.getLastErrorCode=tt.prototype.Ea;tt.prototype.getStatus=tt.prototype.aa;tt.prototype.getResponseJson=tt.prototype.Sa;tt.prototype.getResponseText=tt.prototype.fa;tt.prototype.send=tt.prototype.da;tt.prototype.setWithCredentials=tt.prototype.Ka;var C4=function(){return new ed},T4=function(){return xf()},Xp=Sf,I4=_C,N4=eo,yb={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},P4=Rc,Su=xC,O4=tt;const vb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="9.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new I0("@firebase/firestore");function wb(){return Vs.logLevel}function Q(t,...e){if(Vs.logLevel<=we.DEBUG){const n=e.map(J0);Vs.debug(`Firestore (${ga}): ${t}`,...n)}}function Zr(t,...e){if(Vs.logLevel<=we.ERROR){const n=e.map(J0);Vs.error(`Firestore (${ga}): ${t}`,...n)}}function jg(t,...e){if(Vs.logLevel<=we.WARN){const n=e.map(J0);Vs.warn(`Firestore (${ga}): ${t}`,...n)}}function J0(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: `+t;throw Zr(e),new Error(e)}function Ae(t,e){t||oe()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class A4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class D4{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new rT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new Ht(e)}}class M4{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ae(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class L4{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new M4(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F4{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.A=n.token,new $4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=z4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function Xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new We(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new We(0,0))}static max(){return new he(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends Zl{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new He(n)}static emptyPath(){return new He([])}}const B4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends Zl{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return B4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(He.fromString(e))}static fromName(e){return new Z(He.fromString(e).popFirst(5))}static empty(){return new Z(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new He(e.slice()))}}function U4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new Ki(i,Z.empty(),e)}function j4(t){return new Ki(t.readTime,t.key,-1)}class Ki{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ki(he.min(),Z.empty(),-1)}static max(){return new Ki(he.max(),Z.empty(),-1)}}function V4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==H4)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Lc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ya(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Z0.at=-1;class vt{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eu(this.root,e,this.comparator,!0)}}class Eu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:Ot.RED,this.left=i!=null?i:Ot.EMPTY,this.right=s!=null?s:Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ot(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ot(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _b(this.data.getIterator())}getIteratorFrom(e){return new _b(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class _b{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new yt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Jt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const q4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=q4.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jo(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function aT(t){const e=t.mapValue.fields.__previous_value__;return oT(e)?aT(e):e}function ec(t){const e=Gi(t.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class tc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}function Of(t){return t==null}function td(t){return t===0&&1/t==-1/0}function G4(t){return typeof t=="number"&&Number.isInteger(t)&&!td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oT(t)?4:Y4(t)?9007199254740991:10:oe()}function Ir(t,e){if(t===e)return!0;const n=Hs(t);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ec(t).isEqual(ec(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Gi(r.timestampValue),o=Gi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Jo(r.bytesValue).isEqual(Jo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ht(r.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(r.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ht(r.integerValue)===ht(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ht(r.doubleValue),o=ht(i.doubleValue);return s===o?td(s)===td(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(bb(s)!==bb(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Ir(s[a],o[a])))return!1;return!0}(t,e);default:return oe()}}function nc(t,e){return(t.values||[]).find(n=>Ir(n,e))!==void 0}function Zo(t,e){if(t===e)return 0;const n=Hs(t),r=Hs(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ht(i.integerValue||i.doubleValue),a=ht(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return xb(t.timestampValue,e.timestampValue);case 4:return xb(ec(t),ec(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Jo(i),a=Jo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=be(o[l],a[l]);if(c!==0)return c}return be(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=be(ht(i.latitude),ht(s.latitude));return o!==0?o:be(ht(i.longitude),ht(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Zo(o[l],a[l]);if(c)return c}return be(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ku.mapValue&&s===ku.mapValue)return 0;if(i===ku.mapValue)return 1;if(s===ku.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=be(a[u],c[u]);if(h!==0)return h;const d=Zo(o[a[u]],l[c[u]]);if(d!==0)return d}return be(a.length,c.length)}(t.mapValue,e.mapValue);default:throw oe()}}function xb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=Gi(t),r=Gi(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function Lo(t){return Vg(t)}function Vg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Gi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Z.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Vg(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Vg(r.fields[a])}`;return s+"}"}(t.mapValue):oe();var e,n}function Hg(t){return!!t&&"integerValue"in t}function ev(t){return!!t&&"arrayValue"in t}function Sb(t){return!!t&&"nullValue"in t}function Eb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function th(t){return!!t&&"mapValue"in t}function ml(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ya(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ml(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ml(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Y4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ml(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ml(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ya(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Mn(ml(this.value))}}function lT(t){const e=[];return ya(t.fields,(n,r)=>{const i=new qt([n]);if(th(r)){const s=lT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Rt(e,0,he.min(),he.min(),Mn.empty(),0)}static newFoundDocument(e,n,r){return new Rt(e,1,n,he.min(),r,0)}static newNoDocument(e,n){return new Rt(e,2,n,he.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,he.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function kb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Q4(t,e,n,r,i,s,o)}function tv(t){const e=le(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Lo(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lo(r)).join(",")),e.ht=n}return e.ht}function X4(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Lo(r.value)}`;var r}).join(", ")}]`),Of(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Lo(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Lo(n)).join(",")),`Target(${e})`}function nv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!s3(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Ir(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tb(t.startAt,e.startAt)&&Tb(t.endAt,e.endAt)}function Wg(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class dn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new J4(e,n,r):n==="array-contains"?new t3(e,r):n==="in"?new n3(e,r):n==="not-in"?new r3(e,r):n==="array-contains-any"?new i3(e,r):new dn(e,n,r)}static lt(e,n,r){return n==="in"?new Z4(e,r):new e3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(Zo(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.ft(Zo(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class J4 extends dn{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.ft(n)}}class Z4 extends dn{constructor(e,n){super(e,"in",n),this.keys=cT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class e3 extends dn{constructor(e,n){super(e,"not-in",n),this.keys=cT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class t3 extends dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ev(n)&&nc(n.arrayValue,this.value)}}class n3 extends dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}}class r3 extends dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nc(this.value.arrayValue,n)}}class i3 extends dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ev(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}}class nd{constructor(e,n){this.position=e,this.inclusive=n}}class $o{constructor(e,n="asc"){this.field=e,this.dir=n}}function s3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Cb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Zo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Tb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function o3(t,e,n,r,i,s,o,a){return new $c(t,e,n,r,i,s,o,a)}function Rf(t){return new $c(t)}function Ib(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function hT(t){for(const e of t.filters)if(e.dt())return e.field;return null}function a3(t){return t.collectionGroup!==null}function rc(t){const e=le(t);if(e._t===null){e._t=[];const n=hT(e),r=uT(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new $o(n)),e._t.push(new $o(qt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new $o(qt.keyField(),s))}}}return e._t}function ei(t){const e=le(t);if(!e.wt)if(e.limitType==="F")e.wt=kb(e.path,e.collectionGroup,rc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of rc(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new $o(s.field,o))}const r=e.endAt?new nd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new nd(e.startAt.position,e.startAt.inclusive):null;e.wt=kb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function qg(t,e,n){return new $c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Af(t,e){return nv(ei(t),ei(e))&&t.limitType===e.limitType}function dT(t){return`${tv(ei(t))}|lt:${t.limitType}`}function Kg(t){return`Query(target=${X4(ei(t))}; limitType=${t.limitType})`}function rv(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Z.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Cb(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,rc(n),r)||n.endAt&&!function(i,s,o){const a=Cb(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,rc(n),r))}(t,e)}function l3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fT(t){return(e,n)=>{let r=!1;for(const i of rc(t)){const s=c3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function c3(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Zo(a,l):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:td(e)?"-0":e}}function mT(t){return{integerValue:""+t}}function u3(t,e){return G4(e)?mT(e):pT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this._=void 0}}function h3(t,e,n){return t instanceof rd?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ic?yT(t,e):t instanceof sc?vT(t,e):function(r,i){const s=gT(r,i),o=Nb(s)+Nb(r.yt);return Hg(s)&&Hg(r.yt)?mT(o):pT(r.It,o)}(t,e)}function d3(t,e,n){return t instanceof ic?yT(t,e):t instanceof sc?vT(t,e):n}function gT(t,e){return t instanceof id?Hg(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class rd extends Df{}class ic extends Df{constructor(e){super(),this.elements=e}}function yT(t,e){const n=wT(e);for(const r of t.elements)n.some(i=>Ir(i,r))||n.push(r);return{arrayValue:{values:n}}}class sc extends Df{constructor(e){super(),this.elements=e}}function vT(t,e){let n=wT(e);for(const r of t.elements)n=n.filter(i=>!Ir(i,r));return{arrayValue:{values:n}}}class id extends Df{constructor(e,n){super(),this.It=e,this.yt=n}}function Nb(t){return ht(t.integerValue||t.doubleValue)}function wT(t){return ev(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function f3(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ic&&r instanceof ic||n instanceof sc&&r instanceof sc?Xo(n.elements,r.elements,Ir):n instanceof id&&r instanceof id?Ir(n.yt,r.yt):n instanceof rd&&r instanceof rd}(t.transform,e.transform)}class p3{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mf{}function bT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iv(t.key,or.none()):new Fc(t.key,t.data,or.none());{const n=t.data,r=Mn.empty();let i=new yt(qt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new to(t.key,r,new Sr(i.toArray()),or.none())}}function m3(t,e,n){t instanceof Fc?function(r,i,s){const o=r.value.clone(),a=Ob(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof to?function(r,i,s){if(!nh(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Ob(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(_T(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function gl(t,e,n,r){return t instanceof Fc?function(i,s,o,a){if(!nh(i.precondition,s))return o;const l=i.value.clone(),c=Rb(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof to?function(i,s,o,a){if(!nh(i.precondition,s))return o;const l=Rb(i.fieldTransforms,a,s),c=s.data;return c.setAll(_T(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):function(i,s,o){return nh(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function g3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=gT(r.transform,i||null);s!=null&&(n===null&&(n=Mn.empty()),n.set(r.field,s))}return n||null}function Pb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Xo(n,r,(i,s)=>f3(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fc extends Mf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class to extends Mf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _T(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ob(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,d3(o,a,n[i]))}return r}function Rb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,h3(s,o,e))}return r}class iv extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y3 extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,ge;function w3(t){switch(t){default:return oe();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function xT(t){if(t===void 0)return Zr("GRPC error has no .code"),M.UNKNOWN;switch(t){case ct.OK:return M.OK;case ct.CANCELLED:return M.CANCELLED;case ct.UNKNOWN:return M.UNKNOWN;case ct.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case ct.INTERNAL:return M.INTERNAL;case ct.UNAVAILABLE:return M.UNAVAILABLE;case ct.UNAUTHENTICATED:return M.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case ct.NOT_FOUND:return M.NOT_FOUND;case ct.ALREADY_EXISTS:return M.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return M.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case ct.ABORTED:return M.ABORTED;case ct.OUT_OF_RANGE:return M.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return M.UNIMPLEMENTED;case ct.DATA_LOSS:return M.DATA_LOSS;default:return oe()}}(ge=ct||(ct={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return sT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=new vt(Z.comparator);function ti(){return b3}const ST=new vt(Z.comparator);function tl(...t){let e=ST;for(const n of t)e=e.insert(n.key,n);return e}function ET(t){let e=ST;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bs(){return yl()}function kT(){return yl()}function yl(){return new va(t=>t.toString(),(t,e)=>t.isEqual(e))}const _3=new vt(Z.comparator),x3=new yt(Z.comparator);function fe(...t){let e=x3;for(const n of t)e=e.add(n);return e}const S3=new yt(be);function CT(){return S3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lf(he.min(),i,CT(),ti(),fe())}}class zc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zc(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class TT{constructor(e,n){this.targetId=e,this.At=n}}class IT{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ab{constructor(){this.Rt=0,this.bt=Mb(),this.Pt=Jt.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=fe(),n=fe(),r=fe();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new zc(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=Mb()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class E3{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ti(),this.qt=Db(),this.Kt=new yt(be)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const s=i.target;if(Wg(s))if(r===0){const o=new Z(s.path);this.jt(n,o,Rt.newNoDocument(o,he.min()))}else Ae(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&Wg(a.target)){const l=new Z(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,Rt.newNoDocument(l,e))}s.Dt&&(n.set(o,s.xt()),s.Nt())}});let r=fe();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xt(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new Lf(e,n,this.Kt,this.Ut,r);return this.Ut=ti(),this.qt=Db(),this.Kt=new yt(be),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let n=this.Lt.get(e);return n||(n=new Ab,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new yt(be),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Ab),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function Db(){return new vt(Z.comparator)}function Mb(){return new vt(Z.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),C3=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class T3{constructor(e,n){this.databaseId=e,this.gt=n}}function sd(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NT(t,e){return t.gt?e.toBase64():e.toUint8Array()}function I3(t,e){return sd(t,e.toTimestamp())}function Wr(t){return Ae(!!t),he.fromTimestamp(function(e){const n=Gi(e);return new We(n.seconds,n.nanos)}(t))}function sv(t,e){return function(n){return new He(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function PT(t){const e=He.fromString(t);return Ae(AT(e)),e}function Gg(t,e){return sv(t.databaseId,e.path)}function Jp(t,e){const n=PT(e);if(n.get(1)!==t.databaseId.projectId)throw new J(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(OT(n))}function Yg(t,e){return sv(t.databaseId,e)}function N3(t){const e=PT(t);return e.length===4?He.emptyPath():OT(e)}function Qg(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OT(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Lb(t,e,n){return{name:Gg(t,e),fields:n.value.mapValue.fields}}function P3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.gt?(Ae(c===void 0||typeof c=="string"),Jt.fromBase64String(c||"")):(Ae(c===void 0||c instanceof Uint8Array),Jt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?M.UNKNOWN:xT(l.code);return new J(c,l.message||"")}(o);n=new IT(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jp(t,r.document.name),s=Wr(r.document.updateTime),o=new Mn({mapValue:{fields:r.document.fields}}),a=Rt.newFoundDocument(i,s,o),l=r.targetIds||[],c=r.removedTargetIds||[];n=new rh(l,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Jp(t,r.document),s=r.readTime?Wr(r.readTime):he.min(),o=Rt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new rh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Jp(t,r.document),s=r.removedTargetIds||[];n=new rh([],s,i,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new v3(i),o=r.targetId;n=new TT(o,s)}}return n}function O3(t,e){let n;if(e instanceof Fc)n={update:Lb(t,e.key,e.value)};else if(e instanceof iv)n={delete:Gg(t,e.key)};else if(e instanceof to)n={update:Lb(t,e.key,e.data),updateMask:U3(e.fieldMask)};else{if(!(e instanceof y3))return oe();n={verify:Gg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof rd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ic)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof sc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof id)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:I3(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe()}(t,e.precondition)),n}function R3(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Wr(r.updateTime):Wr(i);return s.isEqual(he.min())&&(s=Wr(i)),new p3(s,r.transformResults||[])}(n,e))):[]}function A3(t,e){return{documents:[Yg(t,e.path)]}}function D3(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Yg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Yg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const c=l.map(u=>function(h){if(h.op==="=="){if(Eb(h.value))return{unaryFilter:{field:co(h.field),op:"IS_NAN"}};if(Sb(h.value))return{unaryFilter:{field:co(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(Eb(h.value))return{unaryFilter:{field:co(h.field),op:"IS_NOT_NAN"}};if(Sb(h.value))return{unaryFilter:{field:co(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(h.field),op:F3(h.op),value:h.value}}}(u));return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:co(u.field),direction:$3(u.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,c){return l.gt||Of(c)?c:{value:c}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function M3(t){let e=N3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=RT(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new $o(To(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Of(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,d=u.values||[];return new nd(d,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,d=u.values||[];return new nd(d,h)}(n.endAt)),o3(e,i,o,s,a,"F",l,c)}function L3(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return oe()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function RT(t){return t?t.unaryFilter!==void 0?[B3(t)]:t.fieldFilter!==void 0?[z3(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>RT(e)).reduce((e,n)=>e.concat(n)):oe():[]}function $3(t){return k3[t]}function F3(t){return C3[t]}function co(t){return{fieldPath:t.canonicalString()}}function To(t){return qt.fromServerFormat(t.fieldPath)}function z3(t){return dn.create(To(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(t.fieldFilter.op),t.fieldFilter.value)}function B3(t){switch(t.unaryFilter.op){case"IS_NAN":const e=To(t.unaryFilter.field);return dn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=To(t.unaryFilter.field);return dn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=To(t.unaryFilter.field);return dn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=To(t.unaryFilter.field);return dn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}function U3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&m3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=bT(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(n,r)=>Pb(n,r))&&Xo(this.baseMutations,e.baseMutations,(n,r)=>Pb(n,r))}}class ov{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=_3;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ov(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,i,s=he.min(),o=he.min(),a=Jt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.re=e}}function W3(t){const e=M3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this.Ye=new K3}addToCollectionParentIndex(e,n){return this.Ye.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ki.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class K3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(He.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ea(0)}static vn(){return new ea(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(){this.changes=new va(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&gl(r.mutation,i,Sr.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=bs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=tl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=bs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ti();const o=yl(),a=yl();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof to)?s=s.insert(c.key,c):u!==void 0&&(o.set(c.key,u.mutation.getFieldMask()),gl(u.mutation,c,u.mutation.getFieldMask(),We.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new Y3(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=yl();let i=new vt((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Sr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||fe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=kT();u.forEach(d=>{if(!s.has(d)){const f=bT(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Z.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):a3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(bs());let a=-1,l=s;return o.next(c=>$.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?$.resolve():this.getBaseDocument(e,u,h).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,fe())).next(u=>({batchId:a,changes:ET(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=tl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=tl();return this.indexManager.getCollectionParents(e,i).next(o=>$.forEach(o,a=>{const l=function(c,u){return new $c(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,h)=>{s=s.insert(u,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,Rt.newInvalidDocument(c)))});let o=tl();return i.forEach((a,l)=>{const c=s.get(a);c!==void 0&&gl(c.mutation,l,Sr.empty(),We.now()),rv(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):$.resolve(Rt.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return $.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Wr(r.createTime)}),$.resolve()}getNamedQuery(e,n){return $.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:W3(r.bundledQuery),readTime:Wr(r.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(){this.overlays=new vt(Z.comparator),this.es=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bs();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ue(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=bs(),s=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=bs(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=bs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return $.resolve(a)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new V3(n,r));let s=this.es.get(n);s===void 0&&(s=fe(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.ns=new yt(Et.ss),this.rs=new yt(Et.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Et(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Et(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new Z(new He([])),r=new Et(n,e),i=new Et(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new Z(new He([])),r=new Et(n,e),i=new Et(n,e+1);let s=fe();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Et(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return Z.comparator(e.key,n.key)||be(e._s,n._s)}static os(e,n){return be(e._s,n._s)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new yt(Et.ss)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new j3(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),i=new Et(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(be);return n.forEach(i=>{const s=new Et(i,0),o=new Et(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),$.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Z.isDocumentKey(s)||(s=s.child(""));const o=new Et(new Z(s),0);let a=new yt(be);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l._s)),!0)},o),$.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return $.forEach(n.mutations,i=>{const s=new Et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Et(n,0),i=this.gs.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.Es=e,this.docs=new vt(Z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=ti();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Rt.newInvalidDocument(i))}),$.resolve(r)}getAllFromCollection(e,n,r){let i=ti();const s=new Z(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||V4(j4(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,i){oe()}As(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new t5(this)}getSize(e){return $.resolve(this.size)}}class t5 extends G3{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.persistence=e,this.Rs=new va(n=>tv(n),nv),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.bs=0,this.Ps=new av,this.targetCount=0,this.vs=ea.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),$.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new ea(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Dn(n),$.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Z0(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new n5(this),this.indexManager=new q3,this.remoteDocumentCache=function(r){return new e5(r)}(r=>this.referenceDelegate.xs(r)),this.It=new H3(n),this.Ns=new X3(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new Z3(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new i5(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return $.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class i5 extends W4{constructor(e){super(),this.currentSequenceNumber=e}}class lv{constructor(e){this.persistence=e,this.Fs=new av,this.$s=null}static Bs(e){return new lv(e)}get Ls(){if(this.$s)return this.$s;throw oe()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),$.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Ls,r=>{const i=Z.fromPath(r);return this.Us(e,i).next(s=>{s||n.removeEntry(i,he.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return $.or([()=>$.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=fe(),i=fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(Ib(n))return $.resolve(null);let r=ei(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qg(n,null,"F"),r=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=fe(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Fi(n,a);return this.$i(n,c,o,l.readTime)?this.ki(e,qg(n,null,"F")):this.Bi(e,c,n,l)}))})))}Oi(e,n,r,i){return Ib(n)||i.isEqual(he.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(wb()<=we.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Kg(n)),this.Bi(e,o,n,U4(i,-1)))})}Fi(e,n){let r=new yt(fT(e));return n.forEach((i,s)=>{rv(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return wb()<=we.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Kg(n)),this.Ni.getDocumentsMatchingQuery(e,n,Ki.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new vt(be),this.qi=new va(s=>tv(s),nv),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q3(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function a5(t,e,n,r){return new o5(t,e,n,r)}async function DT(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=fe();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}function l5(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let d=$.resolve();return h.forEach(f=>{d=d.next(()=>c.getEntry(a,f)).next(m=>{const y=l.docVersions.get(f);Ae(y!==null),m.version.compareTo(y)<0&&(u.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=fe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function MT(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function c5(t,e){const n=le(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach((u,h)=>{const d=i.get(h);if(!d)return;a.push(n.Cs.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(s,u.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?f=f.withResumeToken(Jt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(h,f),function(m,y,b){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,f,u)&&a.push(n.Cs.updateTargetData(s,f))});let l=ti(),c=fe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(u5(s,o,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!r.isEqual(he.min())){const u=n.Cs.getLastRemoteSnapshotVersion(s).next(h=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ui=i,s))}function u5(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ti();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function h5(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function d5(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Is(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Xg(t,e,n){const r=le(t),i=r.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Lc(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function $b(t,e,n){const r=le(t);let i=he.min(),s=fe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=le(a),h=u.qi.get(c);return h!==void 0?$.resolve(u.Ui.get(h)):u.Cs.getTargetData(l,c)}(r,o,ei(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:he.min(),n?s:fe())).next(a=>(f5(r,l3(e),a),{documents:a,Hi:s})))}function f5(t,e,n){let r=t.Ki.get(e)||he.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class Fb{constructor(){this.activeTargetIds=CT()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p5{constructor(){this.Lr=new Fb,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Fb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);Q("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(Q("RestConnection","Received: ",l),l),l=>{throw jg("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ga,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=g5[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new O4;a.setWithCredentials(!0),a.listenOnce(I4.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Xp.NO_ERROR:const c=a.getResponseJson();Q("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Xp.TIMEOUT:Q("Connection",'RPC "'+e+'" timed out'),o(new J(M.DEADLINE_EXCEEDED,"Request time out"));break;case Xp.HTTP_ERROR:const u=a.getStatus();if(Q("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const d=function(f){const m=f.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(m)>=0?m:M.UNKNOWN}(h.status);o(new J(d,h.message))}else o(new J(M.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new J(M.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{Q("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=C4(),o=T4(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new P4({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");Q("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,h=!1;const d=new y5({Hr:m=>{h?Q("Connection","Not sending because WebChannel is closed:",m):(u||(Q("Connection","Opening WebChannel transport."),c.open(),u=!0),Q("Connection","WebChannel sending:",m),c.send(m))},Jr:()=>c.close()}),f=(m,y,b)=>{m.listen(y,g=>{try{b(g)}catch(v){setTimeout(()=>{throw v},0)}})};return f(c,Su.EventType.OPEN,()=>{h||Q("Connection","WebChannel transport opened.")}),f(c,Su.EventType.CLOSE,()=>{h||(h=!0,Q("Connection","WebChannel transport closed"),d.io())}),f(c,Su.EventType.ERROR,m=>{h||(h=!0,jg("Connection","WebChannel transport errored:",m),d.io(new J(M.UNAVAILABLE,"The operation could not be completed")))}),f(c,Su.EventType.MESSAGE,m=>{var y;if(!h){const b=m.data[0];Ae(!!b);const g=b,v=g.error||((y=g[0])===null||y===void 0?void 0:y.error);if(v){Q("Connection","WebChannel received error:",v);const w=v.status;let _=function(k){const E=ct[k];if(E!==void 0)return xT(E)}(w),x=v.message;_===void 0&&(_=M.INTERNAL,x="Unknown error status: "+w+" with message "+v.message),h=!0,d.io(new J(_,x)),c.close()}else Q("Connection","WebChannel received:",b),d.ro(b)}}),f(o,N4.STAT_EVENT,m=>{m.stat===yb.PROXY?Q("Connection","Detected buffering proxy"):m.stat===yb.NOPROXY&&Q("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.so()},0),d}}function Zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){return new T3(t,!0)}class LT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.So=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new LT(e,n)}ko(){return this.state===1||this.state===5||this.Oo()}Oo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.ko()&&await this.close(0)}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&this.Co===null&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}async Bo(){if(this.Oo())return this.close(0)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}async close(e,n){this.Uo(),this.qo(),this.No.cancel(),this.Do++,e!==4?this.No.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Ko(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===n&&this.Qo(r,i)},r=>{e(()=>{const i=new J(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,n){const r=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){this.state=5,this.No.Ro(async()=>{this.state=0,this.start()})}jo(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Hs.enqueueAndForget(()=>this.Do===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w5 extends $T{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.It=s}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=P3(this.It,e),r=function(i){if(!("targetChange"in i))return he.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?Wr(s.readTime):he.min()}(e);return this.listener.zo(n,r)}Ho(e){const n={};n.database=Qg(this.It),n.addTarget=function(i,s){let o;const a=s.target;return o=Wg(a)?{documents:A3(i,a)}:{query:D3(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=NT(i,s.resumeToken):s.snapshotVersion.compareTo(he.min())>0&&(o.readTime=sd(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=L3(this.It,e);r&&(n.labels=r),this.Lo(n)}Jo(e){const n={};n.database=Qg(this.It),n.removeTarget=e,this.Lo(n)}}class b5 extends $T{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.It=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=R3(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.tu(r,n)}return Ae(!e.writeResults||e.writeResults.length===0),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Qg(this.It),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>O3(this.It,r))};this.Lo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new J(M.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(M.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.So._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(M.UNKNOWN,s.toString())})}terminate(){this.su=!0}}class x5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){this.ru===0&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){this.state==="Online"?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,e==="Online"&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Zr(n),this.uu=!1):Q("OnlineStateTracker",n)}fu(){this.ou!==null&&(this.ou.cancel(),this.ou=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.qr(o=>{r.enqueueAndForget(async()=>{no(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=le(a);l.wu.add(4),await Bc(l),l.yu.set("Unknown"),l.wu.delete(4),await Ff(l)}(this))})}),this.yu=new x5(r,i)}}async function Ff(t){if(no(t))for(const e of t.mu)await e(!0)}async function Bc(t){for(const e of t.mu)await e(!1)}function FT(t,e){const n=le(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),dv(n)?hv(n):wa(n).Oo()&&uv(n,e))}function zT(t,e){const n=le(t),r=wa(n);n._u.delete(e),r.Oo()&&BT(n,e),n._u.size===0&&(r.Oo()?r.$o():no(n)&&n.yu.set("Unknown"))}function uv(t,e){t.pu.Mt(e.targetId),wa(t).Ho(e)}function BT(t,e){t.pu.Mt(e),wa(t).Jo(e)}function hv(t){t.pu=new E3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t._u.get(e)||null}),wa(t).start(),t.yu.cu()}function dv(t){return no(t)&&!wa(t).ko()&&t._u.size>0}function no(t){return le(t).wu.size===0}function UT(t){t.pu=void 0}async function E5(t){t._u.forEach((e,n)=>{uv(t,e)})}async function k5(t,e){UT(t),dv(t)?(t.yu.lu(e),hv(t)):t.yu.set("Unknown")}async function C5(t,e,n){if(t.yu.set("Online"),e instanceof IT&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r._u.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r._u.delete(o),r.pu.removeTarget(o))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await od(t,r)}else if(e instanceof rh?t.pu.Gt(e):e instanceof TT?t.pu.Yt(e):t.pu.Wt(e),!n.isEqual(he.min()))try{const r=await MT(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.pu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i._u.get(l);c&&i._u.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i._u.get(a);if(!l)return;i._u.set(a,l.withResumeToken(Jt.EMPTY_BYTE_STRING,l.snapshotVersion)),BT(i,a);const c=new Is(l.target,a,1,l.sequenceNumber);uv(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await od(t,r)}}async function od(t,e,n){if(!Lc(e))throw e;t.wu.add(1),await Bc(t),t.yu.set("Offline"),n||(n=()=>MT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.wu.delete(1),await Ff(t)})}function jT(t,e){return e().catch(n=>od(t,n,e))}async function zf(t){const e=le(t),n=Yi(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;T5(e);)try{const i=await h5(e.localStore,r);if(i===null){e.du.length===0&&n.$o();break}r=i.batchId,I5(e,i)}catch(i){await od(e,i)}VT(e)&&HT(e)}function T5(t){return no(t)&&t.du.length<10}function I5(t,e){t.du.push(e);const n=Yi(t);n.Oo()&&n.Xo&&n.Zo(e.mutations)}function VT(t){return no(t)&&!Yi(t).ko()&&t.du.length>0}function HT(t){Yi(t).start()}async function N5(t){Yi(t).nu()}async function P5(t){const e=Yi(t);for(const n of t.du)e.Zo(n.mutations)}async function O5(t,e,n){const r=t.du.shift(),i=ov.from(r,e,n);await jT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zf(t)}async function R5(t,e){e&&Yi(t).Xo&&await async function(n,r){if(i=r.code,w3(i)&&i!==M.ABORTED){const s=n.du.shift();Yi(n).Fo(),await jT(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await zf(n)}var i}(t,e),VT(t)&&HT(t)}async function Bb(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=no(n);n.wu.add(3),await Bc(n),r&&n.yu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),await Ff(n)}async function A5(t,e){const n=le(t);e?(n.wu.delete(2),await Ff(n)):e||(n.wu.add(2),await Bc(n),n.yu.set("Unknown"))}function wa(t){return t.Iu||(t.Iu=function(e,n,r){const i=le(e);return i.iu(),new w5(n,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:E5.bind(null,t),Zr:k5.bind(null,t),zo:C5.bind(null,t)}),t.mu.push(async e=>{e?(t.Iu.Fo(),dv(t)?hv(t):t.yu.set("Unknown")):(await t.Iu.stop(),UT(t))})),t.Iu}function Yi(t){return t.Tu||(t.Tu=function(e,n,r){const i=le(e);return i.iu(),new b5(n,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:N5.bind(null,t),Zr:R5.bind(null,t),eu:P5.bind(null,t),tu:O5.bind(null,t)}),t.mu.push(async e=>{e?(t.Tu.Fo(),await zf(t)):(await t.Tu.stop(),t.du.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.du.length} pending writes`),t.du=[]))})),t.Tu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new fv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pv(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),Lc(t))return new J(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=tl(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new Fo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.Eu=new vt(Z.comparator)}track(e){const n=e.doc.key,r=this.Eu.get(n);r?e.type!==0&&r.type===3?this.Eu=this.Eu.insert(n,e):e.type===3&&r.type!==1?this.Eu=this.Eu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Eu=this.Eu.remove(n):e.type===1&&r.type===2?this.Eu=this.Eu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):oe():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ta{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ta(e,n,Fo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(){this.Ru=void 0,this.listeners=[]}}class M5{constructor(){this.queries=new va(e=>dT(e),Af),this.onlineState="Unknown",this.bu=new Set}}async function WT(t,e){const n=le(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new D5),i)try{s.Ru=await n.onListen(r)}catch(o){const a=pv(o,`Initialization of query '${Kg(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Pu(n.onlineState),s.Ru&&e.vu(s.Ru)&&mv(n)}async function qT(t,e){const n=le(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function L5(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Ru=i}}r&&mv(n)}function $5(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function mv(t){t.bu.forEach(e=>{e.next()})}class KT{constructor(e,n,r){this.query=e,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ta(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Cu(e){if(e.docChanges.length>0)return!0;const n=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Nu(e){e=ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.key=e}}class YT{constructor(e){this.key=e}}class F5{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=fe(),this.mutatedKeys=fe(),this.Gu=fT(e),this.Qu=new Fo(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new Ub,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const d=i.get(u),f=rv(this.query,h)?h:null,m=!!d&&this.mutatedKeys.has(d.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let b=!1;d&&f?d.data.isEqual(f.data)?m!==y&&(r.track({type:3,doc:f}),b=!0):this.Hu(d,f)||(r.track({type:2,doc:f}),b=!0,(l&&this.Gu(f,l)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),b=!0):d&&!f&&(r.track({type:1,doc:d}),b=!0,(l||c)&&(a=!0)),b&&(f?(o=o.add(f),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((c,u)=>function(h,d){const f=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return f(h)-f(d)}(c.type,u.type)||this.Gu(c.doc,u.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new ta(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}Pu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Ub,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=fe(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new YT(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new GT(r))}),n}tc(e){this.Uu=e.Hi,this.Ku=fe();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return ta.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class z5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class B5{constructor(e){this.key=e,this.nc=!1}}class U5{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new va(a=>dT(a),Af),this.rc=new Map,this.oc=new Set,this.uc=new vt(Z.comparator),this.cc=new Map,this.ac=new av,this.hc={},this.lc=new Map,this.fc=ea.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function j5(t,e){const n=J5(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await d5(n.localStore,ei(e));n.isPrimaryClient&&FT(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await V5(n,e,r,a==="current",o.resumeToken)}return i}async function V5(t,e,n,r,i){t._c=(h,d,f)=>async function(m,y,b,g){let v=y.view.Wu(b);v.$i&&(v=await $b(m.localStore,y.query,!1).then(({documents:x})=>y.view.Wu(x,v)));const w=g&&g.targetChanges.get(y.targetId),_=y.view.applyChanges(v,m.isPrimaryClient,w);return Vb(m,y.targetId,_.Xu),_.snapshot}(t,h,d,f);const s=await $b(t.localStore,e,!0),o=new F5(e,s.Hi),a=o.Wu(s.documents),l=zc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Vb(t,n,c.Xu);const u=new z5(e,n,o);return t.ic.set(e,u),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),c.snapshot}async function H5(t,e){const n=le(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!Af(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Xg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),zT(n.remoteStore,r.targetId),Jg(n,r.targetId)}).catch(Mc)):(Jg(n,r.targetId),await Xg(n.localStore,r.targetId,!0))}async function W5(t,e,n){const r=Z5(t);try{const i=await function(s,o){const a=le(s),l=We.now(),c=o.reduce((d,f)=>d.add(f.key),fe());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let f=ti(),m=fe();return a.Gi.getEntries(d,c).next(y=>{f=y,f.forEach((b,g)=>{g.isValidDocument()||(m=m.add(b))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,f)).next(y=>{u=y;const b=[];for(const g of o){const v=g3(g,u.get(g.key).overlayedDocument);v!=null&&b.push(new to(g.key,v,lT(v.value.mapValue),or.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,b,o)}).next(y=>{h=y;const b=y.applyToLocalDocumentSet(u,m);return a.documentOverlayCache.saveOverlays(d,y.batchId,b)})}).then(()=>({batchId:h.batchId,changes:ET(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new vt(be)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Uc(r,i.changes),await zf(r.remoteStore)}catch(i){const s=pv(i,"Failed to persist write");n.reject(s)}}async function QT(t,e){const n=le(t);try{const r=await c5(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?Ae(o.nc):i.removedDocuments.size>0&&(Ae(o.nc),o.nc=!1))}),await Uc(n,r,e)}catch(r){await Mc(r)}}function jb(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=le(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Pu(o)&&(l=!0)}),l&&mv(a)}(r.eventManager,e),i.length&&r.sc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function q5(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new vt(Z.comparator);o=o.insert(s,Rt.newNoDocument(s,he.min()));const a=fe().add(s),l=new Lf(he.min(),new Map,new yt(be),o,a);await QT(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),gv(r)}else await Xg(r.localStore,e,!1).then(()=>Jg(r,e,n)).catch(Mc)}async function K5(t,e){const n=le(t),r=e.batch.batchId;try{const i=await l5(n.localStore,e);JT(n,r,null),XT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uc(n,i)}catch(i){await Mc(i)}}async function G5(t,e,n){const r=le(t);try{const i=await function(s,o){const a=le(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(Ae(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);JT(r,e,n),XT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uc(r,i)}catch(i){await Mc(i)}}function XT(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function JT(t,e,n){const r=le(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Jg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||ZT(t,r)})}function ZT(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(zT(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),gv(t))}function Vb(t,e,n){for(const r of n)r instanceof GT?(t.ac.addReference(r.key,e),Y5(t,r)):r instanceof YT?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||ZT(t,r.key)):oe()}function Y5(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.oc.add(r),gv(t))}function gv(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new Z(He.fromString(e)),r=t.fc.next();t.cc.set(r,new B5(n)),t.uc=t.uc.insert(n,r),FT(t.remoteStore,new Is(ei(Rf(n.path)),r,2,Z0.at))}}async function Uc(t,e,n){const r=le(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=cv.Ci(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.sc.zo(i),await async function(a,l){const c=le(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>$.forEach(l,h=>$.forEach(h.Si,d=>c.persistence.referenceDelegate.addReference(u,h.targetId,d)).next(()=>$.forEach(h.Di,d=>c.persistence.referenceDelegate.removeReference(u,h.targetId,d)))))}catch(u){if(!Lc(u))throw u;Q("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const d=c.Ui.get(h),f=d.snapshotVersion,m=d.withLastLimboFreeSnapshotVersion(f);c.Ui=c.Ui.insert(h,m)}}}(r.localStore,s))}async function Q5(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await DT(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new J(M.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uc(n,r.ji)}}function X5(t,e){const n=le(t),r=n.cc.get(e);if(r&&r.nc)return fe().add(r.key);{let i=fe();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function J5(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q5.bind(null,e),e.sc.zo=L5.bind(null,e.eventManager),e.sc.wc=$5.bind(null,e.eventManager),e}function Z5(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G5.bind(null,e),e}class e${constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=$f(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return a5(this.persistence,new s5,e.initialUser,this.It)}yc(e){return new r5(lv.Bs,this.It)}gc(e){return new p5}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class t${async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q5.bind(null,this.syncEngine),await A5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new M5}createDatastore(e){const n=$f(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new v5(i));var i;return function(s,o,a,l){return new _5(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>jb(this.syncEngine,a,0),o=zb.C()?new zb:new m5,new S5(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,c){const u=new U5(r,i,s,o,a,l);return c&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=le(e);Q("RemoteStore","RemoteStore shutting down."),n.wu.add(5),await Bc(n),n.gu.shutdown(),n.yu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t,e,n){if(!n)throw new J(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n$(t,e,n,r){if(e===!0&&r===!0)throw new J(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Hb(t){if(!Z.isDocumentKey(t))throw new J(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Wb(t){if(Z.isDocumentKey(t))throw new J(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yv(t);throw new J(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new Map;class Kb{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new J(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,n$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kb(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new R4;switch(n.type){case"gapi":const r=n.client;return new L4(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new J(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=qb.get(e);n&&(Q("ComponentProvider","Removing Datastore"),qb.delete(e),n.terminate())}(this),Promise.resolve()}}function r$(t,e,n,r={}){var i;const s=(t=Er(t,Bf))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&jg("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Ht.MOCK_USER;else{o=Yk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new J(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Ht(l)}t._authCredentials=new A4(new rT(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class jc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jc(this.firestore,e,this._query)}}class Bi extends jc{constructor(e,n,r){super(e,n,Rf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new Z(e))}withConverter(e){return new Bi(this.firestore,e,this._path)}}function Vc(t,e,...n){if(t=st(t),e2("collection","path",e),t instanceof Bf){const r=He.fromString(e,...n);return Wb(r),new Bi(t,null,r)}{if(!(t instanceof yn||t instanceof Bi))throw new J(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return Wb(r),new Bi(t.firestore,null,r)}}function ba(t,e,...n){if(t=st(t),arguments.length===1&&(e=iT.R()),e2("doc","path",e),t instanceof Bf){const r=He.fromString(e,...n);return Hb(r),new yn(t,null,new Z(r))}{if(!(t instanceof yn||t instanceof Bi))throw new J(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return Hb(r),new yn(t.firestore,t instanceof Bi?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=iT.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function s$(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await DT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function o$(t,e){t.asyncQueue.verifyOperationInProgress();const n=await a$(t);Q("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Bb(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Bb(e.remoteStore,s)),t.onlineComponents=e}async function a$(t){return t.offlineComponents||(Q("FirestoreClient","Using default OfflineComponentProvider"),await s$(t,new e$)),t.offlineComponents}async function n2(t){return t.onlineComponents||(Q("FirestoreClient","Using default OnlineComponentProvider"),await o$(t,new t$)),t.onlineComponents}function l$(t){return n2(t).then(e=>e.syncEngine)}async function Zg(t){const e=await n2(t),n=e.eventManager;return n.onListen=j5.bind(null,e.syncEngine),n.onUnlisten=H5.bind(null,e.syncEngine),n}function c$(t,e,n={}){const r=new zi;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new t2({next:h=>{s.enqueueAndForget(()=>qT(i,u));const d=h.docs.has(o);!d&&h.fromCache?l.reject(new J(M.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new J(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new KT(Rf(o.path),c,{includeMetadataChanges:!0,ku:!0});return WT(i,u)}(await Zg(t),t.asyncQueue,e,n,r)),r.promise}class u${constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new LT(this,"async_queue_retry"),this.Wc=()=>{const n=Zp();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=Zp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=Zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new zi;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.No.reset()}catch(e){if(!Lc(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.No.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=fv.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&oe()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}function Gb(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ws extends Bf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new u$,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||r2(this),this._firestoreClient.terminate()}}function h$(t,e){const n=typeof t=="object"?t:P0(),r=typeof t=="string"?t:e||"(default)",i=mf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Kk("firestore");s&&r$(i,...s)}return i}function vv(t){return t._firestoreClient||r2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function r2(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new K4(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new i$(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new na(Jt.fromBase64String(e))}catch(n){throw new J(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new na(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=/^__.*__$/;class f${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fc(e,this.data,n,this.fieldTransforms)}}function s2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class _v{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new _v(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return ad(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(s2(this.sa)&&d$.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class p${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||$f(e)}da(e,n,r,i=!1){return new _v({sa:e,methodName:n,fa:r,path:qt.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function o2(t){const e=t._freezeSettings(),n=$f(t._databaseId);return new p$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function a2(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);h2("Data must be an object, but it was:",o,r);const a=c2(r,o);let l,c;if(s.merge)l=new Sr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=m$(e,h,n);if(!o.contains(d))throw new J(M.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);y$(u,d)||u.push(d)}l=new Sr(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new f$(new Mn(a),l,c)}function l2(t,e){if(u2(t=st(t)))return h2("Unsupported field value:",e,t),c2(t,e);if(t instanceof i2)return function(n,r){if(!s2(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=l2(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=st(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return u3(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=We.fromDate(n);return{timestampValue:sd(r.It,i)}}if(n instanceof We){const i=new We(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:sd(r.It,i)}}if(n instanceof bv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof na)return{bytesValue:NT(r.It,n._byteString)};if(n instanceof yn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${yv(n)}`)}(t,e)}function c2(t,e){const n={};return sT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(t,(r,i)=>{const s=l2(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function u2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof bv||t instanceof na||t instanceof yn||t instanceof i2)}function h2(t,e,n){if(!u2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=yv(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function m$(t,e,n){if((e=st(e))instanceof wv)return e._internalPath;if(typeof e=="string")return d2(t,e);throw ad("Field path arguments must be of type string or ",t,!1,void 0,n)}const g$=new RegExp("[~\\*/\\[\\]]");function d2(t,e,n){if(e.search(g$)>=0)throw ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wv(...e.split("."))._internalPath}catch{throw ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ad(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(M.INVALID_ARGUMENT,a+t+l)}function y$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class v$ extends f2{data(){return super.data()}}function xv(t,e){return typeof e=="string"?d2(t,e):e instanceof wv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b${}function _$(t,...e){for(const n of e)t=n._apply(t);return t}class x$ extends b${constructor(e,n){super(),this.ma=e,this.pa=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new J(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new J(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new $o(i,s);return function(a,l){if(uT(a)===null){const c=hT(a);c!==null&&E$(a,c,l.field)}}(r,o),o}(e._query,this.ma,this.pa);return new jc(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new $c(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function S$(t,e="asc"){const n=e,r=xv("orderBy",t);return new x$(r,n)}function E$(t,e,n){if(!n.isEqual(e))throw new J(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${convertValue(e,n="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw oe()}}convertObject(e,n){const r={};return ya(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new bv(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=aT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const n=Gi(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);Ae(AT(r));const i=new tc(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||Zr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class m2 extends f2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ih extends m2{data(e={}){return super.data(e)}}class C${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ih(this._firestore,this._userDataWriter,r.key,r,new nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new ih(r._firestore,r._userDataWriter,o.doc.key,o.doc,new nl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new ih(r._firestore,r._userDataWriter,o.doc.key,o.doc,new nl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:T$(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function T$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t){t=Er(t,yn);const e=Er(t.firestore,Ws);return c$(vv(e),t._key).then(n=>w2(e,t,n))}class y2 extends k${constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function v2(t,e,n){t=Er(t,yn);const r=Er(t.firestore,Ws),i=p2(t.converter,e,n);return Sv(r,[a2(o2(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,or.none())])}function I$(t){return Sv(Er(t.firestore,Ws),[new iv(t._key,or.none())])}function Uf(t,e){const n=Er(t.firestore,Ws),r=ba(t),i=p2(t.converter,e);return Sv(n,[a2(o2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,or.exists(!1))]).then(()=>r)}function N$(t,...e){var n,r,i;t=st(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Gb(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Gb(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,u;if(t instanceof yn)c=Er(t.firestore,Ws),u=Rf(t._key.path),l={next:h=>{e[o]&&e[o](w2(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Er(t,jc);c=Er(h.firestore,Ws),u=h._query;const d=new y2(c);l={next:f=>{e[o]&&e[o](new C$(c,d,h,f))},error:e[o+1],complete:e[o+2]},w$(t._query)}return function(h,d,f,m){const y=new t2(m),b=new KT(d,y,f);return h.asyncQueue.enqueueAndForget(async()=>WT(await Zg(h),b)),()=>{y.bc(),h.asyncQueue.enqueueAndForget(async()=>qT(await Zg(h),b))}}(vv(c),u,a,l)}function Sv(t,e){return function(n,r){const i=new zi;return n.asyncQueue.enqueueAndForget(async()=>W5(await l$(n),r,i)),i.promise}(vv(t),e)}function w2(t,e,n){const r=n.docs.get(e._key),i=new y2(t);return new m2(t,i,e._key,r,new nl(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ga=n})(fa),js(new qi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ws(new D4(n.getProvider("auth-internal")),new F4(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new J(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),xr(vb,"3.7.1",t),xr(vb,"3.7.1","esm2017")})();const jf=({type:t,checkout:e,stripe:n})=>{const r=({isActive:i})=>i?"text-secondary-content ":null;return p("section",{className:"h-20 md:h-36 w-full bg-primary-content flex items-center",children:S("div",{className:"w-full mx-auto px-2 lg:w-9/12 md:px-6 ",children:[p(_e,{to:"/",className:"text-xl md:text-3xl font-bold ",children:"Home /"}),p(nr,{to:"/all",className:r,children:p("span",{className:"text-xl md:text-3xl font-bold",children:" Products "})}),t&&p(nr,{to:{},className:r,children:S("span",{className:"text-xl md:text-3xl font-bold",children:["/ ",t]})}),e&&p(nr,{to:{},className:r,children:S("span",{className:"text-xl md:text-3xl font-bold",children:[" / ",e]})}),n&&p(nr,{to:{},className:r,children:S("span",{className:"text-xl md:text-3xl font-bold",children:[" / ",n]})})]})})},Kn=()=>aR.createPortal(p("div",{className:"overlay",children:p("div",{className:"loader"})}),document.getElementById("loader"));let P$={data:""},O$=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||P$,R$=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,A$=/\/\*[^]*?\*\/|  +/g,Yb=/\n+/g,mi=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?mi(o,s):s+"{"+mi(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=mi(o,e?e.replace(/([^,])+/g,a=>s.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=mi.p?mi.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Or={},b2=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+b2(t[n]);return e}return t},D$=(t,e,n,r,i)=>{let s=b2(t),o=Or[s]||(Or[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!Or[o]){let l=s!==t?t:(c=>{let u,h,d=[{}];for(;u=R$.exec(c.replace(A$,""));)u[4]?d.shift():u[3]?(h=u[3].replace(Yb," ").trim(),d.unshift(d[0][h]=d[0][h]||{})):d[0][u[1]]=u[2].replace(Yb," ").trim();return d[0]})(t);Or[o]=mi(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Or.g?Or.g:null;return n&&(Or.g=Or[o]),((l,c,u,h)=>{h?c.data=c.data.replace(h,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Or[o],e,r,a),o},M$=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":mi(a,""):a===!1?"":a}return r+i+(o==null?"":o)},"");function _n(t){let e=this||{},n=t.call?t(e.p):t;return D$(n.unshift?n.raw?M$(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,O$(e.target),e.g,e.o,e.k)}_n.bind({g:1});_n.bind({k:1});function L$(t,e,n,r){mi.p=e}var $$=new Map([["align-self","-ms-grid-row-align"],["color-adjust","-webkit-print-color-adjust"],["column-gap","grid-column-gap"],["gap","grid-gap"],["grid-template-columns","-ms-grid-columns"],["grid-template-rows","-ms-grid-rows"],["justify-self","-ms-grid-column-align"],["margin-inline-end","-webkit-margin-end"],["margin-inline-start","-webkit-margin-start"],["overflow-wrap","word-wrap"],["padding-inline-end","-webkit-padding-end"],["padding-inline-start","-webkit-padding-start"],["row-gap","grid-row-gap"],["scroll-margin-bottom","scroll-snap-margin-bottom"],["scroll-margin-left","scroll-snap-margin-left"],["scroll-margin-right","scroll-snap-margin-right"],["scroll-margin-top","scroll-snap-margin-top"],["scroll-margin","scroll-snap-margin"],["text-combine-upright","-ms-text-combine-horizontal"]]);function F$(t,e){let n="";const r=$$.get(t);r&&(n+=`${r}:${e};`);const i=function(o){var a=/^(?:(text-(?:decoration$|e|or|si)|back(?:ground-cl|d|f)|box-d|(?:mask(?:$|-[ispro]|-cl)))|(tab-|column(?!-s)|text-align-l)|(ap)|(u|hy))/i.exec(o);return a?a[1]?1:a[2]?2:a[3]?3:5:0}(t);1&i&&(n+=`-webkit-${t}:${e};`),2&i&&(n+=`-moz-${t}:${e};`),4&i&&(n+=`-ms-${t}:${e};`);const s=function(o,a){var l=/^(?:(pos)|(background-i)|((?:max-|min-)?(?:block-s|inl|he|widt))|(dis))/i.exec(o);return l?l[1]?/^sti/i.test(a)?1:0:l[2]?/^image-/i.test(a)?1:0:l[3]?a[3]==="-"?2:0:/^(inline-)?grid$/i.test(a)?4:0:0}(t,e);return 1&s?n+=`${t}:-webkit-${e};`:2&s?n+=`${t}:-moz-${e};`:4&s&&(n+=`${t}:-ms-${e};`),n+=`${t}:${e};`,n}function ey(){return ey=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(this,arguments)}function _2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ty(t,e)}function ty(t,e){return ty=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ty(t,e)}function _s(t,e){return e||(e=t.slice(0)),t.raw=e,t}var Qb,Xb,Jb,Zb,z$=function(t){_2(e,t);function e(){var r;return r=t.apply(this,arguments)||this,r.onClick=function(i){var s=r.props,o=s.index,a=s.onClick;a(i,o)},r.onHover=function(i){var s=r.props,o=s.index,a=s.onHover;a(i,o)},r.getStarType=function(){var i=r.props,s=i.allowHalf,o=i.index,a=i.value,l=o+1;return s&&a+.5>=l&&a<l?"half":l<=a?"full":"zero"},r.getValue=function(i,s){var o=r.props,a=o.allowHalf,l=o.index,c=l+1;if(a){var u,h,d=r.starRef.ownerDocument,f=d.body,m=d.documentElement,y=(u=r.starRef)==null?void 0:u.getBoundingClientRect(),b=y==null?void 0:y.left;b-=(m==null?void 0:m.clientLeft)||f.clientLeft||0;var g=d.defaultView||d.parentWindow,v=g.pageXOffset,w="scrollLeft";typeof v!="number"&&(v=d.documentElement[w],typeof v!="number"&&(v=d.body[w])),b+=v;var _=(h=r.starRef)==null?void 0:h.clientWidth;(!s&&i-b<_/2||s&&i-b>_/2)&&(c-=.5)}return c},r}var n=e.prototype;return n.render=function(){var i,s,o=this,a,l,c=this.props,u=c.classNamePrefix,h=c.count,d=c.disabled,f=c.index,m=c.reverse,y=c.style,b=c.styleFull,g=c.styleFullHover,v=c.styleHalf,w=c.styleHalfHover,_=c.styleHover,x=c.styleZero,k=c.styleZeroHover,E=c.symbol,T=c.value,N=typeof E=="function"?E(this.props):E,P=this.getStarType(),U={zero:u+"__star--zero",half:u+"__star--half",full:u+"__star--full"},B=u+"__star "+U[P],W={zero:x,full:b,half:v},re={zero:k,full:g,half:w},j=_n(Qb||(Qb=_s([`
      position: absolute;
      left: 0;
      top: 0;
      width: 50%;
      height: 100%;
      overflow: hidden;
      opacity: 0;
      transition: all 500ms ease;
    `]))),te=_n({"&:hover":(i=re[P])==null?void 0:i.first}),ne=_n({"&:hover":(s=re[P])==null?void 0:s.second}),R={zero:"",half:_n(Xb||(Xb=_s([`
        .`,` {
          opacity: 1;
          color: #ffd166;
        }

        &:hover {
          .`,` {
            color: #ffe3a2;
          }
        }
      `])),j,j),full:_n(Jb||(Jb=_s([`
        color: #ffd166 !important;

        &:hover {
          color: #ffe3a2;
        }
      `])))},H=_n(Zb||(Zb=_s([`
      margin: 0;
      padding: 0;
      display: inline-block;
      margin-right: 8px;
      position: relative;
      color: #e8eaeb;
      cursor: pointer;
      transition: all 500ms ease;
      `,`
    `])),m?`
        margin-right: 0;
        margin-left: 8px;
        float: right;

        .`+j+` {
            right: 0;
            left: auto;
        }
      `:""),q=_n({"&:hover":_[P]});return C.exports.createElement("li",{"aria-checked":T>f?"true":"false","aria-label":f+1+" out of "+h+" stars","aria-posinset":f+1,"aria-setsize":h,className:B+" "+H+" "+q+" "+R[P],onClick:d?void 0:this.onClick,onMouseMove:d?void 0:this.onHover,ref:function(ae){o.starRef=ae},role:"radio",style:y[P],tabIndex:d?-1:0},C.exports.createElement("div",{"aria-hidden":"true",className:u+"__star__first "+j+" "+te,style:(a=W[P])==null?void 0:a.first},N),C.exports.createElement("div",{"aria-hidden":"true",className:u+"__star__second "+ne,style:(l=W[P])==null?void 0:l.second},N))},e}(C.exports.Component),e_,t_,n_;L$(C.exports.createElement,F$);var r_=function(){},x2=function(t){_2(e,t);function e(r){var i;i=t.call(this,r)||this,i.onHover=function(a,l){var c=i.props.onHoverChange,u=i.state.clearedValue,h=i.getStarValue(l,a.pageX);h!==u&&i.setState({hoverValue:h,clearedValue:void 0}),c(h)},i.onMouseLeave=function(){var a=i.props.onHoverChange;i.setState({hoverValue:void 0,clearedValue:void 0}),a(void 0)},i.onClick=function(a,l){var c=i.props.allowClear,u=i.state.value,h=i.getStarValue(l,a.pageX),d=c?h===u:!1;i.onMouseLeave(),i.changeValue(d?0:h),i.setState({clearedValue:d?h:void 0})},i.onFocus=function(){var a=i.props.onFocus;a&&a()},i.onBlur=function(){var a=i.props.onBlur;a&&a()},i.changeValue=function(a){var l=i.props.onChange;"value"in i.props||i.setState({value:a}),l(a)},i.saveStarRef=function(a){return function(l){i.starRefs[a]=l}},i.getStarValue=function(a,l){var c=i.props.direction,u=c==="rtl";return i.starRefs[a].getValue(l,u)},i.focus=function(){var a=i.props.disabled;if(!a){var l;(l=i.ratingContainerRef)==null||l.focus()}};var s=r.defaultValue,o=r.value;return i.starRefs={},i.state={value:o!=null?o:s},i}var n=e.prototype;return n.componentDidMount=function(){var i=this.props,s=i.autoFocus,o=i.disabled;s&&!o&&this.focus()},e.getDerivedStateFromProps=function(i,s){return"value"in i&&i.value!==void 0?ey({},s,{value:i.value}):s},n.render=function(){for(var i,s=this,o=this.props,a=o.allowHalf,l=o.classNamePrefix,c=o.count,u=o.direction,h=o.disabled,d=o.style,f=o.symbol,m=o.tabIndex,y=this.state,b=y.hoverValue,g=y.value,v=[],w=0;w<(c!=null?c:0);w++){var _,x,k,E,T,N,P,U,B,W,re,j;v.push(C.exports.createElement(z$,{allowHalf:a,classNamePrefix:l,count:c,disabled:h,index:w,key:w,ref:this.saveStarRef(w),onClick:this.onClick,onHover:this.onHover,reverse:u==="rtl",style:{full:d==null||(_=d.full)==null?void 0:_.star,half:d==null||(x=d.half)==null?void 0:x.star,zero:d==null||(k=d.zero)==null?void 0:k.star},styleFull:d==null?void 0:d.full,styleFullHover:d==null||(E=d.hover)==null?void 0:E.full,styleHalf:d==null?void 0:d.half,styleHalfHover:d==null||(T=d.hover)==null?void 0:T.half,styleHover:{full:d==null||(N=d.hover)==null||(P=N.full)==null?void 0:P.star,half:d==null||(U=d.hover)==null||(B=U.half)==null?void 0:B.star,zero:d==null||(W=d.hover)==null||(re=W.zero)==null?void 0:re.star},styleZero:d==null?void 0:d.zero,styleZeroHover:d==null||(j=d.hover)==null?void 0:j.zero,symbol:f,value:b===void 0?g:b}))}var te=_n(e_||(e_=_s([`
      margin: 0;
      padding: 0;
      list-style: none;
      font-size: 40px;
      display: inline-block;
      vertical-align: middle;
      font-weight: normal;
      font-style: normal;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
        Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    `]))),ne=_n({"&:hover":d==null||(i=d.hover)==null?void 0:i.style});return C.exports.createElement("ul",{"aria-label":"Stars Rating",className:l+" "+te+" "+ne+" "+(u==="rtl"?l+"--rtl "+_n(t_||(t_=_s([`
                direction: rtl;
              `]))):l+"--ltr "+_n(n_||(n_=_s([`
                direction: ltr;
              `])))),onBlur:this.onBlur,onFocus:this.onFocus,onMouseLeave:h?void 0:this.onMouseLeave,ref:function(H){s.ratingContainerRef=H},role:"radiogroup",style:d==null?void 0:d.style,tabIndex:h?-1:m},v)},e}(C.exports.Component);x2.defaultProps={allowClear:!0,allowHalf:!0,classNamePrefix:"react-star-rate",count:5,defaultValue:0,direction:"ltr",disabled:!1,onChange:r_,onHoverChange:r_,style:{},symbol:"\u2605",tabIndex:0};const S2=x2,B$=({review:t})=>{const{userName:e,rating:n,review:r,reviewDate:i}=t;return S("main",{className:"p-2 w-full border-2 rounded-md ",children:[S("section",{className:"flex justify-between mb-2 flex-col lg:flex-row  ",children:[S("div",{className:"flex items-start gap-2",children:[p("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-white-blue-png-image_3918443.jpg",alt:"dp",className:"rounded-full w-14"}),S("div",{children:[p("h1",{className:"md:text-lg font-semibold ",children:e||"Anonymous"}),p("p",{className:"text-gray-400",children:i})]})]}),p(S2,{disabled:!0,value:n})]}),p("p",{className:"md:text-lg",children:r})]})};var U$="firebase",j$="9.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(U$,j$,"app");function Ev(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function E2(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V$=E2,k2=new Ec("auth","Firebase",E2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new I0("@firebase/auth");function sh(t,...e){i_.logLevel<=we.ERROR&&i_.error(`Auth (${fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,...e){throw kv(t,...e)}function kr(t,...e){return kv(t,...e)}function C2(t,e,n){const r=Object.assign(Object.assign({},V$()),{[e]:n});return new Ec("auth","Firebase",r).create(e,{appName:t.name})}function H$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vn(t,"argument-error"),C2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return k2.create(t,...e)}function ee(t,e,...n){if(!t)throw kv(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sh(e),new Error(e)}function ni(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=new Map;function Vr(t){ni(t instanceof Function,"Expected a class definition");let e=s_.get(t);return e?(ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,s_.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(t,e){const n=mf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Wh(s,e!=null?e:{}))return i;Vn(i,"already-initialized")}return n.initialize({options:e})}function q$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function K$(){return o_()==="http:"||o_()==="https:"}function o_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K$()||aM()||"connection"in navigator)?navigator.onLine:!0}function Y$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ni(n>e,"Short delay should be less than long delay!"),this.isMobile=oM()||lM()}get(){return G$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t,e){ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$=new Hc(3e4,6e4);function _a(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xa(t,e,n,r,i={}){return I2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=kc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),T2.fetch()(N2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function I2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Q$),e);try{const i=new J$(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cu(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw C2(t,u,c);Vn(t,u)}}catch(i){if(i instanceof Pr)throw i;Vn(t,"network-request-failed")}}async function Wc(t,e,n,r,i={}){const s=await xa(t,e,n,r,i);return"mfaPendingCredential"in s&&Vn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function N2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Cv(t.config,i):`${t.config.apiScheme}://${i}`}class J${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),X$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$(t,e){return xa(t,"POST","/v1/accounts:delete",e)}async function eF(t,e){return xa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tF(t,e=!1){const n=st(t),r=await n.getIdToken(e),i=Tv(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vl(em(i.auth_time)),issuedAtTime:vl(em(i.iat)),expirationTime:vl(em(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function em(t){return Number(t)*1e3}function Tv(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Wk(r);return s?JSON.parse(s):(sh("Failed to decode base64 JWT payload"),null)}catch(s){return sh("Caught error parsing JWT payload as JSON",(e=s)===null||e===void 0?void 0:e.toString()),null}}function nF(t){const e=Tv(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pr&&rF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(t){var e;const n=t.auth,r=await t.getIdToken(),i=await oc(t,eF(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aF(s.providerUserInfo):[],a=oF(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new P2(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function sF(t){const e=st(t);await ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aF(t){return t.map(e=>{var{providerId:n}=e,r=Ev(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e){const n=await I2(t,{},async()=>{const r=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=N2(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",T2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ee(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await lF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ac;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ac,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ns{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ev(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new P2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await oc(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tF(this,e)}reload(){return sF(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await oc(this,Z$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:_,isAnonymous:x,providerData:k,stsTokenManager:E}=n;ee(w&&E,e,"internal-error");const T=ac.fromJSON(this.name,E);ee(typeof w=="string",e,"internal-error"),li(h,e.name),li(d,e.name),ee(typeof _=="boolean",e,"internal-error"),ee(typeof x=="boolean",e,"internal-error"),li(f,e.name),li(m,e.name),li(y,e.name),li(b,e.name),li(g,e.name),li(v,e.name);const N=new Ns({uid:w,auth:e,email:d,emailVerified:_,displayName:h,isAnonymous:x,photoURL:m,phoneNumber:f,tenantId:y,stsTokenManager:T,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(N.providerData=k.map(P=>Object.assign({},P))),b&&(N._redirectEventId=b),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new ac;i.updateFromServerResponse(n);const s=new Ns({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ld(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}O2.type="NONE";const a_=O2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t,e,n){return`firebase:${t}:${e}:${n}`}class zo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=oh(this.userKey,i.apiKey,s),this.fullPersistenceKey=oh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zo(Vr(a_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Vr(a_);const o=oh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Ns._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new zo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new zo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L2(e))return"Blackberry";if($2(e))return"Webos";if(Iv(e))return"Safari";if((e.includes("chrome/")||A2(e))&&!e.includes("edge/"))return"Chrome";if(M2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function R2(t=Xt()){return/firefox\//i.test(t)}function Iv(t=Xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A2(t=Xt()){return/crios\//i.test(t)}function D2(t=Xt()){return/iemobile/i.test(t)}function M2(t=Xt()){return/android/i.test(t)}function L2(t=Xt()){return/blackberry/i.test(t)}function $2(t=Xt()){return/webos/i.test(t)}function Vf(t=Xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cF(t=Xt()){var e;return Vf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uF(){return cM()&&document.documentMode===10}function F2(t=Xt()){return Vf(t)||M2(t)||$2(t)||L2(t)||/windows phone/i.test(t)||D2(t)}function hF(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t,e=[]){let n;switch(t){case"Browser":n=l_(Xt());break;case"Worker":n=`${l_(Xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c_(this),this.idTokenSubscription=new c_(this),this.beforeStateQueue=new dF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k2,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await ld(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?st(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ec("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Sa(t){return st(t)}class c_{constructor(e){this.auth=e,this.observer=null,this.addObserver=xM(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pF(t,e,n){const r=Sa(t);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=B2(e),{host:o,port:a}=mF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||gF()}function B2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mF(t){const e=B2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:u_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:u_(o)}}}function u_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function yF(t,e){return xa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vF(t,e){return Wc(t,"POST","/v1/accounts:signInWithPassword",_a(t,e))}async function wF(t,e){return xa(t,"POST","/v1/accounts:sendOobCode",_a(t,e))}async function bF(t,e){return wF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F(t,e){return Wc(t,"POST","/v1/accounts:signInWithEmailLink",_a(t,e))}async function xF(t,e){return Wc(t,"POST","/v1/accounts:signInWithEmailLink",_a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends Nv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new lc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return vF(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return _F(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return yF(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return xF(e,{idToken:n,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(t,e){return Wc(t,"POST","/v1/accounts:signInWithIdp",_a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF="http://localhost";class qs extends Nv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ev(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new qs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bo(e,n)}buildRequest(){const e={requestUri:SF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kF(t){const e=Xa(Ja(t)).link,n=e?Xa(Ja(e)).deep_link_id:null,r=Xa(Ja(t)).deep_link_id;return(r?Xa(Ja(r)).link:null)||r||n||e||t}class Pv{constructor(e){var n,r,i,s,o,a;const l=Xa(Ja(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=EF((i=l.mode)!==null&&i!==void 0?i:null);ee(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=kF(e);try{return new Pv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.providerId=Ea.PROVIDER_ID}static credential(e,n){return lc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Pv.parseLink(n);return ee(r,"argument-error"),lc._fromEmailAndCode(e,r.code,r.tenantId)}}Ea.PROVIDER_ID="password";Ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends Ov{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends qc{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fr.credential(n,r)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends qc{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends qc{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vi.credential(n,r)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF(t,e){return Wc(t,"POST","/v1/accounts:signUp",_a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ns._fromIdTokenResponse(e,r,i),o=h_(r);return new Ks({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=h_(r);return new Ks({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function h_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends Pr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new cd(e,n,r,i)}}function U2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cd._fromErrorAndOperation(t,s,e,r):s})}async function TF(t,e,n=!1){const r=await oc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ks._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IF(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=await oc(t,U2(i,s,e,t),n);ee(o.idToken,i,"internal-error");const a=Tv(o.idToken);ee(a,i,"internal-error");const{sub:l}=a;return ee(t.uid===l,i,"user-mismatch"),Ks._forOperation(t,s,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&Vn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(t,e,n=!1){const r="signIn",i=await U2(t,r,e),s=await Ks._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function NF(t,e){return j2(Sa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(t,e,n){var r;ee(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ee(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ee(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ee(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(t,e,n){const r=st(t),i={requestType:"PASSWORD_RESET",email:e};n&&PF(r,i,n),await bF(r,i)}async function RF(t,e,n){const r=Sa(t),i=await CF(r,{returnSecureToken:!0,email:e,password:n}),s=await Ks._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function d_(t,e,n){return NF(st(t),Ea.credential(e,n))}function AF(t,e,n,r){return st(t).onIdTokenChanged(e,n,r)}function DF(t,e,n){return st(t).beforeAuthStateChanged(e,n)}function MF(t,e,n,r){return st(t).onAuthStateChanged(e,n,r)}function LF(t){return st(t).signOut()}const ud="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ud,"1"),this.storage.removeItem(ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(){const t=Xt();return Iv(t)||Vf(t)}const FF=1e3,zF=10;class H2 extends V2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$F()&&hF(),this.fallbackToPolling=F2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);uF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}H2.type="LOCAL";const BF=H2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2 extends V2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}W2.type="SESSION";const q2=W2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await UF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Rv("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function VF(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function HF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qF(){return K2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="firebaseLocalStorageDb",KF=1,hd="firebaseLocalStorage",Y2="fbase_key";class Kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wf(t,e){return t.transaction([hd],e?"readwrite":"readonly").objectStore(hd)}function GF(){const t=indexedDB.deleteDatabase(G2);return new Kc(t).toPromise()}function ry(){const t=indexedDB.open(G2,KF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hd,{keyPath:Y2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hd)?e(r):(r.close(),await GF(),e(await ry()))})})}async function f_(t,e,n){const r=Wf(t,!0).put({[Y2]:e,value:n});return new Kc(r).toPromise()}async function YF(t,e){const n=Wf(t,!1).get(e),r=await new Kc(n).toPromise();return r===void 0?null:r.value}function p_(t,e){const n=Wf(t,!0).delete(e);return new Kc(n).toPromise()}const QF=800,XF=3;class Q2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ry(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>XF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hf._getInstance(qF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await HF(),!this.activeServiceWorker)return;this.sender=new jF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ry();return await f_(e,ud,"1"),await p_(e,ud),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>f_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>p_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wf(i,!1).getAll();return new Kc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q2.type="LOCAL";const JF=Q2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function e6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=kr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ZF().appendChild(r)})}function t6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t,e){return e?Vr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends Nv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function n6(t){return j2(t.auth,new Av(t),t.bypassAuthState)}function r6(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),IF(n,new Av(t),t.bypassAuthState)}async function i6(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),TF(n,new Av(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n6;case"linkViaPopup":case"linkViaRedirect":return i6;case"reauthViaPopup":case"reauthViaRedirect":return r6;default:Vn(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=new Hc(2e3,1e4);async function o6(t,e,n){const r=Sa(t);H$(t,e,Ov);const i=X2(r,n);return new xs(r,"signInViaPopup",e,i).executeNotNull()}class xs extends J2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=Rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,s6.get())};e()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="pendingRedirect",ah=new Map;class l6 extends J2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const r=await c6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c6(t,e){const n=d6(e),r=h6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function u6(t,e){ah.set(t._key(),e)}function h6(t){return Vr(t._redirectPersistence)}function d6(t){return oh(a6,t.config.apiKey,t.name)}async function f6(t,e,n=!1){const r=Sa(t),i=X2(r,e),o=await new l6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=10*60*1e3;class m6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!g6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Z2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p6&&this.cachedEventUids.clear(),this.cachedEventUids.has(m_(e))}saveEventToCache(e){this.cachedEventUids.add(m_(e)),this.lastProcessedEventTime=Date.now()}}function m_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Z2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function g6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e={}){return xa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w6=/^https?/;async function b6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await y6(t);for(const n of e)try{if(_6(n))return}catch{}Vn(t,"unauthorized-domain")}function _6(t){const e=ny(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!w6.test(n))return!1;if(v6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new Hc(3e4,6e4);function g_(){const t=Cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S6(t){return new Promise((e,n)=>{var r,i,s;function o(){g_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g_(),n(kr(t,"network-request-failed"))},timeout:x6.get()})}if(!((i=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Cr().gapi)===null||s===void 0)&&s.load)o();else{const a=t6("iframefcb");return Cr()[a]=()=>{gapi.load?o():n(kr(t,"network-request-failed"))},e6(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw lh=null,e})}let lh=null;function E6(t){return lh=lh||S6(t),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=new Hc(5e3,15e3),C6="__/auth/iframe",T6="emulator/auth/iframe",I6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P6(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cv(e,T6):`https://${t.config.authDomain}/${C6}`,r={apiKey:e.apiKey,appName:t.name,v:fa},i=N6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${kc(r).slice(1)}`}async function O6(t){const e=await E6(t),n=Cr().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:P6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=kr(t,"network-request-failed"),a=Cr().setTimeout(()=>{s(o)},k6.get());function l(){Cr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A6=500,D6=600,M6="_blank",L6="http://localhost";class y_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $6(t,e,n,r=A6,i=D6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},R6),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Xt().toLowerCase();n&&(a=A2(c)?M6:n),R2(c)&&(e=e||L6,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,m])=>`${d}${f}=${m},`,"");if(cF(c)&&a!=="_self")return F6(e||"",a),new y_(null);const h=window.open(e||"",a,u);ee(h,t,"popup-blocked");try{h.focus()}catch{}return new y_(h)}function F6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="__/auth/handler",B6="emulator/auth/handler";function v_(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fa,eventId:i};if(e instanceof Ov){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_M(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof qc){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${U6(t)}?${kc(a).slice(1)}`}function U6({config:t}){return t.emulator?Cv(t,B6):`https://${t.authDomain}/${z6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="webStorageSupport";class j6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q2,this._completeRedirectFn=f6,this._overrideRedirectResult=u6}async _openPopup(e,n,r,i){var s;ni((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=v_(e,n,r,ny(),i);return $6(e,o,Rv())}async _openRedirect(e,n,r,i){return await this._originValidation(e),VF(v_(e,n,r,ny(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ni(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await O6(e),r=new m6(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tm,{type:tm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[tm];o!==void 0&&n(!!o),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=b6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return F2()||Iv()||Vf()}}const V6=j6;var w_="@firebase/auth",b_="0.20.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function q6(t){js(new qi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{ee(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),ee(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z2(t)},u=new fF(a,l,c);return q$(u,n),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),js(new qi("auth-internal",e=>{const n=Sa(e.getProvider("auth").getImmediate());return(r=>new H6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(w_,b_,W6(t)),xr(w_,b_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=5*60,G6=Gk("authIdTokenMaxAge")||K6;let __=null;const Y6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>G6)return;const i=n==null?void 0:n.token;__!==i&&(__=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Q6(t=P0()){const e=mf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=W$(t,{popupRedirectResolver:V6,persistence:[JF,BF,q2]}),r=Gk("authTokenSyncURL");if(r){const s=Y6(r);DF(n,s,()=>s(n.currentUser)),AF(n,o=>s(o))}const i=qk("auth");return i&&pF(n,`http://${i}`),n}q6("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="firebasestorage.googleapis.com",tI="storageBucket",X6=2*60*1e3,J6=10*60*1e3,Z6=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt extends Pr{constructor(e,n,r=0){super(nm(e),`Firebase Storage: ${n} (${nm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function nm(t){return"storage/"+t}function Dv(){const t="An unknown error occurred, please check the error payload for server response.";return new nt("unknown",t)}function ez(t){return new nt("object-not-found","Object '"+t+"' does not exist.")}function tz(t){return new nt("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nz(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nt("unauthenticated",t)}function rz(){return new nt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function iz(t){return new nt("unauthorized","User does not have permission to access '"+t+"'.")}function nI(){return new nt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function rI(){return new nt("canceled","User canceled the upload/download.")}function sz(t){return new nt("invalid-url","Invalid URL '"+t+"'.")}function oz(t){return new nt("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function az(){return new nt("no-default-bucket","No default bucket found. Did you set the '"+tI+"' property when initializing the app?")}function iI(){return new nt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function lz(){return new nt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function cz(){return new nt("no-download-url","The given file does not have any download URLs.")}function iy(t){return new nt("invalid-argument",t)}function sI(){return new nt("app-deleted","The Firebase app was deleted.")}function uz(t){return new nt("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wl(t,e){return new nt("invalid-format","String does not match format '"+t+"': "+e)}function za(t){throw new nt("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(r.path==="")return r;throw oz(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(_){_.path_=decodeURIComponent(_.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${u}/b/${i}/o${d}`,"i"),m={bucket:1,path:3},y=n===eI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",g=new RegExp(`^https?://${y}/${i}/${b}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:f,indices:m,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let _=0;_<w.length;_++){const x=w[_],k=x.regex.exec(e);if(k){const E=k[x.indices.bucket];let T=k[x.indices.path];T||(T=""),r=new Sn(E,T),x.postModify(r);break}}if(r==null)throw sz(e);return r}}class hz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...b){c||(c=!0,e.apply(null,b))}function h(b){i=setTimeout(()=>{i=null,t(f,l())},b)}function d(){s&&clearTimeout(s)}function f(b,...g){if(c){d();return}if(b){d(),u.call(null,b,...g);return}if(l()||o){d(),u.call(null,b,...g);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let m=!1;function y(b){m||(m=!0,d(),!c&&(i!==null?(b||(a=2),clearTimeout(i),h(0)):b||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function fz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(t){return t!==void 0}function mz(t){return typeof t=="function"}function gz(t){return typeof t=="object"&&!Array.isArray(t)}function qf(t){return typeof t=="string"||t instanceof String}function x_(t){return Mv()&&t instanceof Blob}function Mv(){return typeof Blob<"u"}function S_(t,e,n,r){if(r<e)throw iy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw iy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function oI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ps;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ps||(Ps={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,n,r,i,s,o,a,l,c,u,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,m)=>{this.resolve_=f,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Tu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ps.NO_ERROR,l=s.getStatus();if((!a||aI(l,this.additionalRetryCodes_))&&this.retry){const u=s.getErrorCode()===Ps.ABORT;r(!1,new Tu(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Tu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());pz(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Dv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?sI():rI();o(l)}else{const l=nI();o(l)}};this.canceled_?n(!1,new Tu(!1,null,!0)):this.backoffId_=dz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function vz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function wz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function bz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _z(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xz(t,e,n,r,i,s,o=!0){const a=oI(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return bz(c,e),vz(c,n),wz(c,s),_z(c,r),new yz(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ez(...t){const e=Sz();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Mv())return new Blob(t);throw new nt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function kz(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rm{constructor(e,n){this.data=e,this.contentType=n||null}}function Tz(t,e){switch(t){case yr.RAW:return new rm(lI(e));case yr.BASE64:case yr.BASE64URL:return new rm(cI(t,e));case yr.DATA_URL:return new rm(Nz(e),Pz(e))}throw Dv()}function lI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Iz(t){let e;try{e=decodeURIComponent(t)}catch{throw wl(yr.DATA_URL,"Malformed data URL.")}return lI(e)}function cI(t,e){switch(t){case yr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw wl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case yr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw wl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Cz(e)}catch{throw wl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class uI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw wl(yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Oz(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Nz(t){const e=new uI(t);return e.base64?cI(yr.BASE64,e.rest):Iz(e.rest)}function Pz(t){return new uI(t).contentType}function Oz(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){let r=0,i="";x_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(x_(this.data_)){const r=this.data_,i=kz(r,e,n);return i===null?null:new wi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new wi(r,!0)}}static getBlob(...e){if(Mv()){const n=e.map(r=>r instanceof wi?r.data_:r);return new wi(Ez.apply(null,n))}else{const n=e.map(o=>qf(o)?Tz(yr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new wi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t){let e;try{e=JSON.parse(t)}catch{return null}return gz(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Az(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function dI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(t,e){return e}class en{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Dz}}let Iu=null;function Mz(t){return!qf(t)||t.length<2?t:dI(t)}function fI(){if(Iu)return Iu;const t=[];t.push(new en("bucket")),t.push(new en("generation")),t.push(new en("metageneration")),t.push(new en("name","fullPath",!0));function e(s,o){return Mz(o)}const n=new en("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new en("size");return i.xform=r,t.push(i),t.push(new en("timeCreated")),t.push(new en("updated")),t.push(new en("md5Hash",null,!0)),t.push(new en("cacheControl",null,!0)),t.push(new en("contentDisposition",null,!0)),t.push(new en("contentEncoding",null,!0)),t.push(new en("contentLanguage",null,!0)),t.push(new en("contentType",null,!0)),t.push(new en("metadata","customMetadata",!0)),Iu=t,Iu}function Lz(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Sn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function $z(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Lz(r,t),r}function pI(t,e,n){const r=hI(e);return r===null?null:$z(t,r,n)}function Fz(t,e,n,r){const i=hI(e);if(i===null||!qf(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,h=t.fullPath,d="/b/"+o(u)+"/o/"+o(h),f=ka(d,n,r),m=oI({alt:"media",token:c});return f+m})[0]}function mI(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class ro{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t){if(!t)throw Dv()}function Lv(t,e){function n(r,i){const s=pI(t,i,e);return qr(s!==null),s}return n}function zz(t,e){function n(r,i){const s=pI(t,i,e);return qr(s!==null),Fz(s,i,t.host,t._protocol)}return n}function Gc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=rz():i=nz():n.getStatus()===402?i=tz(t.bucket):n.getStatus()===403?i=iz(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function $v(t){const e=Gc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=ez(t.path)),s.serverResponse=i.serverResponse,s}return n}function Bz(t,e,n){const r=e.fullServerUrl(),i=ka(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ro(i,s,Lv(t,n),o);return a.errorHandler=$v(e),a}function Uz(t,e,n){const r=e.fullServerUrl(),i=ka(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ro(i,s,zz(t,n),o);return a.errorHandler=$v(e),a}function jz(t,e){const n=e.fullServerUrl(),r=ka(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new ro(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=$v(e),a}function Vz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function gI(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Vz(null,e)),r}function Hz(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let _=0;_<2;_++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=gI(e,r,i),u=mI(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+l+"--",f=wi.getBlob(h,r,d);if(f===null)throw iI();const m={name:c.fullPath},y=ka(s,t.host,t._protocol),b="POST",g=t.maxUploadRetryTime,v=new ro(y,b,Lv(t,n),g);return v.urlParams=m,v.headers=o,v.body=f.uploadData(),v.errorHandler=Gc(e),v}class dd{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Fv(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{qr(!1)}return qr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Wz(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=gI(e,r,i),a={name:o.fullPath},l=ka(s,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=mI(o,n),d=t.maxUploadRetryTime;function f(y){Fv(y);let b;try{b=y.getResponseHeader("X-Goog-Upload-URL")}catch{qr(!1)}return qr(qf(b)),b}const m=new ro(l,c,f,d);return m.urlParams=a,m.headers=u,m.body=h,m.errorHandler=Gc(e),m}function qz(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const u=Fv(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qr(!1)}h||qr(!1);const d=Number(h);return qr(!isNaN(d)),new dd(d,r.size(),u==="final")}const o="POST",a=t.maxUploadRetryTime,l=new ro(n,o,s,a);return l.headers=i,l.errorHandler=Gc(e),l}const E_=256*1024;function Kz(t,e,n,r,i,s,o,a){const l=new dd(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw lz();const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,d=h+u;let f="";u===0?f="finalize":c===u?f="upload, finalize":f="upload";const m={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},y=r.slice(h,d);if(y===null)throw iI();function b(_,x){const k=Fv(_,["active","final"]),E=l.current+u,T=r.size();let N;return k==="final"?N=Lv(e,s)(_,x):N=null,new dd(E,T,k==="final",N)}const g="POST",v=e.maxUploadRetryTime,w=new ro(n,g,b,v);return w.headers=m,w.body=y.uploadData(),w.progressCallback=a||null,w.errorHandler=Gc(t),w}const ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function im(t){switch(t){case"running":case"pausing":case"canceling":return ln.RUNNING;case"paused":return ln.PAUSED;case"success":return ln.SUCCESS;case"canceled":return ln.CANCELED;case"error":return ln.ERROR;default:return ln.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n,r){if(mz(e)||n!=null||r!=null)this.next=e,this.error=n!=null?n:void 0,this.complete=r!=null?r:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Yz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ps.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ps.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ps.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw za("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw za("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw za("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw za("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw za("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Qz extends Yz{initXhr(){this.xhr_.responseType="text"}}function ps(){return new Qz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=fI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(aI(i.status,[]))if(s)i=nI();else{this.sleepTime=Math.max(this.sleepTime*2,Z6),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Wz(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ps,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=qz(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ps,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=E_*this._chunkMultiplier,n=new dd(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=Kz(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,ps,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){E_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Bz(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ps,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Hz(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ps,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=rI(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=im(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new Gz(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(im(this._state)){case ln.SUCCESS:uo(this._resolve.bind(null,this.snapshot))();break;case ln.CANCELED:case ln.ERROR:const n=this._reject;uo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(im(this._state)){case ln.RUNNING:case ln.PAUSED:e.next&&uo(e.next.bind(e,this.snapshot))();break;case ln.SUCCESS:e.complete&&uo(e.complete.bind(e))();break;case ln.CANCELED:case ln.ERROR:e.error&&uo(e.error.bind(e,this._error))();break;default:e.error&&uo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gs(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dI(this._location.path)}get storage(){return this._service}get parent(){const e=Rz(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new Gs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uz(e)}}function Jz(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Xz(t,new wi(e),n)}function Zz(t){t._throwIfRoot("getDownloadURL");const e=Uz(t.storage,t._location,fI());return t.storage.makeRequestWithTokens(e,ps).then(n=>{if(n===null)throw cz();return n})}function eB(t){t._throwIfRoot("deleteObject");const e=jz(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ps)}function tB(t,e){const n=Az(t._location.path,e),r=new Sn(t._location.bucket,n);return new Gs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t){return/^[A-Za-z]+:\/\//.test(t)}function rB(t,e){return new Gs(t,e)}function yI(t,e){if(t instanceof zv){const n=t;if(n._bucket==null)throw az();const r=new Gs(n,n._bucket);return e!=null?yI(r,e):r}else return e!==void 0?tB(t,e):t}function iB(t,e){if(e&&nB(e)){if(t instanceof zv)return rB(t,e);throw iy("To use ref(service, url), the first argument must be a Storage instance.")}else return yI(t,e)}function k_(t,e){const n=e==null?void 0:e[tI];return n==null?null:Sn.makeFromBucketSpec(n,t)}function sB(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Yk(i,t.app.options.projectId))}class zv{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=eI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=X6,this._maxUploadRetryTime=J6,this._requests=new Set,i!=null?this._bucket=Sn.makeFromBucketSpec(i,this._host):this._bucket=k_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=k_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){S_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){S_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new hz(sI());{const o=xz(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const C_="@firebase/storage",T_="0.9.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="storage";function oB(t,e,n){return t=st(t),Jz(t,e,n)}function aB(t){return t=st(t),Zz(t)}function wI(t){return t=st(t),eB(t)}function sy(t,e){return t=st(t),iB(t,e)}function lB(t=P0(),e){t=st(t);const r=mf(t,vI).getImmediate({identifier:e}),i=Kk("storage");return i&&cB(r,...i),r}function cB(t,e,n,r={}){sB(t,e,n,r)}function uB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new zv(n,r,i,e,fa)}function hB(){js(new qi(vI,uB,"PUBLIC").setMultipleInstances(!0)),xr(C_,T_,""),xr(C_,T_,"esm2017")}hB();const dB={apiKey:"AIzaSyDkAsgsJDlMEf3dbnQcpzTs0cVgB1Kz1hQ",authDomain:"ecomerce-53647.firebaseapp.com",projectId:"ecomerce-53647",storageBucket:"ecomerce-53647.appspot.com",messagingSenderId:"381416410315",appId:"1:381416410315:web:fbf940f040f01feb8e9f4e"},Bv=Jk(dB),Os=Q6(Bv),Nr=h$(Bv),oy=lB(Bv),io=t=>{const[e,n]=C.exports.useState([]),[r,i]=C.exports.useState(!1);function s(){i(!0);try{const o=Vc(Nr,t),a=_$(o,S$("createdAt","desc"));N$(a,l=>{const c=[];l.forEach(u=>{c.push({id:u.id,...u.data()})}),n(c),i(!1)})}catch(o){X.error(o.code,o.message),i(!1)}}return C.exports.useEffect(()=>{s()},[]),{data:e,isLoading:r}},fB=()=>{const{cartItems:t}=De(f=>f.cart),[e,n]=C.exports.useState({}),[r,i]=C.exports.useState(!1),{id:s}=_c(),o=vn();//! fetch Review Collection
const{data:a}=io("reviews"),l=a.filter(f=>f.productId===s);//! fetch single product Document from products collection
async function c(){i(!0);const f=ba(Nr,"products",s),m=await g2(f);m.exists()?(n(m.data()),i(!1)):(console.log("No such document!"),i(!1))}C.exports.useEffect(()=>{c()},[]);function u(f){o(pf({...f,id:s})),o(Vh())}function h(f){o(Uk({...f,id:s})),o(Vh())}let d=t.find(f=>f.id===s);return S(Me,{children:[r&&p(Kn,{}),p(jf,{type:e.name}),S("section",{className:"w-full mx-auto p-4 md:p-10 lg:w-9/12 md:px-6 ",children:[p("h1",{className:"text-2xl font-semibold",children:"Product Details "}),p(_e,{to:"/all",className:"link ",children:"\u2190 Back to All Products"}),S("article",{className:"flex flex-col md:flex-row items-start justify-between py-4 gap-x-4",children:[p("div",{className:" w-full md:w-1/3 flex items-center justify-center border-2",children:p(ts.exports.LazyLoadImage,{src:e.imageURL,alt:e.name,className:"w-96 h-96 object-contain ",placeholderSrc:"https://www.slntechnologies.com/wp-content/uploads/2017/08/ef3-placeholder-image.jpg",effect:"blur"})}),S("div",{className:"flex-1",children:[p("h1",{className:"text-3xl  mb-2",children:e.name}),p("h2",{className:"text-primary  px-2 py-2 max-w-max  font-bold text-lg md:text-2xl mb-2",children:Dt(e.price)}),p("p",{className:"text-gray-500 mb-2",children:e.description}),S("p",{className:"font-semibold mb-2",children:["SKU : ",p("span",{className:"font-light",children:s})]}),S("p",{className:"font-semibold mb-2",children:["Brand : ",p("span",{className:"font-light",children:e.brand})]}),t.includes(d)&&S("div",{className:"btn-group items-center mb-2",children:[S("button",{className:"btn btn-sm btn-outline",onClick:()=>h(e),children:[" ","-"]}),p("button",{className:"btn btn-lg btn-ghost disabled",children:d.qty}),p("button",{className:"btn btn-sm btn-outline",onClick:()=>u(e),children:"+"})]}),p("div",{children:p("button",{className:"btn btn-primary btn-active",onClick:()=>u(e),children:"Add to Cart"})})]})]}),S("section",{className:"rounded-md shadow-lg",children:[p("div",{className:" w-full ",children:p("h1",{className:"text-lg md:text-2xl font-semibold mt-2 p-2",children:"Reviews"})}),l.length?p("div",{className:"flex flex-col gap-4 p-2 ",children:l.map((f,m)=>p(B$,{review:f},m))}):p("p",{className:"p-4",children:p(_e,{to:`/review-product/${s}`,className:"link link-primary ",children:"Be the first one to review this product"})})]})]})]})},I_=(t,e)=>{if(e==="category")return["All",...new Set(t.map(n=>n.category))];if(e==="brand")return["all",...new Set(t.map(n=>n.brand))]},pB={filteredProducts:[]},bI=da({name:"filter",initialState:pB,reducers:{filterBySearch(t,e){const{products:n,search:r}=e.payload,i=n.filter(s=>s.name.toLowerCase().includes(r.toLowerCase())||s.category.toLowerCase().includes(r.toLowerCase())||s.brand.toLowerCase().includes(r.toLowerCase()));t.filteredProducts=i},sortProducts(t,e){const{products:n,sort:r}=e.payload;let i=[],s=[...n];//! do not mutate the products array
r==="latest"&&(i=n),r==="lowest-price"&&(i=s.sort((o,a)=>o.price-a.price)),r==="highest-price"&&(i=s.sort((o,a)=>a.price-o.price)),r==="a2z"&&(i=s.sort((o,a)=>o.name.localeCompare(a.name))),r==="z2a"&&(i=s.sort((o,a)=>a.name.localeCompare(o.name))),t.filteredProducts=i},filterByCategory(t,e){const{products:n,category:r}=e.payload;let i=[],s=[...n];//! do not mutate the products array
r==="All"?i=s:i=s.filter(o=>o.category===r),t.filteredProducts=i},filterByBrand(t,e){const{products:n,brand:r}=e.payload;let i=[],s=[...n];//! do not mutate the products array
r==="all"?i=s:i=s.filter(o=>o.brand===r),t.filteredProducts=i},filterByprice(t,e){const{products:n,price:r}=e.payload;let i=[];i=[...n].filter(o=>o.price<=r),t.filteredProducts=i}}}),{filterBySearch:_I,sortProducts:mB,filterByCategory:gB,filterByBrand:yB,filterByprice:vB}=bI.actions,wB=bI.reducer,xI=()=>{const{products:t}=De(m=>m.product),{minPrice:e,maxPrice:n}=De(m=>m.product),r=vn(),[i,s]=C.exports.useState("All"),[o,a]=C.exports.useState("All"),[l,c]=C.exports.useState(n),u=I_(t,"category"),h=I_(t,"brand");//! Categi
const d=m=>{s(m),r(gB({products:t,category:m}))};//! Brand
C.exports.useEffect(()=>{r(yB({products:t,brand:o}))},[r,t,o]);//!Price
C.exports.useEffect(()=>{r(vB({products:t,price:l}))},[r,t,l]);function f(){s("All"),a("All"),c(n)}return S("div",{className:"flex flex-col gap-y-5",children:[S("div",{children:[p("h1",{className:"font-bold",children:"CATEGORIES"}),p("div",{className:"flex flex-col gap-y-2 items-start",children:u.map((m,y)=>p("button",{type:"button",className:`w-full text-left ${i===m?"border-l-4 border-primary px-2 font-semibold":null}`,onClick:()=>d(m),children:m},y))})]}),S("div",{children:[p("h1",{className:"font-bold",children:"BRAND"}),p("select",{className:"select select-bordered w-full",name:"brand",onChange:m=>a(m.target.value),children:h.map((m,y)=>p("option",{value:m,children:m},y))})]}),S("div",{children:[p("h1",{className:"font-bold",children:"PRICE"}),p("p",{children:Dt(l)}),p("input",{className:"range range-primary",type:"range",value:l,min:e,max:n,onChange:m=>c(m.target.value)})]}),p("div",{children:p("button",{className:"btn btn-error",onClick:f,children:"Clear Filters"})})]})};function bB(t){return wt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zm8 0A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm-8 8A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm8 0A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3z"}}]})(t)}function _B(t){return wt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}}]})(t)}function xB(t){return wt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"}}]})(t)}function SB(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z"}}]})(t)}function EB(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M23 11.99L20.56 9.2l.34-3.69-3.61-.82L15.4 1.5 12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 11.99l2.44 2.79-.34 3.7 3.61.82 1.89 3.2 3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69 2.44-2.8zm-3.95 1.48l-.56.65.08.85.18 1.95-1.9.43-.84.19-.44.74-.99 1.68-1.78-.77-.8-.34-.79.34-1.78.77-.99-1.67-.44-.74-.84-.19-1.9-.43.18-1.96.08-.85-.56-.65L3.67 12l1.29-1.48.56-.65-.09-.86-.18-1.94 1.9-.43.84-.19.44-.74.99-1.68 1.78.77.8.34.79-.34 1.78-.77.99 1.68.44.74.84.19 1.9.43-.18 1.95-.08.85.56.65 1.29 1.47-1.28 1.48z"}},{tag:"path",attr:{d:"M10.09 13.75l-2.32-2.33-1.48 1.49 3.8 3.81 7.34-7.36-1.48-1.49z"}}]})(t)}const kB=({products:t})=>{const{filteredProducts:e}=De(w=>w.filter),[n,r]=C.exports.useState(!0),[i,s]=C.exports.useState(""),[o,a]=C.exports.useState("latest"),[l,c]=C.exports.useState(1),[u,h]=C.exports.useState(9),[d,f]=C.exports.useState(!1),m=vn();//! Search
C.exports.useEffect(()=>{m(_I({products:t,search:i}))},[m,t,i]);//! Sort
C.exports.useEffect(()=>{m(mB({products:t,sort:o}))},[m,t,o]),C.exports.useEffect(()=>{window.addEventListener("scroll",()=>{pageYOffset>400?f(!0):f(!1)})},[]);function y(){window.scrollTo({top:0,behavior:"smooth"})}const b=l*u,g=b-u,v=e.slice(g,b);return S("main",{className:"relative",children:[S("header",{className:"flex flex-col gap-y-4 xl:flex-row xl:items-center justify-between border-b pb-2",children:[S("div",{className:"flex gap-2 items-center",children:[S("div",{className:"flex gap-4",children:[p(bB,{size:28,onClick:()=>r(!0),className:` rounded-md p-1 ${n?"bg-neutral text-white":null}`}),p(SB,{size:28,onClick:()=>r(!1),className:` rounded-md p-1 ${n?null:"bg-neutral text-white"}`})]}),S("h1",{children:[S("span",{className:"font-bold",children:[e.length," "]}),"- Products Found"]})]}),p($N,{value:i,onChange:w=>s(w.target.value)}),S("div",{className:"flex gap-2 items-center",children:[p("label",{children:"Sort by:"}),S("select",{value:o,className:"select select-sm select-bordered",onChange:w=>a(w.target.value),children:[p("option",{value:"latest",children:"Latest"}),p("option",{value:"lowest-price",children:"Lowest Price"}),p("option",{value:"highest-price",children:"Highest Price"}),p("option",{value:"a2z",children:"Name(a - z)"}),p("option",{value:"z2a",children:"Name(z - a)"})]})]}),S("div",{className:"collapse sm:hidden",children:[p("input",{type:"checkbox",className:"peer"}),S("div",{className:"collapse-title rounded-sm bg-primary text-primary-content peer-checked:bg-secondary peer-checked:text-secondary-content w-80 flex items-center justify-between",children:[p("p",{children:"Show Filters"}),p(xB,{size:28})]}),p("div",{className:"collapse-content bg-primary text-primary-content peer-checked:bg-white peer-checked:text-black w-80 border-2 ",children:p(xI,{})})]})]}),p("section",{children:n?p(tM,{products:v}):p(rM,{products:v})}),d&&p("div",{className:"fixed bottom-5 right-5",children:p("button",{className:"btn btn-primary sm:btn-lg rounded-full",onClick:y,children:"\u2191 Back to Top"})}),p(BH,{productPerPage:u,currentPage:l,setCurrentPage:c,totalProducts:e.length})]})},CB=[{id:1,name:"Laptop"},{id:2,name:"Electronics"},{id:3,name:"Fashion"},{id:4,name:"Phone"},{id:5,name:"Jewelery"},{id:6,name:"Furniture"}],sm={name:"",imageURL:"",price:0,category:"",brand:"",description:""},TB=()=>{const t=Wn(),{id:e}=_c(),{products:n}=De(b=>b.product),r=n.find(b=>b.id===e),[i,s]=C.exports.useState(()=>u(e,sm,r)),[o,a]=C.exports.useState(0),[l,c]=C.exports.useState(!1);//! Check for Add or Edit
function u(b,g,v){return b==="ADD"?g:v}function h(b){const{name:g,value:v}=b.target;s({...i,[g]:v})}//! File Upload to FireStorage
function d(b){const g=b.target.files[0],v=sy(oy,`images/${Date.now()}${g.name}`),w=oB(v,g);w.on("state_changed",_=>{const x=_.bytesTransferred/_.totalBytes*100;a(x)},_=>{X.error(_.code,_.message)},()=>{aB(w.snapshot.ref).then(_=>{s({...i,imageURL:_}),X.success("File Uploaded Successfully")})})}//! Add Product to Firebase
async function f(b){b.preventDefault(),c(!0);try{const g=await Uf(Vc(Nr,"products"),{name:i.name,imageURL:i.imageURL,price:Number(i.price),category:i.category,brand:i.brand,description:i.description,createdAt:We.now().toDate()});a(0),s(sm),c(!1),X.success("Product added to Database Successfully"),t("/admin/all-products")}catch(g){console.log(g.message),X.error("Something Went Wrong , Check Console"),c(!1)}}//! Edit Product
async function m(b){if(b.preventDefault(),c(!0),i.imageURL!==r.imageURL){const g=sy(oy,r.imageURL);await wI(g)}try{await v2(ba(Nr,"products",e),{name:i.name,imageURL:i.imageURL,price:Number(i.price),category:i.category,brand:i.brand,description:i.description,createdAt:r.createdAt,editedAt:We.now().toDate()}),a(0),s(sm),c(!1),X.success("Product Updated Successfully"),t("/admin/all-products")}catch(g){console.log(g.message),X.error("Something Went Wrong , Check Console"),c(!1)}}//! Disable button until everything added to input fields
const y=Boolean(i.brand)&&Boolean(i.category)&&Boolean(i.description)&&Boolean(i.imageURL)&&Boolean(i.name)&&Boolean(i.name);return S(Me,{children:[l&&p(Kn,{}),S("main",{className:"h-full border-r-2 p-1",children:[p("h1",{className:"text-xl md:text-3xl font-semibold pb-3",children:u(e,"Add New Product","Edit Product")}),S("form",{className:"form-control",onSubmit:u(e,f,m),children:[S("div",{className:"py-2",children:[p("label",{className:"label-text font-bold mb-2 block text-lg",children:"Product Name:"}),p("input",{className:"input input-bordered max-w-lg w-full border-2",type:"text",placeholder:"Product Name",required:!0,name:"name",value:i.name,onChange:h})]}),S("div",{className:"py-2",children:[S("label",{className:"label-text font-bold mb-2 block text-lg",children:["Product Price:"," "]}),p("input",{className:"input input-bordered max-w-lg w-full border-2",type:"number",placeholder:"Product Price",required:!0,name:"price",value:i.price,onChange:h})]}),S("div",{className:"py-2",children:[p("label",{className:"label-text font-bold mb-2 block text-lg",children:"Product Category:"}),S("select",{className:"select select-bordered w-full max-w-lg",required:!0,name:"category",value:i.category,onChange:h,children:[p("option",{disabled:!0,value:"",children:"-- Choose a Product Category --"}),CB.map(b=>p("option",{value:b.name,children:b.name},b.id))]})]}),S("div",{className:"py-2",children:[S("label",{className:"label-text font-bold mb-2 block text-lg",children:["Product Brand:"," "]}),p("input",{className:"input input-bordered max-w-lg w-full border-2",type:"text",placeholder:"Product Brand",required:!0,name:"brand",value:i.brand,onChange:h})]}),S("div",{className:"py-2",children:[S("label",{className:"label-text font-bold mb-2 block text-lg",children:["Product Description:"," "]}),p("textarea",{className:"textarea textarea-bordered h-32 max-w-lg w-full",type:"text",placeholder:"Product Description",required:!0,name:"description",value:i.description,onChange:h})]}),S("div",{children:[S("label",{className:"label-text font-bold mb-2 block text-lg",children:["Product Image:"," "]}),S("div",{className:"border-2 rounded-sm  max-w-xl w-full px-4 pb-2",children:[p("div",{children:p("progress",{className:"progress progress-primary w-44 md:w-72 xl:w-full",value:o,max:"100"})}),p("input",{className:"max-w-lg w-full",accept:"image/all",type:"file",placeholder:"IMAGE URL",name:"image",onChange:d}),i.imageURL===""?null:p("input",{className:"input input-sm input-bordered max-w-lg w-full my-2",type:"text",value:i.imageURL,required:!0,placeholder:"Image URL",disabled:!0})]})]}),p("button",{type:"submit",className:"btn btn-primary text-lg max-w-[200px]  mt-2",disabled:!y,children:u(e,"Add Product","Update Product")})]})]})]})};function IB(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m7 17.013 4.413-.015 9.632-9.54c.378-.378.586-.88.586-1.414s-.208-1.036-.586-1.414l-1.586-1.586c-.756-.756-2.075-.752-2.825-.003L7 12.583v4.43zM18.045 4.458l1.589 1.583-1.597 1.582-1.586-1.585 1.594-1.58zM9 13.417l6.03-5.973 1.586 1.586-6.029 5.971L9 15.006v-1.589z"}},{tag:"path",attr:{d:"M5 21h14c1.103 0 2-.897 2-2v-8.668l-2 2V19H8.158c-.026 0-.053.01-.079.01-.033 0-.066-.009-.1-.01H5V5h6.847l2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2z"}}]})(t)}function NB(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17 6V4H6v2h3.5c1.302 0 2.401.838 2.815 2H6v2h6.315A2.994 2.994 0 0 1 9.5 12H6v2.414L11.586 20h2.828l-6-6H9.5a5.007 5.007 0 0 0 4.898-4H17V8h-2.602a4.933 4.933 0 0 0-.924-2H17z"}}]})(t)}function PB(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"}}]})(t)}function SI(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 20a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8h2V6h-4V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2H3v2h2zM9 4h6v2H9zM8 8h9v12H7V8z"}},{tag:"path",attr:{d:"M9 10h2v8H9zm4 0h2v8h-2z"}}]})(t)}function OB(t){return wt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM403.029 192H360v-60c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v60h-43.029c-10.691 0-16.045 12.926-8.485 20.485l67.029 67.029c4.686 4.686 12.284 4.686 16.971 0l67.029-67.029c7.559-7.559 2.205-20.485-8.486-20.485z"}}]})(t)}const RB={orderHistory:[],totalAmount:null},EI=da({name:"orders",initialState:RB,reducers:{storeOrders:(t,e)=>{t.orderHistory=e.payload},totalOrderAmount:(t,e)=>{const n=[];t.orderHistory.map(i=>{const{orderAmount:s}=i;n.push(s)});const r=n.reduce((i,s)=>i+s,0);t.totalAmount=r}}}),{storeOrders:Uv,totalOrderAmount:AB}=EI.actions,DB=EI.reducer,MB=p(NB,{size:22,color:"white"}),LB=p(OB,{size:22,color:"white"}),$B=p(_B,{size:22,color:"white"}),FB=()=>{const{data:t}=io("orders"),{products:e}=De(s=>s.product),{orderHistory:n,totalAmount:r}=De(s=>s.order),i=vn();return C.exports.useEffect(()=>{i(Uv(t)),i(AB())},[i,t]),S("main",{className:"h-full border-r-2 p-1",children:[p("h1",{className:"text-xl md:text-3xl font-light mb-4",children:"Admin Home"}),S("section",{className:"flex flex-wrap gap-10",children:[p(wm,{title:"Earnings",count:Dt(r),icon:MB}),p(wm,{title:"Products",count:e.length,icon:$B}),p(wm,{title:"Orders",count:n.length,icon:LB})]}),p("div",{children:p(gH,{})})]})},kI=(t,e)=>{const[n,r]=C.exports.useState(null),i=async()=>{const s=ba(Nr,t,e),o=await g2(s);if(o.exists()){const a={id:e,...o.data()};r(a)}else console.log("No such document exist!")};return C.exports.useEffect(()=>{i()},[]),{document:n}},zB=({order:t,orderId:e})=>{const[n,r]=C.exports.useState(""),[i,s]=C.exports.useState(!1),o=Wn(),a=(l,c)=>{l.preventDefault(),s(!0);const u={userId:t.userId,email:t.email,orderDate:t.orderDate,orderTime:t.orderTime,orderAmount:t.orderAmount,orderStatus:n,cartItems:t.cartItems,shippingAddress:t.shippingAddress,createdAt:t.createdAt,editedAt:We.now().toDate()};try{v2(ba(Nr,"orders",c),u),s(!1),X.success(`order status changed to ${n}`),o("/admin/orders")}catch(h){X.error(h.message),console.log(h),s(!1)}};return S(Me,{children:[i&&p(Kn,{}),S("div",{className:"w-full md:w-96  p-2 rounded-sm shadow-lg",children:[p("h1",{className:"text-2xl",children:"Update Order Status"}),S("form",{onSubmit:l=>a(l,e),className:"form-control",children:[S("select",{value:n,onChange:l=>r(l.target.value),className:"select select-secondary w-full max-w-xs",children:[p("option",{disabled:!0,children:"--Status---"}),p("option",{value:"orderPlaced",children:"Order Placed"}),p("option",{value:"Processing...",children:"Processing..."}),p("option",{value:"Item(s) Shipped",children:"Item(s) Shipped"}),p("option",{value:"Item(s) Delivered",children:"Item(s) Delivered"})]}),p("button",{type:"submit",className:"btn btn-primary-content btn-sm mt-2",children:"Update status"})]})]})]})},CI=({order:t,admin:e,user:n,orderId:r})=>S(Me,{children:[p("section",{className:"p-4 w-full bg-primary-content flex items-center",children:S("article",{className:"w-full flex flex-col lg:flex-row items-center justify-between gap-y-5",children:[S("div",{className:"w-full mx-auto md:px-6 ",children:[S("section",{children:[p("h1",{className:"text-xl md:text-3xl font-bold text-secondary-content",children:"Order Details"}),S("p",{className:"font-semibold text-lg my-2",children:["Order ID :",S("span",{className:"font-light text-gray-500",children:[" ",t.id]})]}),S("p",{className:"font-semibold text-lg my-2",children:["Order Amount :",p("span",{className:"font-light text-gray-500",children:Dt(t.orderAmount)})]}),S("p",{className:"font-semibold text-lg my-2",children:["Order Status :",p("span",{className:`font-bold ${t.orderStatus==="Item(s) Delivered"?"text-green-600":"text-primary"}`,children:t.orderStatus})]})]}),n&&p(UH,{order:t}),e&&S("div",{children:[S("p",{className:"font-semibold text-lg",children:["Recipient Name :",p("span",{className:"font-light",children:t.shippingAddress.name})]}),S("p",{className:"font-semibold text-lg",children:["Phone :",p("span",{className:"font-light",children:t.shippingAddress.phone})]}),S("p",{className:"font-semibold text-lg",children:["Shipping Address :",S("span",{className:"font-light",children:[t.shippingAddress.line1,", ",t.shippingAddress.line2,",",t.shippingAddress.city,",",t.shippingAddress.country]})]})]})]}),e&&p(zB,{order:t,orderId:r})]})}),S("main",{className:"py-5",children:[p("div",{className:"pb-5",children:e?p(_e,{to:"/admin/orders",className:"link active my-2",children:"\u2190 Back to All Orders"}):p(_e,{to:"/my-orders",className:"link active my-2",children:"\u2190 Back to All Orders"})}),p(zH,{order:t,user:n})]})]}),BB=()=>{const[t,e]=C.exports.useState(null),{id:n}=_c(),{document:r}=kI("orders",n);return C.exports.useEffect(()=>{e(r)},[r]),p(Me,{children:t===null?p(Kn,{}):p("div",{children:p(CI,{order:t,user:!1,admin:!0,orderId:n})})})};function UB(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 14v2a6 6 0 0 0-6 6H4a8 8 0 0 1 8-8zm0-1c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6zm0-2c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm9 6h1v5h-8v-5h1v-1a3 3 0 0 1 6 0v1zm-2 0v-1a1 1 0 0 0-2 0v1h2z"}}]}]})(t)}const jB=()=>{const{userName:t}=De(n=>n.auth);let e={borderRight:"5px solid #181a2a",display:"block"};return S("div",{className:"w-full",children:[S("div",{className:"w-full h-44 bg-primary flex items-center justify-center flex-col gap-2 text-center",children:[p(UB,{size:40,color:"white"}),p("h1",{className:"text-lg md:text-2xl font-bold text-gray-200",children:t})]}),p("div",{className:"text-md md:text-xl py-4 pl-2",children:p(nr,{to:"/admin/home",style:({isActive:n})=>n?e:null,children:"Home"})}),p("div",{className:"text-md md:text-xl py-4 pl-2",children:p(nr,{to:"/admin/all-products",style:({isActive:n})=>n?e:null,children:"All Products"})}),p("div",{className:"text-md md:text-xl py-4  pl-2",children:p(nr,{to:"/admin/add-product/ADD",style:({isActive:n})=>n?e:null,children:"Add Products"})}),p("div",{className:"text-md md:text-xl py-4  pl-2",children:p(nr,{to:"/admin/orders",style:({isActive:n})=>n?e:null,children:"Orders"})})]})},TI=({orders:t,user:e,admin:n})=>{const r=Wn();function i(o){r(`/order-details/${o}`)}function s(o){r(`/admin/order-details/${o}`)}return p("main",{children:t.length?S("div",{children:[S("p",{className:"text-lg font-light",children:["Open order to (",n?p("span",{className:"font-semibold text-primary",children:"Change Order Status"}):p("span",{className:"font-semibold text-primary",children:"Track Order Status"}),")"]}),t.map((o,a)=>{const{id:l,orderDate:c,orderAmount:u,orderStatus:h,email:d}=o;return S("section",{className:"w-full my-6 shadow-md rounded-md cursor-pointer hover:bg-base-200 duration-200",onClick:()=>{e?i(l):s(l)},children:[p("div",{className:"p-4 bg-base-200",children:S("div",{className:"flex items-center justify-between gap-6",children:[S("div",{className:"flex flex-col md:flex-row gap-x-10",children:[S("p",{className:"text-gray-500 text-sm md:text-lg ",children:["ORDER PLACED : ",p("br",{})," ",p("span",{className:"text-primary",children:c})]}),S("p",{className:"text-gray-500 text-sm md:text-lg ",children:["SHIP TO : ",p("br",{})," ",p("span",{className:"text-primary",children:d.split("@")[0]})]})]}),S("p",{className:"text-gray-500 text-sm md:text-lg",children:["TOTAL :",p("span",{className:"text-primary",children:Dt(u)})]})]})}),S("div",{className:"p-4 flex items-center justify-between",children:[S("p",{className:"text-sm md:text-lg",children:["ID: ",S("span",{className:"font-semibold ",children:[" ",l]})]}),S("p",{className:"text-sm md:text-lg ",children:["Status: ",p("br",{})," ",p("span",{className:`font-semibold ${h!=="Item(s) Delivered"?"text-neutral":"text-green-600"}`,children:h})]})]})]},a)})]}):p("h1",{className:"text-2xl font-bold",children:" No Orders found "})})},VB=()=>{const{data:t,isLoading:e}=io("orders"),{orderHistory:n}=De(i=>i.order);De(i=>i.auth);const r=vn();return Wn(),C.exports.useEffect(()=>{r(Uv(t))},[r,t]),S(Me,{children:[e&&p(Kn,{}),p("h1",{className:"text-xl md:text-3xl font-light mb-4",children:"ALL ORDERS"}),p("div",{children:p(TI,{orders:n,user:!1,admin:!0})})]})},HB={products:localStorage.getItem("product")?JSON.parse(localStorage.getItem("product")):[],minPrice:0,maxPrice:0},II=da({name:"product",initialState:HB,reducers:{storeProducts(t,e){t.products=e.payload.products,localStorage.setItem("product",JSON.stringify(e.payload.products))},getPriceRange(t,e){const{products:n}=e.payload,r=n.map(o=>o.price),i=Math.max(...r),s=Math.min(...r);t.minPrice=s,t.maxPrice=i}}}),{storeProducts:jv,getPriceRange:NI}=II.actions,WB=II.reducer,qB=()=>{const[t,e]=C.exports.useState(""),n=vn();//! Fetching Products from collection using Custom Hook
const{data:r,isLoading:i}=io("products"),{filteredProducts:s}=De(l=>l.filter),{products:o}=De(l=>l.product);C.exports.useEffect(()=>{n(jv({products:r}))},[n,r]);//! Search
C.exports.useEffect(()=>{n(_I({products:r,search:t}))},[n,r,t]);//! Delete single product
const a=async(l,c)=>{try{await I$(ba(Nr,"products",l));const u=sy(oy,c);await wI(u),X.info("Product deleted successfully")}catch(u){X.error(u.message),console.log(u.message)}};return S(Me,{children:[i&&p(Kn,{}),p("h1",{className:"text-xl md:text-3xl font-semibold ",children:"All Products"}),o.length&&p("div",{children:S("div",{className:"underline",children:[S("span",{className:"text-lg font-bold ",children:[s.length," "]})," ","products found"]})}),p($N,{value:t,onChange:l=>e(l.target.value)}),p("main",{className:"md:max-w-[100vw] max-h-[70vh] py-4 overflow-y-scroll ",children:s.length===0?p("h1",{className:"text-4xl font-bold text-red-500",children:"NO PRODUCTS FOUND"}):p("div",{className:"overflow-x-auto mt-2 w-full",children:S("table",{className:"table table-compact w-full",children:[p("thead",{children:S("tr",{children:[p("th",{className:"text-md sm:text-lg "}),p("th",{className:"text-md sm:text-lg",children:"Image"}),p("th",{className:"text-md sm:text-lg ",children:"Name"}),p("th",{className:"text-md sm:text-lg",children:"Category"}),p("th",{className:"text-md sm:text-lg",children:"Price"}),p("th",{className:"text-md sm:text-lg",children:"Options"})]})}),p("tbody",{children:s==null?void 0:s.map((l,c)=>{const{id:u,name:h,category:d,price:f,imageURL:m}=l;return S("tr",{className:"hover",children:[p("td",{children:c+1}),p("td",{children:p("div",{children:p(ts.exports.LazyLoadImage,{src:m||"https://storage.googleapis.com/proudcity/mebanenc/uploads/2021/03/placeholder-image.png",alt:h,className:"w-10 sm:w-16 object-fill",placeholderSrc:"https://www.slntechnologies.com/wp-content/uploads/2017/08/ef3-placeholder-image.jpg",effect:"blur"})})}),p("td",{className:"text-lg font-light w-[200px] ",children:h}),p("td",{className:"text-lg font-light",children:d}),p("td",{className:"text-lg font-light",children:Dt(f)}),p("td",{children:S("div",{className:"flex flex-col md:flex-row gap-2 ",children:[p(_e,{to:`/admin/add-product/${u}`,children:p(IB,{size:24,color:"blue"})}),p("label",{htmlFor:"my-modal-6",className:"modal-button",children:p(SI,{size:24,color:"red",className:"cursor-pointer",onClick:()=>{a(u,m)}})})]})})]},u)})})]})})})]})},KB=({children:t})=>{const{email:e}=De(n=>n.auth);return e==="shaazhusain511@gmail.com"?t:S("section",{className:"flex flex-col items-center justify-center w-full page gap-5",children:[p("h2",{className:"text-4xl font-bold",children:"PERMISSION DENIED"}),p("p",{className:"text-xl",children:"This page can only be viewed by admin."}),p(_e,{to:"/",className:"btn btn-error btn-outline btn-lg",children:"\u2190 Take me back home"})]})},GB=({children:t})=>{const{email:e}=De(n=>n.auth);return e==="shaazhusain511@gmail.com"?t:null};/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function Rr(){}const YB=function(){let t=0;return function(){return t++}}();function xe(t){return t===null||typeof t>"u"}function ze(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ve(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const Lt=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function Rn(t,e){return Lt(t)?t:e}function ce(t,e){return typeof t>"u"?e:t}const QB=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/e,PI=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Oe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Se(t,e,n,r){let i,s,o;if(ze(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(ve(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function fd(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function pd(t){if(ze(t))return t.map(pd);if(ve(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=pd(t[n[i]]);return e}return t}function OI(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function XB(t,e,n,r){if(!OI(t))return;const i=e[t],s=n[t];ve(i)&&ve(s)?cc(i,s,r):e[t]=pd(s)}function cc(t,e,n){const r=ze(e)?e:[e],i=r.length;if(!ve(t))return t;n=n||{};const s=n.merger||XB;for(let o=0;o<i;++o){if(e=r[o],!ve(e))continue;const a=Object.keys(e);for(let l=0,c=a.length;l<c;++l)s(a[l],t,e,n)}return t}function bl(t,e){return cc(t,e,{merger:JB})}function JB(t,e,n){if(!OI(t))return;const r=e[t],i=n[t];ve(r)&&ve(i)?bl(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=pd(i))}const N_={"":t=>t,x:t=>t.x,y:t=>t.y};function Qi(t,e){return(N_[e]||(N_[e]=ZB(e)))(t)}function ZB(t){const e=eU(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function eU(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Vv(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Hn=t=>typeof t<"u",Xi=t=>typeof t=="function",P_=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function tU(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const qe=Math.PI,Ne=2*qe,nU=Ne+qe,md=Number.POSITIVE_INFINITY,rU=qe/180,et=qe/2,Ba=qe/4,O_=qe*2/3,Ln=Math.log10,Tr=Math.sign;function R_(t){const e=Math.round(t);t=_l(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ln(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function iU(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function ra(t){return!isNaN(parseFloat(t))&&isFinite(t)}function _l(t,e,n){return Math.abs(t-e)<n}function sU(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function RI(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function rr(t){return t*(qe/180)}function Hv(t){return t*(180/qe)}function A_(t){if(!Lt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function AI(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*qe&&(s+=Ne),{angle:s,distance:i}}function ay(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function oU(t,e){return(t-e+nU)%Ne-qe}function Zn(t){return(t%Ne+Ne)%Ne}function uc(t,e,n,r){const i=Zn(t),s=Zn(e),o=Zn(n),a=Zn(s-i),l=Zn(o-i),c=Zn(i-s),u=Zn(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function Kt(t,e,n){return Math.max(e,Math.min(n,t))}function aU(t){return Kt(t,-32768,32767)}function Ei(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Wv(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Ss=(t,e,n,r)=>Wv(t,n,r?i=>t[i][e]<=n:i=>t[i][e]<n),lU=(t,e,n)=>Wv(t,n,r=>t[r][e]>=n);function cU(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const DI=["push","pop","shift","splice","unshift"];function uU(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),DI.forEach(n=>{const r="_onData"+Vv(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function D_(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(DI.forEach(s=>{delete t[s]}),delete t._chartjs)}function MI(t){const e=new Set;let n,r;for(n=0,r=t.length;n<r;++n)e.add(t[n]);return e.size===r?t:Array.from(e)}const LI=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function $I(t,e,n){const r=n||(o=>Array.prototype.slice.call(o));let i=!1,s=[];return function(...o){s=r(o),i||(i=!0,LI.call(window,()=>{i=!1,t.apply(e,s)}))}}function hU(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const qv=t=>t==="start"?"left":t==="end"?"right":"center",Vt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,dU=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function FI(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(i=Kt(Math.min(Ss(a,o.axis,c).lo,n?r:Ss(e,l,o.getPixelForValue(c)).lo),0,r-1)),d?s=Kt(Math.max(Ss(a,o.axis,u,!0).hi+1,n?0:Ss(e,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function zI(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Nu=t=>t===0||t===1,M_=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ne/n)),L_=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ne/n)+1,xl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*et)+1,easeOutSine:t=>Math.sin(t*et),easeInOutSine:t=>-.5*(Math.cos(qe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Nu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Nu(t)?t:M_(t,.075,.3),easeOutElastic:t=>Nu(t)?t:L_(t,.075,.3),easeInOutElastic(t){return Nu(t)?t:t<.5?.5*M_(t*2,.1125,.45):.5+.5*L_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-xl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?xl.easeInBounce(t*2)*.5:xl.easeOutBounce(t*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Yc(t){return t+.5|0}const ki=(t,e,n)=>Math.max(Math.min(t,n),e);function rl(t){return ki(Yc(t*2.55),0,255)}function Ui(t){return ki(Yc(t*255),0,255)}function $r(t){return ki(Yc(t/2.55)/100,0,1)}function $_(t){return ki(Yc(t*100),0,100)}const On={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ly=[..."0123456789ABCDEF"],fU=t=>ly[t&15],pU=t=>ly[(t&240)>>4]+ly[t&15],Pu=t=>(t&240)>>4===(t&15),mU=t=>Pu(t.r)&&Pu(t.g)&&Pu(t.b)&&Pu(t.a);function gU(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&On[t[1]]*17,g:255&On[t[2]]*17,b:255&On[t[3]]*17,a:e===5?On[t[4]]*17:255}:(e===7||e===9)&&(n={r:On[t[1]]<<4|On[t[2]],g:On[t[3]]<<4|On[t[4]],b:On[t[5]]<<4|On[t[6]],a:e===9?On[t[7]]<<4|On[t[8]]:255})),n}const yU=(t,e)=>t<255?e(t):"";function vU(t){var e=mU(t)?fU:pU;return t?"#"+e(t.r)+e(t.g)+e(t.b)+yU(t.a,e):void 0}const wU=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function BI(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function bU(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function _U(t,e,n){const r=BI(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function xU(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function Kv(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=xU(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function Gv(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Ui)}function Yv(t,e,n){return Gv(BI,t,e,n)}function SU(t,e,n){return Gv(_U,t,e,n)}function EU(t,e,n){return Gv(bU,t,e,n)}function UI(t){return(t%360+360)%360}function kU(t){const e=wU.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?rl(+e[5]):Ui(+e[5]));const i=UI(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=SU(i,s,o):e[1]==="hsv"?r=EU(i,s,o):r=Yv(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function CU(t,e){var n=Kv(t);n[0]=UI(n[0]+e),n=Yv(n),t.r=n[0],t.g=n[1],t.b=n[2]}function TU(t){if(!t)return;const e=Kv(t),n=e[0],r=$_(e[1]),i=$_(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${$r(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const F_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},z_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function IU(){const t={},e=Object.keys(z_),n=Object.keys(F_);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,F_[s]);s=parseInt(z_[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Ou;function NU(t){Ou||(Ou=IU(),Ou.transparent=[0,0,0,0]);const e=Ou[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const PU=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function OU(t){const e=PU.exec(t);let n=255,r,i,s;if(!!e){if(e[7]!==r){const o=+e[7];n=e[8]?rl(o):ki(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?rl(r):ki(r,0,255)),i=255&(e[4]?rl(i):ki(i,0,255)),s=255&(e[6]?rl(s):ki(s,0,255)),{r,g:i,b:s,a:n}}}function RU(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${$r(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const om=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ho=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function AU(t,e,n){const r=ho($r(t.r)),i=ho($r(t.g)),s=ho($r(t.b));return{r:Ui(om(r+n*(ho($r(e.r))-r))),g:Ui(om(i+n*(ho($r(e.g))-i))),b:Ui(om(s+n*(ho($r(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Ru(t,e,n){if(t){let r=Kv(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Yv(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function jI(t,e){return t&&Object.assign(e||{},t)}function B_(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ui(t[3]))):(e=jI(t,{r:0,g:0,b:0,a:1}),e.a=Ui(e.a)),e}function DU(t){return t.charAt(0)==="r"?OU(t):kU(t)}class gd{constructor(e){if(e instanceof gd)return e;const n=typeof e;let r;n==="object"?r=B_(e):n==="string"&&(r=gU(e)||NU(e)||DU(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=jI(this._rgb);return e&&(e.a=$r(e.a)),e}set rgb(e){this._rgb=B_(e)}rgbString(){return this._valid?RU(this._rgb):void 0}hexString(){return this._valid?vU(this._rgb):void 0}hslString(){return this._valid?TU(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=AU(this._rgb,e._rgb,n)),this}clone(){return new gd(this.rgb)}alpha(e){return this._rgb.a=Ui(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Yc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ru(this._rgb,2,e),this}darken(e){return Ru(this._rgb,2,-e),this}saturate(e){return Ru(this._rgb,1,e),this}desaturate(e){return Ru(this._rgb,1,-e),this}rotate(e){return CU(this._rgb,e),this}}function VI(t){return new gd(t)}function HI(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function U_(t){return HI(t)?t:VI(t)}function am(t){return HI(t)?t:VI(t).saturate(.5).darken(.1).hexString()}const Ys=Object.create(null),cy=Object.create(null);function Sl(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function lm(t,e,n){return typeof e=="string"?cc(Sl(t,e),n):cc(Sl(t,""),e)}class MU{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>am(r.backgroundColor),this.hoverBorderColor=(n,r)=>am(r.borderColor),this.hoverColor=(n,r)=>am(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,n){return lm(this,e,n)}get(e){return Sl(this,e)}describe(e,n){return lm(cy,e,n)}override(e,n){return lm(Ys,e,n)}route(e,n,r,i){const s=Sl(this,e),o=Sl(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return ve(l)?Object.assign({},c,l):ce(l,c)},set(l){this[a]=l}}})}}var me=new MU({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function LU(t){return!t||xe(t.size)||xe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function yd(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function $U(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&ze(h)!==!0)o=yd(t,i,s,o,h);else if(ze(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!ze(d)&&(o=yd(t,i,s,o,d));t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return o}function os(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function j_(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function uy(t,e,n,r){WI(t,e,n,r,null)}function WI(t,e,n,r,i){let s,o,a,l,c,u;const h=e.pointStyle,d=e.rotation,f=e.radius;let m=(d||0)*rU;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(m),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(f)||f<=0)){switch(t.beginPath(),h){default:i?t.ellipse(n,r,i/2,f,0,0,Ne):t.arc(n,r,f,0,Ne),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(m)*f,r-Math.cos(m)*f),m+=O_,t.lineTo(n+Math.sin(m)*f,r-Math.cos(m)*f),m+=O_,t.lineTo(n+Math.sin(m)*f,r-Math.cos(m)*f),t.closePath();break;case"rectRounded":c=f*.516,l=f-c,o=Math.cos(m+Ba)*l,a=Math.sin(m+Ba)*l,t.arc(n-o,r-a,c,m-qe,m-et),t.arc(n+a,r-o,c,m-et,m),t.arc(n+o,r+a,c,m,m+et),t.arc(n-a,r+o,c,m+et,m+qe),t.closePath();break;case"rect":if(!d){l=Math.SQRT1_2*f,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}m+=Ba;case"rectRot":o=Math.cos(m)*f,a=Math.sin(m)*f,t.moveTo(n-o,r-a),t.lineTo(n+a,r-o),t.lineTo(n+o,r+a),t.lineTo(n-a,r+o),t.closePath();break;case"crossRot":m+=Ba;case"cross":o=Math.cos(m)*f,a=Math.sin(m)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"star":o=Math.cos(m)*f,a=Math.sin(m)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o),m+=Ba,o=Math.cos(m)*f,a=Math.sin(m)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"line":o=i?i/2:Math.cos(m)*f,a=Math.sin(m)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(m)*f,r+Math.sin(m)*f);break}t.fill(),e.borderWidth>0&&t.stroke()}}function hc(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Qv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Xv(t){t.restore()}function FU(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function zU(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Qs(t,e,n,r,i,s={}){const o=ze(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,BU(t,s),l=0;l<o.length;++l)c=o[l],a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),xe(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),UU(t,n,r,c,s),r+=i.lineHeight;t.restore()}function BU(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),xe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function UU(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function dc(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,-et,qe,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,qe,et,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,et,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-et,!0),t.lineTo(n+o.topLeft,r)}const jU=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),VU=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function HU(t,e){const n=(""+t).match(jU);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const WU=t=>+t||0;function Jv(t,e){const n={},r=ve(e),i=r?Object.keys(e):e,s=ve(t)?r?o=>ce(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=WU(s(o));return n}function qI(t){return Jv(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Rs(t){return Jv(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Zt(t){const e=qI(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function gt(t,e){t=t||{},e=e||me.font;let n=ce(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=ce(t.style,e.style);r&&!(""+r).match(VU)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const i={family:ce(t.family,e.family),lineHeight:HU(ce(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:ce(t.weight,e.weight),string:""};return i.string=LU(i),i}function Au(t,e,n,r){let i=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&ze(a)&&(a=a[n%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function qU(t,e,n){const{min:r,max:i}=t,s=PI(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function is(t,e){return Object.assign(Object.create(t),e)}function Zv(t,e=[""],n=t,r,i=()=>t[0]){Hn(r)||(r=QI("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:r,_getTarget:i,override:o=>Zv([o,...t],e,n,r)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete o._keys,delete t[0][a],!0},get(o,a){return GI(o,a,()=>ej(a,e,t,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,a){return H_(o).includes(a)},ownKeys(o){return H_(o)},set(o,a,l){const c=o._storage||(o._storage=i());return o[a]=c[a]=l,delete o._keys,!0}})}function ia(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:KI(t,r),setContext:s=>ia(t,s,n,r),override:s=>ia(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return GI(s,o,()=>GU(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function KI(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Xi(n)?n:()=>n,isIndexable:Xi(r)?r:()=>r}}const KU=(t,e)=>t?t+Vv(e):e,e1=(t,e)=>ve(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function GI(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function GU(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Xi(a)&&o.isScriptable(e)&&(a=YU(e,a,t,n)),ze(a)&&a.length&&(a=QU(e,a,t,o.isIndexable)),e1(e,a)&&(a=ia(a,i,s&&s[e],o)),a}function YU(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(s,o||r),a.delete(t),e1(t,e)&&(e=t1(i._scopes,i,t,e)),e}function QU(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(Hn(s.index)&&r(t))e=e[s.index%e.length];else if(ve(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=t1(c,i,t,u);e.push(ia(h,s,o&&o[t],a))}}return e}function YI(t,e,n){return Xi(t)?t(e,n):t}const XU=(t,e)=>t===!0?e:typeof t=="string"?Qi(e,t):void 0;function JU(t,e,n,r,i){for(const s of e){const o=XU(n,s);if(o){t.add(o);const a=YI(o._fallback,n,i);if(Hn(a)&&a!==n&&a!==r)return a}else if(o===!1&&Hn(r)&&n!==r)return null}return!1}function t1(t,e,n,r){const i=e._rootScopes,s=YI(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=V_(a,o,n,s||n,r);return l===null||Hn(s)&&s!==n&&(l=V_(a,o,s,l,r),l===null)?!1:Zv(Array.from(a),[""],i,s,()=>ZU(e,n,r))}function V_(t,e,n,r,i){for(;n;)n=JU(t,e,n,r,i);return n}function ZU(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return ze(i)&&ve(n)?n:i}function ej(t,e,n,r){let i;for(const s of e)if(i=QI(KU(s,t),n),Hn(i))return e1(t,i)?t1(n,r,t,i):i}function QI(t,e){for(const n of e){if(!n)continue;const r=n[t];if(Hn(r))return r}}function H_(t){let e=t._keys;return e||(e=t._keys=tj(t._scopes)),e}function tj(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function XI(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=e[c],o[a]={r:i.parse(Qi(u,s),c)};return o}const nj=Number.EPSILON||1e-14,sa=(t,e)=>e<t.length&&!t[e].skip&&t[e],JI=t=>t==="x"?"y":"x";function rj(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=ay(s,i),l=ay(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function ij(t,e,n){const r=t.length;let i,s,o,a,l,c=sa(t,0);for(let u=0;u<r-1;++u)if(l=c,c=sa(t,u+1),!(!l||!c)){if(_l(e[u],0,nj)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function sj(t,e,n="x"){const r=JI(n),i=t.length;let s,o,a,l=sa(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=sa(t,c+1),!a)continue;const u=a[n],h=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=h-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=h+s*e[c])}}function oj(t,e="x"){const n=JI(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=sa(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=sa(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Tr(i[o-1])!==Tr(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}ij(t,i,s),sj(t,s,e)}function Du(t,e,n){return Math.max(Math.min(t,n),e)}function aj(t,e){let n,r,i,s,o,a=hc(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&hc(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=Du(i.cp1x,e.left,e.right),i.cp1y=Du(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Du(i.cp2x,e.left,e.right),i.cp2y=Du(i.cp2y,e.top,e.bottom)))}function lj(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")oj(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=rj(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&aj(t,n)}function ZI(){return typeof window<"u"&&typeof document<"u"}function n1(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function vd(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Kf=t=>window.getComputedStyle(t,null);function cj(t,e){return Kf(t).getPropertyValue(e)}const uj=["top","right","bottom","left"];function As(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=uj[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const hj=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function dj(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(hj(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ds(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Kf(n),s=i.boxSizing==="border-box",o=As(i,"padding"),a=As(i,"border","width"),{x:l,y:c,box:u}=dj(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:m}=e;return s&&(f-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-d)/m*n.height/r)}}function fj(t,e,n){let r,i;if(e===void 0||n===void 0){const s=n1(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Kf(s),l=As(a,"border","width"),c=As(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=vd(a.maxWidth,s,"clientWidth"),i=vd(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||md,maxHeight:i||md}}const cm=t=>Math.round(t*10)/10;function pj(t,e,n,r){const i=Kf(t),s=As(i,"margin"),o=vd(i.maxWidth,t,"clientWidth")||md,a=vd(i.maxHeight,t,"clientHeight")||md,l=fj(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=As(i,"border","width"),d=As(i,"padding");c-=d.width+h.width,u-=d.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?Math.floor(c/r):u-s.height),c=cm(Math.min(c,o,l.maxWidth)),u=cm(Math.min(u,a,l.maxHeight)),c&&!u&&(u=cm(c/2)),{width:c,height:u}}function W_(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=i/r,t.width=s/r;const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const mj=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function q_(t,e){const n=cj(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function fs(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function gj(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function yj(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=fs(t,i,n),a=fs(i,s,n),l=fs(s,e,n),c=fs(o,a,n),u=fs(a,l,n);return fs(c,u,n)}const K_=new Map;function vj(t,e){e=e||{};const n=t+JSON.stringify(e);let r=K_.get(n);return r||(r=new Intl.NumberFormat(t,e),K_.set(n,r)),r}function Qc(t,e,n){return vj(e,n).format(t)}const wj=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},bj=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Uo(t,e,n){return t?wj(e,n):bj()}function eN(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function tN(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function nN(t){return t==="angle"?{between:uc,compare:oU,normalize:Zn}:{between:Ei,compare:(e,n)=>e-n,normalize:e=>e}}function G_({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function _j(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=nN(r),l=e.length;let{start:c,end:u,loop:h}=t,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][r]),i,s);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function xj(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=nN(r),{start:u,end:h,loop:d,style:f}=_j(t,e,n),m=[];let y=!1,b=null,g,v,w;const _=()=>l(i,w,g)&&a(i,w)!==0,x=()=>a(s,g)===0||l(s,w,g),k=()=>y||_(),E=()=>!y||x();for(let T=u,N=u;T<=h;++T)v=e[T%o],!v.skip&&(g=c(v[r]),g!==w&&(y=l(g,i,s),b===null&&k()&&(b=a(g,i)===0?T:N),b!==null&&E()&&(m.push(G_({start:b,end:T,loop:d,count:o,style:f})),b=null),N=T,w=g));return b!==null&&m.push(G_({start:b,end:h,loop:d,count:o,style:f})),m}function Sj(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=xj(r[i],t.points,e);s.length&&n.push(...s)}return n}function Ej(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function kj(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function Cj(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=Ej(n,i,s,r);if(r===!0)return Y_(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return Y_(t,kj(n,o,l,c),n,e)}function Y_(t,e,n,r){return!r||!r.setContext||!n?e:Tj(t,e,n,r)}function Tj(t,e,n,r){const i=t._chart.getContext(),s=Q_(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function f(m,y,b,g){const v=a?-1:1;if(m!==y){for(m+=l;n[m%l].skip;)m-=v;for(;n[y%l].skip;)y+=v;m%l!==y%l&&(c.push({start:m%l,end:y%l,loop:b,style:g}),u=g,h=y%l)}}for(const m of e){h=a?h:m.start;let y=n[h%l],b;for(d=h+1;d<=m.end;d++){const g=n[d%l];b=Q_(r.setContext(is(i,{type:"segment",p0:y,p1:g,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),Ij(b,u)&&f(h,d-1,m.loop,u),y=g,u=b}h<d-1&&f(h,d-1,m.loop,u)}return c}function Q_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Ij(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class Nj{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=LI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);!n||(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ar=new Nj;const X_="transparent",Pj={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=U_(t||X_),i=r.valid&&U_(e||X_);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Oj{constructor(e,n,r,i){const s=n[r];i=Au([e.to,i,s,e.from]);const o=Au([e.from,s,i]);this._active=!0,this._fn=e.fn||Pj[e.type||typeof o],this._easing=xl[e.easing]||xl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Au([e.to,n,i,e.from]),this._from=Au([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}const Rj=["x","y","borderWidth","radius","tension"],Aj=["color","borderColor","backgroundColor"];me.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Dj=Object.keys(me.animation);me.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});me.set("animations",{colors:{type:"color",properties:Aj},numbers:{type:"number",properties:Rj}});me.describe("animations",{_fallback:"animation"});me.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});class rN{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ve(e))return;const n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!ve(i))return;const s={};for(const o of Dj)s[o]=i[o];(ze(i.properties)&&i.properties||[r]).forEach(o=>{(o===r||!n.has(o))&&n.set(o,s)})})}_animateOptions(e,n){const r=n.options,i=Lj(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&Mj(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let h=s[c];const d=r.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}s[c]=h=new Oj(d,e,c,u),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Ar.add(this._chart,r),!0}}function Mj(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function Lj(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function J_(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function $j(t,e,n){if(n===!1)return!1;const r=J_(t,n),i=J_(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function Fj(t){let e,n,r,i;return ve(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function iN(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Z_(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(r.all)continue;break}c=t.values[l],Lt(c)&&(s||e===0||Tr(e)===Tr(c))&&(e+=c)}return e}}function zj(t){const e=Object.keys(t),n=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],n[r]={x:s,y:t[s]};return n}function ex(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Bj(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Uj(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function jj(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function tx(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function nx(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=Bj(s,o,r),h=e.length;let d;for(let f=0;f<h;++f){const m=e[f],{[l]:y,[c]:b}=m,g=m._stacks||(m._stacks={});d=g[c]=jj(i,u,y),d[a]=b,d._top=tx(d,o,!0,r.type),d._bottom=tx(d,o,!1,r.type)}}function um(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function Vj(t,e){return is(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Hj(t,e,n){return is(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ua(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(!!r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n]}}}const hm=t=>t==="reset"||t==="none",rx=(t,e)=>e?t:Object.assign({},t),Wj=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:iN(n,!0),values:null};class lr{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ex(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Ua(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,d,f,m)=>h==="x"?d:h==="r"?m:f,s=n.xAxisID=ce(r.xAxisID,um(e,"x")),o=n.yAxisID=ce(r.yAxisID,um(e,"y")),a=n.rAxisID=ce(r.rAxisID,um(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&D_(this._data,this),e._stacked&&Ua(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ve(n))this._data=zj(n);else if(r!==n){if(r){D_(r,this);const i=this._cachedMeta;Ua(i),i._parsed=[]}n&&Object.isExtensible(n)&&uU(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=ex(n.vScale,n),n.stack!==r.stack&&(i=!0,Ua(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&nx(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,h,d;if(this._parsing===!1)r._parsed=i,r._sorted=!0,d=i;else{ze(i[e])?d=this.parseArrayData(r,i,e,n):ve(i[e])?d=this.parseObjectData(r,i,e,n):d=this.parsePrimitiveData(r,i,e,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);r._sorted=l}o&&nx(this,d)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(i);let d,f,m;for(d=0,f=i;d<f;++d)m=d+r,h[d]={[a]:u||s.parse(c[m],m),[l]:o.parse(n[m],m)};return h}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+r,h=n[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,d,f;for(u=0,h=i;u<h;++u)d=u+r,f=n[d],c[u]={x:s.parse(Qi(f,a),d),y:o.parse(Qi(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:iN(i,!0),values:n._stacks[e.axis]};return Z_(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=Z_(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=Wj(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Uj(a);let d,f;function m(){f=i[d];const y=f[a.axis];return!Lt(f[e.axis])||u>y||h<y}for(d=0;d<o&&!(!m()&&(this.updateRangeFromParsed(c,e,f,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],Lt(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Fj(ce(this.options.clip,$j(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=Hj(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Vj(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Hn(r);if(a)return rx(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(me.elements[e]),m=()=>this.getContext(r,i),y=c.resolveNamedOptions(d,f,m,h);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(rx(y,l))),y}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,r,n))}const c=new rN(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||hm(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){hm(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!hm(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Ua(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}lr.defaults={};lr.prototype.datasetElementType=null;lr.prototype.dataElementType=null;function qj(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=MI(r.sort((i,s)=>i-s))}return t._cache.$bar}function Kj(t){const e=t.iScale,n=qj(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(Hn(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function Gj(t,e,n,r){const i=n.barThickness;let s,o;return xe(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function Yj(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function Qj(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function sN(t,e,n,r){return ze(t)?Qj(t,e,n,r):e[n.axis]=n.parse(t,r),e}function ix(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,h,d;for(c=n,u=n+r;c<u;++c)d=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(sN(d,h,s,c));return l}function dm(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Xj(t,e,n){return t!==0?Tr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Jj(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function Zj(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=Jj(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[sx(u,o,a,l)]=!0,i=c)),s[sx(i,o,a,l)]=!0,t.borderSkipped=s}function sx(t,e,n,r){return r?(t=e8(t,e,n),t=ox(t,n,e)):t=ox(t,e,n),t}function e8(t,e,n){return t===e?n:t===n?e:t}function ox(t,e,n){return t==="start"?e:t==="end"?n:t}function t8(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Gf extends lr{parsePrimitiveData(e,n,r,i){return ix(e,n,r,i)}parseArrayData(e,n,r,i){return ix(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,m,y;for(d=r,f=r+i;d<f;++d)y=n[d],m={},m[s.axis]=s.parse(Qi(y,c),d),h.push(sN(Qi(y,u),m,o,d));return h}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=dm(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,i);for(let f=n;f<n+r;f++){const m=this.getParsed(f),y=s||xe(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),b=this._calculateBarIndexPixels(f,u),g=(m._stacks||{})[a.axis],v={horizontal:c,base:y.base,enableBorderRadius:!g||dm(m._custom)||o===g._top||o===g._bottom,x:c?y.head:b.center,y:c?b.center:y.head,height:c?b.size:Math.abs(y.size),width:c?Math.abs(y.size):b.size};d&&(v.options=h||this.resolveDataElementOptions(f,e[f].active?"active":i));const w=v.options||e[f].options;Zj(v,w,g,o),t8(v,w,u.ratio),this.updateElement(e[f],f,v,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=r.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(xe(u)||isNaN(u))return!0};for(const l of i)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||Kj(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r},options:{base:i,minBarLength:s}}=this,o=i||0,a=this.getParsed(e),l=a._custom,c=dm(l);let u=a[n.axis],h=0,d=r?this.applyStack(n,a,r):u,f,m;d!==u&&(h=d-u,d=u),c&&(u=l.barStart,d=l.barEnd-l.barStart,u!==0&&Tr(u)!==Tr(l.barEnd)&&(h=0),h+=u);const y=!xe(i)&&!c?i:h;let b=n.getPixelForValue(y);if(this.chart.getDataVisibility(e)?f=n.getPixelForValue(h+d):f=b,m=f-b,Math.abs(m)<s){m=Xj(m,n,o)*s,u===o&&(b-=m/2);const g=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),w=Math.min(g,v),_=Math.max(g,v);b=Math.max(Math.min(b,_),w),f=b+m}if(b===n.getPixelForValue(o)){const g=Tr(m)*n.getLineWidthForValue(o)/2;b+=g,m-=g}return{size:m,base:b,head:f,center:f+m/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=ce(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?Yj(e,n,i,c):Gj(e,n,i,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&r[s].draw(this._ctx)}}Gf.id="bar";Gf.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};Gf.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class r1 extends lr{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,i){const s=super.parsePrimitiveData(e,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(e,n,r,i){const s=super.parseArrayData(e,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=ce(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(e,n,r,i){const s=super.parseObjectData(e,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=ce(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,{xScale:r,yScale:i}=n,s=this.getParsed(e),o=r.getLabelForValue(s.x),a=i.getLabelForValue(s.y),l=s._custom;return{label:n.label,value:"("+o+", "+a+(l?", "+l:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=o.axis,h=a.axis;for(let d=n;d<n+r;d++){const f=e[d],m=!s&&this.getParsed(d),y={},b=y[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(m[u]),g=y[h]=s?a.getBasePixel():a.getPixelForValue(m[h]);y.skip=isNaN(b)||isNaN(g),c&&(y.options=l||this.resolveDataElementOptions(d,f.active?"active":i),s&&(y.options.radius=0)),this.updateElement(f,d,y,i)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=ce(r&&r._custom,s),i}}r1.id="bubble";r1.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};r1.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function n8(t,e,n){let r=1,i=1,s=0,o=0;if(e<Ne){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(w,_,x)=>uc(w,a,l,!0)?1:Math.max(_,_*n,x,x*n),m=(w,_,x)=>uc(w,a,l,!0)?-1:Math.min(_,_*n,x,x*n),y=f(0,c,h),b=f(et,u,d),g=m(qe,c,h),v=m(qe+et,u,d);r=(y-g)/2,i=(b-v)/2,s=-(y+g)/2,o=-(b+v)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Xc extends lr{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(ve(r[e])){const{key:l="value"}=this._parsing;s=c=>+Qi(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return rr(this.options.rotation-90)}_getCircumference(){return rr(this.options.circumference)}_getRotationExtents(){let e=Ne,n=-Ne;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(QB(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:m,offsetY:y}=n8(h,u,l),b=(r.width-o)/d,g=(r.height-o)/f,v=Math.max(Math.min(b,g)/2,0),w=PI(this.options.radius,v),_=Math.max(w*l,0),x=(w-_)/this._getVisibleDatasetWeightTotal();this.offsetX=m*w,this.offsetY=y*w,i.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Ne)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&c.animateScale,f=d?0:this.innerRadius,m=d?0:this.outerRadius,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(n,i);let g=this._getRotation(),v;for(v=0;v<n;++v)g+=this._circumference(v,s);for(v=n;v<n+r;++v){const w=this._circumference(v,s),_=e[v],x={x:u+this.offsetX,y:h+this.offsetY,startAngle:g,endAngle:g+w,circumference:w,outerRadius:m,innerRadius:f};b&&(x.options=y||this.resolveDataElementOptions(v,_.active?"active":i)),g+=w,this.updateElement(_,v,x,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ne*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Qc(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(ce(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Xc.id="doughnut";Xc.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Xc.descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"};Xc.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((r,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:r,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const n=": "+t.formattedValue;return ze(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class i1 extends lr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=FI(n,i,o);this._drawStart=a,this._drawCount=l,zI(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i),d=o.axis,f=a.axis,{spanGaps:m,segment:y}=this.options,b=ra(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||i==="none";let v=n>0&&this.getParsed(n-1);for(let w=n;w<n+r;++w){const _=e[w],x=this.getParsed(w),k=g?_:{},E=xe(x[f]),T=k[d]=o.getPixelForValue(x[d],w),N=k[f]=s||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[f],w);k.skip=isNaN(T)||isNaN(N)||E,k.stop=w>0&&Math.abs(x[d]-v[d])>b,y&&(k.parsed=x,k.raw=c.data[w]),h&&(k.options=u||this.resolveDataElementOptions(w,_.active?"active":i)),g||this.updateElement(_,w,k,i),v=x}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}i1.id="line";i1.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};i1.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class s1 extends lr{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Qc(n._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,n,r,i){return XI.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*qe;let f=d,m;const y=360/this.countVisibleElements();for(m=0;m<n;++m)f+=this._computeAngle(m,i,y);for(m=n;m<n+r;m++){const b=e[m];let g=f,v=f+this._computeAngle(m,i,y),w=o.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;f=v,s&&(l.animateScale&&(w=0),l.animateRotate&&(g=v=d));const _={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:g,endAngle:v,options:this.resolveDataElementOptions(m,b.active?"active":i)};this.updateElement(b,m,_,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?rr(this.resolveDataElementOptions(e,n).angle||r):0}}s1.id="polarArea";s1.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};s1.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((r,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:r,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class oN extends Xc{}oN.id="pie";oN.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class o1 extends lr{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return XI.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:u.x,d=o?s.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,i)}}}o1.id="radar";o1.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};o1.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class cr{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return ra(this.x)&&ra(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}cr.defaults={};cr.defaultRoutes=void 0;const aN={values(t){return ze(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=r8(t,n)}const o=Ln(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Qc(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=t/Math.pow(10,Math.floor(Ln(t)));return r===1||r===2||r===5?aN.numeric.call(this,t,e,n):""}};function r8(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Yf={formatters:aN};me.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Yf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});me.route("scale.ticks","color","","color");me.route("scale.grid","color","","borderColor");me.route("scale.grid","borderColor","","borderColor");me.route("scale.title","color","","color");me.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});me.describe("scales",{_fallback:"scale"});me.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"});function i8(t,e){const n=t.options.ticks,r=n.maxTicksLimit||s8(t),i=n.major.enabled?a8(e):[],s=i.length,o=i[0],a=i[s-1],l=[];if(s>r)return l8(e,l,i,s/r),l;const c=o8(i,e,r);if(s>0){let u,h;const d=s>1?Math.round((a-o)/(s-1)):null;for(Mu(e,l,c,xe(d)?0:o-d,o),u=0,h=s-1;u<h;u++)Mu(e,l,c,i[u],i[u+1]);return Mu(e,l,c,a,xe(d)?e.length:a+d),l}return Mu(e,l,c),l}function s8(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function o8(t,e,n){const r=c8(t),i=e.length/n;if(!r)return Math.max(i,1);const s=iU(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function a8(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function l8(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function Mu(t,e,n,r,i){const s=ce(r,0),o=Math.min(ce(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function c8(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const u8=t=>t==="left"?"right":t==="right"?"left":t,ax=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n;function lx(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function h8(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function d8(t,e){Se(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function ja(t){return t.drawTicks?t.tickLength:0}function cx(t,e){if(!t.display)return 0;const n=gt(t.font,e),r=Zt(t.padding);return(ze(t.text)?t.text.length:1)*n.lineHeight+r.height}function f8(t,e){return is(t,{scale:e,type:"scale"})}function p8(t,e,n){return is(t,{tick:n,index:e,type:"tick"})}function m8(t,e,n){let r=qv(t);return(n&&e!=="right"||!n&&e==="right")&&(r=u8(r)),r}function g8(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,d,f,m;const y=o-i,b=a-s;if(t.isHorizontal()){if(f=Vt(r,s,a),ve(n)){const g=Object.keys(n)[0],v=n[g];m=u[g].getPixelForValue(v)+y-e}else n==="center"?m=(c.bottom+c.top)/2+y-e:m=ax(t,n,e);d=a-s}else{if(ve(n)){const g=Object.keys(n)[0],v=n[g];f=u[g].getPixelForValue(v)-b+e}else n==="center"?f=(c.left+c.right)/2-b+e:f=ax(t,n,e);m=Vt(r,o,i),h=n==="left"?-et:et}return{titleX:f,titleY:m,maxWidth:d,rotation:h}}class so extends cr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Rn(e,Number.POSITIVE_INFINITY),n=Rn(n,Number.NEGATIVE_INFINITY),r=Rn(r,Number.POSITIVE_INFINITY),i=Rn(i,Number.NEGATIVE_INFINITY),{min:Rn(e,r),max:Rn(n,i),minDefined:Lt(e),maxDefined:Lt(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Rn(n,Rn(r,n)),max:Rn(r,Rn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Oe(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qU(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?lx(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=i8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Oe(this.options.afterUpdate,[this])}beforeSetDimensions(){Oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Oe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Oe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Oe(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=this.ticks.length,i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=Kt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),h+6>a&&(a=f/(r-(e.offset?.5:1)),l=this.maxHeight-ja(e.grid)-n.padding-cx(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=Hv(Math.min(Math.asin(Kt((u.highest.height+6)/a,-1,1)),Math.asin(Kt(l/c,-1,1))-Math.asin(Kt(d/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Oe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=cx(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=ja(s)+l):(e.height=this.maxHeight,e.width=ja(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=r.padding*2,m=rr(this.labelRotation),y=Math.cos(m),b=Math.sin(m);if(a){const g=r.mirror?0:b*h.width+y*d.height;e.height=Math.min(this.maxHeight,e.height+g+f)}else{const g=r.mirror?0:y*h.width+b*d.height;e.width=Math.min(this.maxWidth,e.width+g+f)}this._calculatePadding(c,u,b,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=i*e.width,f=r*n.height):(d=r*e.height,f=i*n.width):s==="start"?f=n.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Oe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)xe(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=lx(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length)}return e}_computeLabelSizes(e,n){const{ctx:r,_longestTextCache:i}=this,s=[],o=[];let a=0,l=0,c,u,h,d,f,m,y,b,g,v,w;for(c=0;c<n;++c){if(d=e[c].label,f=this._resolveTickFontOptions(c),r.font=m=f.string,y=i[m]=i[m]||{data:{},gc:[]},b=f.lineHeight,g=v=0,!xe(d)&&!ze(d))g=yd(r,y.data,y.gc,g,d),v=b;else if(ze(d))for(u=0,h=d.length;u<h;++u)w=d[u],!xe(w)&&!ze(w)&&(g=yd(r,y.data,y.gc,g,w),v+=b);s.push(g),o.push(v),a=Math.max(g,a),l=Math.max(v,l)}d8(i,n);const _=s.indexOf(a),x=o.indexOf(l),k=E=>({width:s[E]||0,height:o[E]||0});return{first:k(0),last:k(n-1),widest:k(_),highest:k(x),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return aU(this._alignToPixels?os(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=p8(this.getContext(),e,r))}return this.$context||(this.$context=f8(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=rr(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o}=i,a=s.offset,l=this.isHorizontal(),u=this.ticks.length+(a?1:0),h=ja(s),d=[],f=s.setContext(this.getContext()),m=f.drawBorder?f.borderWidth:0,y=m/2,b=function(j){return os(r,j,m)};let g,v,w,_,x,k,E,T,N,P,U,B;if(o==="top")g=b(this.bottom),k=this.bottom-h,T=g-y,P=b(e.top)+y,B=e.bottom;else if(o==="bottom")g=b(this.top),P=e.top,B=b(e.bottom)-y,k=g+y,T=this.top+h;else if(o==="left")g=b(this.right),x=this.right-h,E=g-y,N=b(e.left)+y,U=e.right;else if(o==="right")g=b(this.left),N=e.left,U=b(e.right)-y,x=g+y,E=this.left+h;else if(n==="x"){if(o==="center")g=b((e.top+e.bottom)/2+.5);else if(ve(o)){const j=Object.keys(o)[0],te=o[j];g=b(this.chart.scales[j].getPixelForValue(te))}P=e.top,B=e.bottom,k=g+y,T=k+h}else if(n==="y"){if(o==="center")g=b((e.left+e.right)/2);else if(ve(o)){const j=Object.keys(o)[0],te=o[j];g=b(this.chart.scales[j].getPixelForValue(te))}x=g-y,E=x-h,N=e.left,U=e.right}const W=ce(i.ticks.maxTicksLimit,u),re=Math.max(1,Math.ceil(u/W));for(v=0;v<u;v+=re){const j=s.setContext(this.getContext(v)),te=j.lineWidth,ne=j.color,R=j.borderDash||[],H=j.borderDashOffset,q=j.tickWidth,ie=j.tickColor,ae=j.tickBorderDash||[],Ke=j.tickBorderDashOffset;w=h8(this,v,a),w!==void 0&&(_=os(r,w,te),l?x=E=N=U=_:k=T=P=B=_,d.push({tx1:x,ty1:k,tx2:E,ty2:T,x1:N,y1:P,x2:U,y2:B,width:te,color:ne,borderDash:R,borderDashOffset:H,tickWidth:q,tickColor:ie,tickBorderDash:ae,tickBorderDashOffset:Ke}))}return this._ticksLength=u,this._borderValue=g,d}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,d=ja(r.grid),f=d+u,m=h?-u:f,y=-rr(this.labelRotation),b=[];let g,v,w,_,x,k,E,T,N,P,U,B,W="middle";if(i==="top")k=this.bottom-m,E=this._getXAxisLabelAlignment();else if(i==="bottom")k=this.top+m,E=this._getXAxisLabelAlignment();else if(i==="left"){const j=this._getYAxisLabelAlignment(d);E=j.textAlign,x=j.x}else if(i==="right"){const j=this._getYAxisLabelAlignment(d);E=j.textAlign,x=j.x}else if(n==="x"){if(i==="center")k=(e.top+e.bottom)/2+f;else if(ve(i)){const j=Object.keys(i)[0],te=i[j];k=this.chart.scales[j].getPixelForValue(te)+f}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")x=(e.left+e.right)/2-f;else if(ve(i)){const j=Object.keys(i)[0],te=i[j];x=this.chart.scales[j].getPixelForValue(te)}E=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?W="top":l==="end"&&(W="bottom"));const re=this._getLabelSizes();for(g=0,v=a.length;g<v;++g){w=a[g],_=w.label;const j=s.setContext(this.getContext(g));T=this.getPixelForTick(g)+s.labelOffset,N=this._resolveTickFontOptions(g),P=N.lineHeight,U=ze(_)?_.length:1;const te=U/2,ne=j.color,R=j.textStrokeColor,H=j.textStrokeWidth;let q=E;o?(x=T,E==="inner"&&(g===v-1?q=this.options.reverse?"left":"right":g===0?q=this.options.reverse?"right":"left":q="center"),i==="top"?c==="near"||y!==0?B=-U*P+P/2:c==="center"?B=-re.highest.height/2-te*P+P:B=-re.highest.height+P/2:c==="near"||y!==0?B=P/2:c==="center"?B=re.highest.height/2-te*P:B=re.highest.height-U*P,h&&(B*=-1)):(k=T,B=(1-U)*P/2);let ie;if(j.showLabelBackdrop){const ae=Zt(j.backdropPadding),Ke=re.heights[g],ue=re.widths[g];let Te=k+B-ae.top,Le=x-ae.left;switch(W){case"middle":Te-=Ke/2;break;case"bottom":Te-=Ke;break}switch(E){case"center":Le-=ue/2;break;case"right":Le-=ue;break}ie={left:Le,top:Te,width:ue+ae.width,height:Ke+ae.height,color:j.backdropColor}}b.push({rotation:y,label:_,font:N,color:ne,strokeColor:R,strokeWidth:H,textOffset:B,textAlign:q,textBaseline:W,translation:[x,k],backdrop:ie})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-rr(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{grid:r}}=this,i=r.setContext(this.getContext()),s=r.drawBorder?i.borderWidth:0;if(!s)return;const o=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=os(e,this.left,s)-s/2,c=os(e,this.right,o)+o/2,u=h=a):(u=os(e,this.top,s)-s/2,h=os(e,this.bottom,o)+o/2,l=c=a),n.save(),n.lineWidth=i.borderWidth,n.strokeStyle=i.borderColor,n.beginPath(),n.moveTo(l,u),n.lineTo(c,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Qv(r,i);const s=this._labelItems||(this._labelItems=this._computeLabelItems(e));let o,a;for(o=0,a=s.length;o<a;++o){const l=s[o],c=l.font,u=l.label;l.backdrop&&(r.fillStyle=l.backdrop.color,r.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let h=l.textOffset;Qs(r,u,0,h,c,l)}i&&Xv(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=gt(r.font),o=Zt(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||ve(n)?(l+=o.bottom,ze(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=g8(this,l,n,a);Qs(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:d,textAlign:m8(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=ce(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==so.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r+1,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return gt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Lu{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;w8(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,y8(e,o,r),this.override&&me.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in me[i]&&(delete me[i][r],this.override&&delete Ys[r])}}function y8(t,e,n){const r=cc(Object.create(null),[n?me.get(n):{},me.get(e),t.defaults]);me.set(e,r),t.defaultRoutes&&v8(e,t.defaultRoutes),t.descriptors&&me.describe(e,t.descriptors)}function v8(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");me.route(s,i,l,a)})}function w8(t){return"id"in t&&"defaults"in t}class b8{constructor(){this.controllers=new Lu(lr,"datasets",!0),this.elements=new Lu(cr,"elements"),this.plugins=new Lu(Object,"plugins"),this.scales=new Lu(so,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Se(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=Vv(e);Oe(r["before"+i],[],r),n[e](r),Oe(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var vr=new b8;class a1 extends lr{update(e){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=FI(n,r,i);if(this._drawStart=s,this._drawCount=o,zI(n)&&(s=0,o=r.length),this.options.showLine){const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}this.updateElements(r,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=vr.getElement("line")),super.addElements()}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),h=this.getSharedOptions(u),d=this.includeOptions(i,h),f=o.axis,m=a.axis,{spanGaps:y,segment:b}=this.options,g=ra(y)?y:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none";let w=n>0&&this.getParsed(n-1);for(let _=n;_<n+r;++_){const x=e[_],k=this.getParsed(_),E=v?x:{},T=xe(k[m]),N=E[f]=o.getPixelForValue(k[f],_),P=E[m]=s||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[m],_);E.skip=isNaN(N)||isNaN(P)||T,E.stop=_>0&&Math.abs(k[f]-w[f])>g,b&&(E.parsed=k,E.raw=c.data[_]),d&&(E.options=h||this.resolveDataElementOptions(_,x.active?"active":i)),v||this.updateElement(x,_,E,i),w=k}this.updateSharedOptions(h,i,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}a1.id="scatter";a1.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};a1.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function as(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hy{constructor(e){this.options=e||{}}init(e){}formats(){return as()}parse(e,n){return as()}format(e,n){return as()}add(e,n,r){return as()}diff(e,n,r){return as()}startOf(e,n,r){return as()}endOf(e,n){return as()}}hy.override=function(t){Object.assign(hy.prototype,t)};var _8={_date:hy};function x8(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?lU:Ss;if(r){if(i._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(s,e,n-u),d=l(s,e,n+u);return{lo:h.lo,hi:d.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Jc(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:d}=x8(s[a],e,o,i);for(let f=h;f<=d;++f){const m=u[f];m.skip||r(m,c,f)}}}function S8(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function fm(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Jc(t,n,e,function(a,l,c){!i&&!hc(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function E8(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:h}=AI(o,{x:e.x,y:e.y});uc(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Jc(t,n,e,s),i}function k8(t,e,n,r,i,s){let o=[];const a=S8(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const m=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(m))&&!f)return;const b=a(e,m);b<l?(o=[{element:u,datasetIndex:h,index:d}],l=b):b===l&&o.push({element:u,datasetIndex:h,index:d})}return Jc(t,n,e,c),o}function pm(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?E8(t,e,n,i):k8(t,e,n,r,i,s)}function ux(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Jc(t,n,e,(l,c,u)=>{l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var C8={evaluateInteractionItems:Jc,modes:{index(t,e,n,r){const i=ds(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?fm(t,i,s,r,o):pm(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=ds(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?fm(t,i,s,r,o):pm(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=ds(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return fm(t,i,s,r,o)},nearest(t,e,n,r){const i=ds(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return pm(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=ds(e,t);return ux(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=ds(e,t);return ux(t,i,"y",n.intersect,r)}}};const lN=["left","top","right","bottom"];function Va(t,e){return t.filter(n=>n.pos===e)}function hx(t,e){return t.filter(n=>lN.indexOf(n.pos)===-1&&n.box.axis===e)}function Ha(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function T8(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function I8(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!lN.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function N8(t,e){const n=I8(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function P8(t){const e=T8(t),n=Ha(e.filter(c=>c.box.fullSize),!0),r=Ha(Va(e,"left"),!0),i=Ha(Va(e,"right")),s=Ha(Va(e,"top"),!0),o=Ha(Va(e,"bottom")),a=hx(e,"x"),l=hx(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Va(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function dx(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function cN(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function O8(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!ve(i)){n.size&&(t[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[i]+=n.size}s.getPadding&&cN(o,s.getPadding());const a=Math.max(0,e.outerWidth-dx(o,t,"left","right")),l=Math.max(0,e.outerHeight-dx(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function R8(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function A8(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function il(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,A8(a.horizontal,e));const{same:h,other:d}=O8(e,n,a,r);c|=h&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&il(i,e,n,r)||u}function $u(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function fx(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;Hn(c.start)&&(o=c.start),l.fullSize?$u(l,i.left,o,n.outerWidth-i.right-i.left,d):$u(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;Hn(c.start)&&(s=c.start),l.fullSize?$u(l,s,i.top,d,n.outerHeight-i.bottom-i.top):$u(l,s,e.top+c.placed,d,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}me.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var zn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Zt(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=P8(t.boxes),l=a.vertical,c=a.horizontal;Se(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);cN(d,Zt(r));const f=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),m=N8(l.concat(c),h);il(a.fullSize,f,h,m),il(l,f,h,m),il(c,f,h,m)&&il(l,f,h,m),R8(f),fx(a.leftAndTop,f,h,m),f.x+=f.w,f.y+=f.h,fx(a.rightAndBottom,f,h,m),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Se(a.chartArea,y=>{const b=y.box;Object.assign(b,t.chartArea),b.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class uN{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class D8 extends uN{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ch="$chartjs",M8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},px=t=>t===null||t==="";function L8(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[ch]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",px(i)){const s=q_(t,"width");s!==void 0&&(t.width=s)}if(px(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=q_(t,"height");s!==void 0&&(t.height=s)}return t}const hN=mj?{passive:!0}:!1;function $8(t,e,n){t.addEventListener(e,n,hN)}function F8(t,e,n){t.canvas.removeEventListener(e,n,hN)}function z8(t,e){const n=M8[t.type]||t.type,{x:r,y:i}=ds(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function wd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function B8(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||wd(a.addedNodes,r),o=o&&!wd(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function U8(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||wd(a.removedNodes,r),o=o&&!wd(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const fc=new Map;let mx=0;function dN(){const t=window.devicePixelRatio;t!==mx&&(mx=t,fc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function j8(t,e){fc.size||window.addEventListener("resize",dN),fc.set(t,e)}function V8(t){fc.delete(t),fc.size||window.removeEventListener("resize",dN)}function H8(t,e,n){const r=t.canvas,i=r&&n1(r);if(!i)return;const s=$I((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),j8(t,s),o}function mm(t,e,n){n&&n.disconnect(),e==="resize"&&V8(t)}function W8(t,e,n){const r=t.canvas,i=$I(s=>{t.ctx!==null&&n(z8(s,t))},t,s=>{const o=s[0];return[o,o.offsetX,o.offsetY]});return $8(r,e,i),i}class q8 extends uN{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(L8(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[ch])return!1;const r=n[ch].initial;["height","width"].forEach(s=>{const o=r[s];xe(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[ch],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:B8,detach:U8,resize:H8}[n]||W8;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:mm,detach:mm,resize:mm}[n]||F8)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return pj(e,n,r,i)}isAttached(e){const n=n1(e);return!!(n&&n.isConnected)}}function K8(t){return!ZI()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?D8:q8}class G8{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Oe(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){xe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=ce(r.options&&r.options.plugins,{}),s=Y8(r);return i===!1&&!n?[]:X8(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function Y8(t){const e={},n=[],r=Object.keys(vr.plugins.items);for(let s=0;s<r.length;s++)n.push(vr.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Q8(t,e){return!e&&t===!1?null:t===!0?{}:t}function X8(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=Q8(r[l],i);c!==null&&s.push({plugin:a,options:J8(t.config,{plugin:a,local:n[l]},c,o)})}return s}function J8(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function dy(t,e){const n=me.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Z8(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function eV(t,e){return t===e?"_index_":"_value_"}function tV(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function fy(t,e){return t==="x"||t==="y"?t:e.axis||tV(e.position)||t.charAt(0).toLowerCase()}function nV(t,e){const n=Ys[t.type]||{scales:{}},r=e.scales||{},i=dy(t.type,e),s=Object.create(null),o=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!ve(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=fy(a,l),u=eV(c,i),h=n.scales||{};s[c]=s[c]||a,o[a]=bl(Object.create(null),[{axis:c},l,h[c],h[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||dy(l,e),h=(Ys[l]||{}).scales||{};Object.keys(h).forEach(d=>{const f=Z8(d,c),m=a[f+"AxisID"]||s[f]||f;o[m]=o[m]||Object.create(null),bl(o[m],[{axis:f},r[m],h[d]])})}),Object.keys(o).forEach(a=>{const l=o[a];bl(l,[me.scales[l.type],me.scale])}),o}function fN(t){const e=t.options||(t.options={});e.plugins=ce(e.plugins,{}),e.scales=nV(t,e)}function pN(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function rV(t){return t=t||{},t.data=pN(t.data),fN(t),t}const gx=new Map,mN=new Set;function Fu(t,e){let n=gx.get(t);return n||(n=e(),gx.set(t,n),mN.add(n)),n}const Wa=(t,e,n)=>{const r=Qi(e,n);r!==void 0&&t.add(r)};class iV{constructor(e){this._config=rV(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=pN(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),fN(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Fu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Fu(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Fu(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Fu(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>Wa(l,e,h))),u.forEach(h=>Wa(l,i,h)),u.forEach(h=>Wa(l,Ys[s]||{},h)),u.forEach(h=>Wa(l,me,h)),u.forEach(h=>Wa(l,cy,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),mN.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ys[n]||{},me.datasets[n]||{},{type:n},me,cy]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=yx(this._resolverCache,e,i);let l=o;if(oV(o,n)){s.$shared=!1,r=Xi(r)?r():r;const c=this.createResolver(e,r,a);l=ia(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=yx(this._resolverCache,e,r);return ve(n)?ia(s,n,void 0,i):s}}function yx(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Zv(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const sV=t=>ve(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||Xi(t[n]),!1);function oV(t,e){const{isScriptable:n,isIndexable:r}=KI(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Xi(a)||sV(a))||o&&ze(a))return!0}return!1}var aV="3.9.1";const lV=["top","bottom","left","right","chartArea"];function vx(t,e){return t==="top"||t==="bottom"||lV.indexOf(t)===-1&&e==="x"}function wx(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function bx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Oe(n&&n.onComplete,[t],e)}function cV(t){const e=t.chart,n=e.options.animation;Oe(n&&n.onProgress,[t],e)}function gN(t){return ZI()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const bd={},yN=t=>{const e=gN(t);return Object.values(bd).filter(n=>n.canvas===e).pop()};function uV(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function hV(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}class Zc{constructor(e,n){const r=this.config=new iV(n),i=gN(e),s=yN(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||K8(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=YB(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new G8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=hU(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],bd[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ar.listen(this,"complete",bx),Ar.listen(this,"progress",cV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return xe(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():W_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return j_(this.canvas,this.ctx),this}stop(){return Ar.stop(this),this}resize(e,n){Ar.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,W_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Oe(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Se(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=fy(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Se(s,o=>{const a=o.options,l=a.id,c=fy(l,a),u=ce(a.type,o.dtype);(a.position===void 0||vx(a.position,c)!==vx(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{const d=vr.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),Se(i,(o,a)=>{o||delete r[a]}),Se(r,o=>{zn.configure(this,o,o.options),zn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(wx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||dy(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=vr.getController(a),{datasetElementType:c,dataElementType:u}=me.datasets[a];Object.assign(l.prototype,{dataElementType:vr.getElement(u),datasetElementType:c&&vr.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Se(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Se(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(wx("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Se(this.scales,e=>{zn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!P_(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;uV(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!P_(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;zn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Se(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Xi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ar.has(this)?this.attached&&!Ar.running(this)&&Ar.start(this):(this.draw(),bx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Qv(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&Xv(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return hc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=C8.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=is(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);Hn(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ar.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),j_(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete bd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Se(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Se(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Se(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!fd(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=tU(e),c=hV(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Oe(s.onHover,[e,a,this],this),l&&Oe(s.onClick,[e,a,this],this));const u=!fd(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}const _x=()=>Se(Zc.instances,t=>t._plugins.invalidate()),ci=!0;Object.defineProperties(Zc,{defaults:{enumerable:ci,value:me},instances:{enumerable:ci,value:bd},overrides:{enumerable:ci,value:Ys},registry:{enumerable:ci,value:vr},version:{enumerable:ci,value:aV},getChart:{enumerable:ci,value:yN},register:{enumerable:ci,value:(...t)=>{vr.add(...t),_x()}},unregister:{enumerable:ci,value:(...t)=>{vr.remove(...t),_x()}}});function vN(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+et,r-et),t.closePath(),t.clip()}function dV(t){return Jv(t,["outerStart","outerEnd","innerStart","innerEnd"])}function fV(t,e,n,r){const i=dV(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return Kt(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Kt(i.innerStart,0,o),innerEnd:Kt(i.innerEnd,0,o)}}function fo(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function py(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+r+n-c,0),d=u>0?u+r+n+c:0;let f=0;const m=i-l;if(r){const j=u>0?u-r:0,te=h>0?h-r:0,ne=(j+te)/2,R=ne!==0?m*ne/(ne+r):m;f=(m-R)/2}const y=Math.max(.001,m*h-n/qe)/h,b=(m-y)/2,g=l+b+f,v=i-b-f,{outerStart:w,outerEnd:_,innerStart:x,innerEnd:k}=fV(e,d,h,v-g),E=h-w,T=h-_,N=g+w/E,P=v-_/T,U=d+x,B=d+k,W=g+x/U,re=v-k/B;if(t.beginPath(),s){if(t.arc(o,a,h,N,P),_>0){const ne=fo(T,P,o,a);t.arc(ne.x,ne.y,_,P,v+et)}const j=fo(B,v,o,a);if(t.lineTo(j.x,j.y),k>0){const ne=fo(B,re,o,a);t.arc(ne.x,ne.y,k,v+et,re+Math.PI)}if(t.arc(o,a,d,v-k/d,g+x/d,!0),x>0){const ne=fo(U,W,o,a);t.arc(ne.x,ne.y,x,W+Math.PI,g-et)}const te=fo(E,g,o,a);if(t.lineTo(te.x,te.y),w>0){const ne=fo(E,N,o,a);t.arc(ne.x,ne.y,w,g-et,N)}}else{t.moveTo(o,a);const j=Math.cos(N)*h+o,te=Math.sin(N)*h+a;t.lineTo(j,te);const ne=Math.cos(P)*h+o,R=Math.sin(P)*h+a;t.lineTo(ne,R)}t.closePath()}function pV(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){py(t,e,n,r,o+Ne,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+a%Ne,a%Ne===0&&(l+=Ne))}return py(t,e,n,r,l,i),t.fill(),l}function mV(t,e,n){const{x:r,y:i,startAngle:s,pixelMargin:o,fullCircles:a}=e,l=Math.max(e.outerRadius-o,0),c=e.innerRadius+o;let u;for(n&&vN(t,e,s+Ne),t.beginPath(),t.arc(r,i,c,s+Ne,s,!0),u=0;u<a;++u)t.stroke();for(t.beginPath(),t.arc(r,i,l,s,s+Ne),u=0;u<a;++u)t.stroke()}function gV(t,e,n,r,i,s){const{options:o}=e,{borderWidth:a,borderJoinStyle:l}=o,c=o.borderAlign==="inner";!a||(c?(t.lineWidth=a*2,t.lineJoin=l||"round"):(t.lineWidth=a,t.lineJoin=l||"bevel"),e.fullCircles&&mV(t,e,c),c&&vN(t,e,i),py(t,e,n,r,i,s),t.stroke())}class l1 extends cr{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=AI(i,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),d=this.options.spacing/2,m=ce(h,l-a)>=Ne||uc(s,a,l),y=Ei(o,c+d,u+d);return m&&y}getCenterPoint(e){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:c}=this.options,u=(i+s)/2,h=(o+a+c+l)/2;return{x:n+Math.cos(u)*h,y:r+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,i=(n.offset||0)/2,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>Ne?Math.floor(r/Ne):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=0;if(i){a=i/2;const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*a,Math.sin(c)*a),this.circumference>=qe&&(a=i)}e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor;const l=pV(e,this,a,s,o);gV(e,this,a,s,l,o),e.restore()}}l1.id="arc";l1.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};l1.defaultRoutes={backgroundColor:"backgroundColor"};function wN(t,e,n=e){t.lineCap=ce(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ce(n.borderDash,e.borderDash)),t.lineDashOffset=ce(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ce(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ce(n.borderWidth,e.borderWidth),t.strokeStyle=ce(n.borderColor,e.borderColor)}function yV(t,e,n){t.lineTo(n.x,n.y)}function vV(t){return t.stepped?FU:t.tension||t.cubicInterpolationMode==="monotone"?zU:yV}function bN(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function wV(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=bN(i,n,r),u=vV(s);let{move:h=!0,reverse:d}=r||{},f,m,y;for(f=0;f<=c;++f)m=i[(a+(d?c-f:f))%o],!m.skip&&(h?(t.moveTo(m.x,m.y),h=!1):u(t,y,m,d,s.stepped),y=m);return l&&(m=i[(a+(d?c:0))%o],u(t,y,m,d,s.stepped)),!!l}function bV(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=bN(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,h=0,d,f,m,y,b,g;const v=_=>(o+(c?a-_:_))%s,w=()=>{y!==b&&(t.lineTo(u,b),t.lineTo(u,y),t.lineTo(u,g))};for(l&&(f=i[v(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[v(d)],f.skip)continue;const _=f.x,x=f.y,k=_|0;k===m?(x<y?y=x:x>b&&(b=x),u=(h*u+_)/++h):(w(),t.lineTo(_,x),m=k,h=0,y=b=x),g=x}w()}function my(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?bV:wV}function _V(t){return t.stepped?gj:t.tension||t.cubicInterpolationMode==="monotone"?yj:fs}function xV(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),wN(t,e.options),t.stroke(i)}function SV(t,e,n,r){const{segments:i,options:s}=e,o=my(e);for(const a of i)wN(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const EV=typeof Path2D=="function";function kV(t,e,n,r){EV&&!e.options.segment?xV(t,e,n,r):SV(t,e,n,r)}class Qf extends cr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;lj(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Cj(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=Sj(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=_V(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=s[h],m=s[d];if(f===m){a.push(f);continue}const y=Math.abs((i-f[n])/(m[n]-f[n])),b=l(f,m,y,r.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,r){return my(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=my(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),kV(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Qf.id="line";Qf.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Qf.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Qf.descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};function xx(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class c1 extends cr{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return xx(this,e,"x",n)}inYRange(e,n){return xx(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!hc(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,uy(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}c1.id="point";c1.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};c1.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function _N(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=s/2,a=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function Ci(t,e,n,r){return t?0:Kt(e,n,r)}function CV(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=qI(r);return{t:Ci(i.top,s.top,0,n),r:Ci(i.right,s.right,0,e),b:Ci(i.bottom,s.bottom,0,n),l:Ci(i.left,s.left,0,e)}}function TV(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Rs(i),o=Math.min(e,n),a=t.borderSkipped,l=r||ve(i);return{topLeft:Ci(!l||a.top||a.left,s.topLeft,0,o),topRight:Ci(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Ci(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Ci(!l||a.bottom||a.right,s.bottomRight,0,o)}}function IV(t){const e=_N(t),n=e.right-e.left,r=e.bottom-e.top,i=CV(t,n/2,r/2),s=TV(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function gm(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&_N(t,r);return a&&(i||Ei(e,a.left,a.right))&&(s||Ei(n,a.top,a.bottom))}function NV(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function PV(t,e){t.rect(e.x,e.y,e.w,e.h)}function ym(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class Xf extends cr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=IV(this),a=NV(o.radius)?dc:PV;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,ym(o,n,s)),e.clip(),a(e,ym(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,ym(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return gm(this,e,n,r)}inXRange(e,n){return gm(this,e,null,n)}inYRange(e,n){return gm(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Xf.id="bar";Xf.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Xf.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const Sx=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},OV=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Ex extends cr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Oe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=gt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Sx(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((m,y)=>{const b=r+n/2+s.measureText(m.text).width;(y===0||c[c.length-1]+b+2*a>o)&&(h+=u,c[c.length-(y>0?0:1)]=0,f+=u,d++),l[y]={left:0,top:f,row:d,width:b,height:i},c[c.length-1]+=b+a}),h}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,m=0,y=0;return this.legendItems.forEach((b,g)=>{const v=r+n/2+s.measureText(b.text).width;g>0&&f+i+2*a>u&&(h+=d+a,c.push({width:d,height:f}),m+=d+a,y++,d=f=0),l[g]={left:m,top:f,col:y,width:v,height:i},d=Math.max(d,v),f+=i+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Uo(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Vt(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Vt(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Vt(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Vt(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Qv(e,this),this._draw(),Xv(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=me.color,l=Uo(e.rtl,this.left,this.width),c=gt(o.font),{color:u,padding:h}=o,d=c.size,f=d/2;let m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:y,boxHeight:b,itemHeight:g}=Sx(o,d),v=function(E,T,N){if(isNaN(y)||y<=0||isNaN(b)||b<0)return;i.save();const P=ce(N.lineWidth,1);if(i.fillStyle=ce(N.fillStyle,a),i.lineCap=ce(N.lineCap,"butt"),i.lineDashOffset=ce(N.lineDashOffset,0),i.lineJoin=ce(N.lineJoin,"miter"),i.lineWidth=P,i.strokeStyle=ce(N.strokeStyle,a),i.setLineDash(ce(N.lineDash,[])),o.usePointStyle){const U={radius:b*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:P},B=l.xPlus(E,y/2),W=T+f;WI(i,U,B,W,o.pointStyleWidth&&y)}else{const U=T+Math.max((d-b)/2,0),B=l.leftForLtr(E,y),W=Rs(N.borderRadius);i.beginPath(),Object.values(W).some(re=>re!==0)?dc(i,{x:B,y:U,w:y,h:b,radius:W}):i.rect(B,U,y,b),i.fill(),P!==0&&i.stroke()}i.restore()},w=function(E,T,N){Qs(i,N.text,E,T+g/2,c,{strikethrough:N.hidden,textAlign:l.textAlign(N.textAlign)})},_=this.isHorizontal(),x=this._computeTitleHeight();_?m={x:Vt(s,this.left+h,this.right-r[0]),y:this.top+h+x,line:0}:m={x:this.left+h,y:Vt(s,this.top+x+h,this.bottom-n[0].height),line:0},eN(this.ctx,e.textDirection);const k=g+h;this.legendItems.forEach((E,T)=>{i.strokeStyle=E.fontColor||u,i.fillStyle=E.fontColor||u;const N=i.measureText(E.text).width,P=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),U=y+f+N;let B=m.x,W=m.y;l.setWidth(this.width),_?T>0&&B+U+h>this.right&&(W=m.y+=k,m.line++,B=m.x=Vt(s,this.left+h,this.right-r[m.line])):T>0&&W+k>this.bottom&&(B=m.x=B+n[m.line].width+h,m.line++,W=m.y=Vt(s,this.top+x+h,this.bottom-n[m.line].height));const re=l.x(B);v(re,W,E),B=dU(P,B+y+f,_?B+U:this.right,e.rtl),w(l.x(B),W,E),_?m.x+=U+h:m.y+=k}),tN(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=gt(n.font),i=Zt(n.padding);if(!n.display)return;const s=Uo(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=Vt(e.align,h,this.right-d);else{const m=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);u=c+Vt(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=Vt(a,h,h+d);o.textAlign=s.textAlign(qv(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Qs(o,n.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,n=gt(e.font),r=Zt(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Ei(e,this.left,this.right)&&Ei(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Ei(e,i.left,i.left+i.width)&&Ei(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!RV(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=OV(i,r);i&&!s&&Oe(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Oe(n.onHover,[e,r,this],this)}else r&&Oe(n.onClick,[e,r,this],this)}}function RV(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var AV={id:"legend",_element:Ex,start(t,e,n){const r=t.legend=new Ex({ctx:t.ctx,options:n,chart:t});zn.configure(t,r,n),zn.addBox(t,r)},stop(t){zn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;zn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s}}=t.legend.options;return t._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(n?0:void 0),l=Zt(a.borderWidth);return{text:e[o.index].label,fillStyle:a.backgroundColor,fontColor:s,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:r||a.pointStyle,rotation:a.rotation,textAlign:i||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class xN extends cr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=ze(r.text)?r.text.length:1;this._padding=Zt(r.padding);const s=i*gt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=Vt(a,r,s),h=n+e,c=s-r):(o.position==="left"?(u=r+e,h=Vt(a,i,n),l=qe*-.5):(u=s-e,h=Vt(a,n,i),l=qe*.5),c=i-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=gt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Qs(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:qv(n.align),textBaseline:"middle",translation:[o,a]})}}function DV(t,e){const n=new xN({ctx:t.ctx,options:e,chart:t});zn.configure(t,n,e),zn.addBox(t,n),t.titleBlock=n}var MV={id:"title",_element:xN,start(t,e,n){DV(t,n)},stop(t){const e=t.titleBlock;zn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;zn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const El={average(t){if(!t.length)return!1;let e,n,r=0,i=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();r+=a.x,i+=a.y,++s}}return{x:r/s,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=ay(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function fr(t,e){return e&&(ze(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Dr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function LV(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function kx(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=gt(e.bodyFont),c=gt(e.titleFont),u=gt(e.footerFont),h=s.length,d=i.length,f=r.length,m=Zt(e.padding);let y=m.height,b=0,g=r.reduce((_,x)=>_+x.before.length+x.lines.length+x.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),g){const _=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=f*_+(g-f)*l.lineHeight+(g-1)*e.bodySpacing}d&&(y+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let v=0;const w=function(_){b=Math.max(b,n.measureText(_).width+v)};return n.save(),n.font=c.string,Se(t.title,w),n.font=l.string,Se(t.beforeBody.concat(t.afterBody),w),v=e.displayColors?o+2+e.boxPadding:0,Se(r,_=>{Se(_.before,w),Se(_.lines,w),Se(_.after,w)}),v=0,n.font=u.string,Se(t.footer,w),n.restore(),b+=m.width,{width:b,height:y}}function $V(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function FV(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function zV(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),FV(c,t,e,n)&&(c="center"),c}function Cx(t,e,n){const r=n.yAlign||e.yAlign||$V(t,n);return{xAlign:n.xAlign||e.xAlign||zV(t,e,n,r),yAlign:r}}function BV(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function UV(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function Tx(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Rs(o);let m=BV(e,a);const y=UV(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,d)+i:a==="right"&&(m+=Math.max(h,f)+i),{x:Kt(m,0,r.width-e.width),y:Kt(y,0,r.height-e.height)}}function zu(t,e,n){const r=Zt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Ix(t){return fr([],Dr(t))}function jV(t,e,n){return is(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Nx(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class gy extends cr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new rN(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=jV(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=r.beforeTitle.apply(this,[e]),s=r.title.apply(this,[e]),o=r.afterTitle.apply(this,[e]);let a=[];return a=fr(a,Dr(i)),a=fr(a,Dr(s)),a=fr(a,Dr(o)),a}getBeforeBody(e,n){return Ix(n.callbacks.beforeBody.apply(this,[e]))}getBody(e,n){const{callbacks:r}=n,i=[];return Se(e,s=>{const o={before:[],lines:[],after:[]},a=Nx(r,s);fr(o.before,Dr(a.beforeLabel.call(this,s))),fr(o.lines,a.label.call(this,s)),fr(o.after,Dr(a.afterLabel.call(this,s))),i.push(o)}),i}getAfterBody(e,n){return Ix(n.callbacks.afterBody.apply(this,[e]))}getFooter(e,n){const{callbacks:r}=n,i=r.beforeFooter.apply(this,[e]),s=r.footer.apply(this,[e]),o=r.afterFooter.apply(this,[e]);let a=[];return a=fr(a,Dr(i)),a=fr(a,Dr(s)),a=fr(a,Dr(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(LV(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,r))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,r))),Se(a,u=>{const h=Nx(e.callbacks,u);i.push(h.labelColor.call(this,u)),s.push(h.labelPointStyle.call(this,u)),o.push(h.labelTextColor.call(this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=El[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=kx(this,r),c=Object.assign({},a,l),u=Cx(this.chart,r,c),h=Tx(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Rs(a),{x:d,y:f}=e,{width:m,height:y}=n;let b,g,v,w,_,x;return s==="center"?(_=f+y/2,i==="left"?(b=d,g=b-o,w=_+o,x=_-o):(b=d+m,g=b+o,w=_-o,x=_+o),v=b):(i==="left"?g=d+Math.max(l,u)+o:i==="right"?g=d+m-Math.max(c,h)-o:g=this.caretX,s==="top"?(w=f,_=w-o,b=g-o,v=g+o):(w=f+y,_=w+o,b=g+o,v=g-o),x=w),{x1:b,x2:g,x3:v,y1:w,y2:_,y3:x}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Uo(r.rtl,this.x,this.width);for(e.x=zu(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=gt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c,boxPadding:u}=s,h=gt(s.bodyFont),d=zu(this,"left",s),f=i.x(d),m=l<h.lineHeight?(h.lineHeight-l)/2:0,y=n.y+m;if(s.usePointStyle){const b={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},g=i.leftForLtr(f,c)+c/2,v=y+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,uy(e,b,g,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,uy(e,b,g,v)}else{e.lineWidth=ve(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const b=i.leftForLtr(f,c-u),g=i.leftForLtr(i.xPlus(f,1),c-u-2),v=Rs(o.borderRadius);Object.values(v).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,dc(e,{x:b,y,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),dc(e,{x:g,y:y+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(b,y,c,l),e.strokeRect(b,y,c,l),e.fillStyle=o.backgroundColor,e.fillRect(g,y+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,h=gt(r.bodyFont);let d=h.lineHeight,f=0;const m=Uo(r.rtl,this.x,this.width),y=function(T){n.fillText(T,m.x(e.x+f),e.y+d/2),e.y+=d+s},b=m.textAlign(o);let g,v,w,_,x,k,E;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=zu(this,b,r),n.fillStyle=r.bodyColor,Se(this.beforeBody,y),f=a&&b!=="right"?o==="center"?c/2+u:c+2+u:0,_=0,k=i.length;_<k;++_){for(g=i[_],v=this.labelTextColors[_],n.fillStyle=v,Se(g.before,y),w=g.lines,a&&w.length&&(this._drawColorBox(n,e,_,m,r),d=Math.max(h.lineHeight,l)),x=0,E=w.length;x<E;++x)y(w[x]),d=h.lineHeight;Se(g.after,y)}f=0,d=h.lineHeight,Se(this.afterBody,y),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Uo(r.rtl,this.x,this.width);for(e.x=zu(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=gt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:m}=Rs(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-m),n.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=El[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=kx(this,e),l=Object.assign({},o,this._size),c=Cx(n,e,l),u=Tx(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Zt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),eN(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),tN(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!fd(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!fd(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n;const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=El[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}gy.positioners=El;var VV={id:"tooltip",_element:gy,positioners:El,afterInit(t,e,n){n&&(t.tooltip=new gy({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",n)===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Rr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Rr,beforeBody:Rr,beforeLabel:Rr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return xe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Rr,afterBody:Rr,beforeFooter:Rr,footer:Rr,afterFooter:Rr}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const HV=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function WV(t,e,n,r){const i=t.indexOf(e);if(i===-1)return HV(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const qV=(t,e)=>t===null?null:Kt(Math.round(t),0,e);class _d extends so{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(xe(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:WV(r,e,ce(n,e),this._addedLabels),qV(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){const n=this.getLabels();return e>=0&&e<n.length?n[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}_d.id="category";_d.defaults={ticks:{callback:_d.prototype.getLabelForValue}};function KV(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=s||1,m=u-1,{min:y,max:b}=e,g=!xe(o),v=!xe(a),w=!xe(c),_=(b-y)/(h+1);let x=R_((b-y)/m/f)*f,k,E,T,N;if(x<1e-14&&!g&&!v)return[{value:y},{value:b}];N=Math.ceil(b/x)-Math.floor(y/x),N>m&&(x=R_(N*x/m/f)*f),xe(l)||(k=Math.pow(10,l),x=Math.ceil(x*k)/k),i==="ticks"?(E=Math.floor(y/x)*x,T=Math.ceil(b/x)*x):(E=y,T=b),g&&v&&s&&sU((a-o)/s,x/1e3)?(N=Math.round(Math.min((a-o)/x,u)),x=(a-o)/N,E=o,T=a):w?(E=g?o:E,T=v?a:T,N=c-1,x=(T-E)/N):(N=(T-E)/x,_l(N,Math.round(N),x/1e3)?N=Math.round(N):N=Math.ceil(N));const P=Math.max(A_(x),A_(E));k=Math.pow(10,xe(l)?P:l),E=Math.round(E*k)/k,T=Math.round(T*k)/k;let U=0;for(g&&(d&&E!==o?(n.push({value:o}),E<o&&U++,_l(Math.round((E+U*x)*k)/k,o,Px(o,_,t))&&U++):E<o&&U++);U<N;++U)n.push({value:Math.round((E+U*x)*k)/k});return v&&d&&T!==a?n.length&&_l(n[n.length-1].value,a,Px(a,_,t))?n[n.length-1].value=a:n.push({value:a}):(!v||T===a)&&n.push({value:T}),n}function Px(t,e,{horizontal:n,minRotation:r}){const i=rr(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class xd extends so{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return xe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=Tr(i),c=Tr(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=1;(s>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(s*.05)),a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=KV(i,s);return e.bounds==="ticks"&&RI(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Qc(e,this.chart.options.locale,this.options.ticks.format)}}class u1 extends xd{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Lt(e)?e:0,this.max=Lt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=rr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}u1.id="linear";u1.defaults={ticks:{callback:Yf.formatters.numeric}};function Ox(t){return t/Math.pow(10,Math.floor(Ln(t)))===1}function GV(t,e){const n=Math.floor(Ln(e.max)),r=Math.ceil(e.max/Math.pow(10,n)),i=[];let s=Rn(t.min,Math.pow(10,Math.floor(Ln(e.min)))),o=Math.floor(Ln(s)),a=Math.floor(s/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do i.push({value:s,major:Ox(s)}),++a,a===10&&(a=1,++o,l=o>=0?1:l),s=Math.round(a*Math.pow(10,o)*l)/l;while(o<n||o===n&&a<r);const c=Rn(t.max,s);return i.push({value:c,major:Ox(s)}),i}class SN extends so{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=xd.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Lt(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Lt(e)?Math.max(0,e):null,this.max=Lt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=l=>r=e?r:l,o=l=>i=n?i:l,a=(l,c)=>Math.pow(10,Math.floor(Ln(l))+c);r===i&&(r<=0?(s(1),o(10)):(s(a(r,-1)),o(a(i,1)))),r<=0&&s(a(i,-1)),i<=0&&o(a(r,1)),this._zero&&this.min!==this._suggestedMin&&r===a(this.min,0)&&s(a(r,-1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=GV(n,this);return e.bounds==="ticks"&&RI(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Qc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ln(e),this._valueRange=Ln(this.max)-Ln(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ln(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}SN.id="logarithmic";SN.defaults={ticks:{callback:Yf.formatters.logarithmic,major:{enabled:!0}}};function yy(t){const e=t.ticks;if(e.display&&t.display){const n=Zt(e.backdropPadding);return ce(e.font&&e.font.size,me.font.size)+n.height}return 0}function YV(t,e,n){return n=ze(n)?n:[n],{w:$U(t,e.string,n),h:n.length*e.lineHeight}}function Rx(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function QV(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?qe/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),h=gt(c.font),d=YV(t.ctx,h,t._pointLabels[l]);r[l]=d;const f=Zn(t.getIndexAngle(l)+a),m=Math.round(Hv(f)),y=Rx(m,u.x,d.w,0,180),b=Rx(m,u.y,d.h,90,270);XV(n,e,f,y,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=JV(t,r,i)}function XV(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function JV(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,o=yy(s)/2,a=t.drawingArea,l=s.pointLabels.centerPointLabels?qe/i:0;for(let c=0;c<i;c++){const u=t.getPointPosition(c,a+o+n[c],l),h=Math.round(Hv(Zn(u.angle+et))),d=e[c],f=tH(u.y,d.h,h),m=ZV(h),y=eH(u.x,d.w,m);r.push({x:u.x,y:f,textAlign:m,left:y,top:f,right:y+d.w,bottom:f+d.h})}return r}function ZV(t){return t===0||t===180?"center":t<180?"left":"right"}function eH(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function tH(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function nH(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=r.setContext(t.getPointLabelContext(i)),o=gt(s.font),{x:a,y:l,textAlign:c,left:u,top:h,right:d,bottom:f}=t._pointLabelItems[i],{backdropColor:m}=s;if(!xe(m)){const y=Rs(s.borderRadius),b=Zt(s.backdropPadding);n.fillStyle=m;const g=u-b.left,v=h-b.top,w=d-u+b.width,_=f-h+b.height;Object.values(y).some(x=>x!==0)?(n.beginPath(),dc(n,{x:g,y:v,w,h:_,radius:y}),n.fill()):n.fillRect(g,v,w,_)}Qs(n,t._pointLabels[i],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}function EN(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Ne);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function rH(t,e,n,r){const i=t.ctx,s=e.circular,{color:o,lineWidth:a}=e;!s&&!r||!o||!a||n<0||(i.save(),i.strokeStyle=o,i.lineWidth=a,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),EN(t,n,s,r),i.closePath(),i.stroke(),i.restore())}function iH(t,e,n){return is(t,{label:n,index:e,type:"pointLabel"})}class Jf extends xd{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Zt(yy(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Lt(e)&&!isNaN(e)?e:0,this.max=Lt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/yy(this.options))}generateTickLabels(e){xd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=Oe(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?QV(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=Ne/(this._pointLabels.length||1),r=this.options.startAngle||0;return Zn(e*n+rr(r))}getDistanceFromCenterForValue(e){if(xe(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(xe(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return iH(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-et+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),EN(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i}=n,s=this._pointLabels.length;let o,a,l;if(n.pointLabels.display&&nH(this,s),i.display&&this.ticks.forEach((c,u)=>{if(u!==0){a=this.getDistanceFromCenterForValue(c.value);const h=i.setContext(this.getContext(u-1));rH(this,h,a,s)}}),r.display){for(e.save(),o=s-1;o>=0;o--){const c=r.setContext(this.getPointLabelContext(o)),{color:u,lineWidth:h}=c;!h||!u||(e.lineWidth=h,e.strokeStyle=u,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),u=gt(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=Zt(c.backdropPadding);e.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}Qs(e,a.label,0,-s,u,{color:c.color})}),e.restore()}drawTitle(){}}Jf.id="radialLinear";Jf.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Yf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};Jf.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Jf.descriptors={angleLines:{_fallback:"grid"}};const Zf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},un=Object.keys(Zf);function sH(t,e){return t-e}function Ax(t,e){if(xe(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Lt(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(ra(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function Dx(t,e,n,r){const i=un.length;for(let s=un.indexOf(t);s<i-1;++s){const o=Zf[un[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return un[s]}return un[i-1]}function oH(t,e,n,r,i){for(let s=un.length-1;s>=un.indexOf(n);s--){const o=un[s];if(Zf[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return un[n?un.indexOf(n):0]}function aH(t){for(let e=un.indexOf(t)+1,n=un.length;e<n;++e)if(Zf[un[e]].common)return un[e]}function Mx(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=Wv(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function lH(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function Lx(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:lH(t,r,i,n)}class ep extends so{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n){const r=e.time||(e.time={}),i=this._adapter=new _8._date(e.adapters.date);i.init(n),bl(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Ax(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Lt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Lt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=cU(i,s,o);return this._unit=n.unit||(r.autoSkip?Dx(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):oH(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:aH(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Lx(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Kt(n,0,o),r=Kt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||Dx(s.minUnit,n,r,this._getLabelCapacity(n)),a=ce(s.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=ra(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<r;d=+e.add(d,a,o),f++)Mx(u,d,m);return(d===r||i.bounds==="ticks"||f===1)&&Mx(u,d,m),Object.keys(u).sort((y,b)=>y-b).map(y=>+y)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=r[n],d=l&&u&&h&&h.major,f=this._adapter.format(e,i||(d?u:c)),m=s.ticks.callback;return m?Oe(m,[f,n,r],this):f}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=rr(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Lx(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(Ax(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return MI(e.sort(sH))}}ep.id="time";ep.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Bu(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Ss(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Ss(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class kN extends ep{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Bu(n,this.min),this._tableRange=Bu(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Bu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Bu(this._table,r*this._tableRange+this._minPos,!0)}}kN.id="timeseries";kN.defaults=ep.defaults;const CN="label";function $x(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function cH(t,e){Object.assign(t.options,e)}function TN(t,e){t.labels=e}function IN(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:CN;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function uH(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CN;const n={labels:[],datasets:[]};return TN(n,t.labels),IN(n,t.datasets,e),n}function hH(t,e){let{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...d}=t;const f=C.exports.useRef(null),m=C.exports.useRef(),y=()=>{!f.current||(m.current=new Zc(f.current,{type:o,data:uH(a,s),options:l&&{...l},plugins:c}),$x(e,m.current))},b=()=>{$x(e,null),m.current&&(m.current.destroy(),m.current=null)};return C.exports.useEffect(()=>{!i&&m.current&&l&&cH(m.current,l)},[i,l]),C.exports.useEffect(()=>{!i&&m.current&&TN(m.current.config.data,a.labels)},[i,a.labels]),C.exports.useEffect(()=>{!i&&m.current&&a.datasets&&IN(m.current.config.data,a.datasets,s)},[i,a.datasets]),C.exports.useEffect(()=>{!m.current||(i?(b(),setTimeout(y)):m.current.update(h))},[i,l,a.labels,a.datasets,h]),C.exports.useEffect(()=>{!m.current||(b(),setTimeout(y))},[o]),C.exports.useEffect(()=>(y(),()=>b()),[]),p("canvas",{...Object.assign({ref:f,role:"img",height:n,width:r},d),children:u})}const dH=C.exports.forwardRef(hH);function fH(t,e){return Zc.register(e),C.exports.forwardRef((n,r)=>p(dH,{...Object.assign({},n,{ref:r,type:t})}))}const pH=fH("bar",Gf);Zc.register(_d,u1,Xf,MV,VV,AV);const mH={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Order Status"}}},gH=()=>{const{orderHistory:t}=De(l=>l.order),e=t.map(l=>l.orderStatus),n=(l,c)=>l.filter(u=>u===c).length,r=n(e,"Order Placed"),i=n(e,"Processing..."),s=n(e,"Item(s) Shipped"),o=n(e,"Item(s) Delivered");return p(pH,{options:mH,data:{labels:["Order Places","Processing","Shipped","Delivered"],datasets:[{label:"Order Count",data:[r,s,i,o],backgroundColor:"#191a3ed6"}]}})};var St={exports:{}},yH="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vH=yH,wH=vH;function NN(){}function PN(){}PN.resetWarningCache=NN;var bH=function(){function t(r,i,s,o,a,l){if(l!==wH){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:PN,resetWarningCache:NN};return n.PropTypes=n,n};St.exports=bH();function Fx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fx(Object(n),!0).forEach(function(r){ON(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uh=function(e){return typeof e}:uh=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function ON(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _H=function(e){var n=it.useRef(e);return it.useEffect(function(){n.current=e},[e]),n.current},Sd=function(e){return e!==null&&uh(e)==="object"},Bx="[object Object]",xH=function t(e,n){if(!Sd(e)||!Sd(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===Bx,o=Object.prototype.toString.call(n)===Bx;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var c={},u=0;u<a.length;u+=1)c[a[u]]=!0;for(var h=0;h<l.length;h+=1)c[l[h]]=!0;var d=Object.keys(c);if(d.length!==a.length)return!1;var f=e,m=n,y=function(g){return t(f[g],m[g])};return d.every(y)},SH=function(e,n,r){return Sd(e)?Object.keys(e).reduce(function(i,s){var o=!Sd(n)||!xH(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?zx(zx({},i||{}),{},ON({},s,e[s])):i},null):null},RN=it.createContext(null);RN.displayName="ElementsContext";var EH=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},AN=it.createContext(null);AN.displayName="CartElementContext";var kH=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e};St.exports.any,St.exports.object;var Ux=function(e){var n=it.useContext(RN);return EH(n,e)},jx=function(e){var n=it.useContext(AN);return kH(n,e)};St.exports.func.isRequired;var Yn=function(e){var n=it.useRef(e);return it.useEffect(function(){n.current=e},[e]),function(){n.current&&n.current.apply(n,arguments)}},Qn=function(){},CH=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},bt=function(e,n){var r="".concat(CH(e),"Element"),i=function(l){var c=l.id,u=l.className,h=l.options,d=h===void 0?{}:h,f=l.onBlur,m=f===void 0?Qn:f,y=l.onFocus,b=y===void 0?Qn:y,g=l.onReady,v=g===void 0?Qn:g,w=l.onChange,_=w===void 0?Qn:w,x=l.onEscape,k=x===void 0?Qn:x,E=l.onClick,T=E===void 0?Qn:E,N=l.onLoadError,P=N===void 0?Qn:N,U=l.onLoaderStart,B=U===void 0?Qn:U,W=l.onNetworksChange,re=W===void 0?Qn:W,j=l.onCheckout,te=j===void 0?Qn:j,ne=l.onLineItemClick,R=ne===void 0?Qn:ne,H=Ux("mounts <".concat(r,">")),q=H.elements,ie=it.useRef(null),ae=it.useRef(null),Ke=jx("mounts <".concat(r,">")),ue=Ke.setCart,Te=Ke.setCartState,Le=Yn(v),wn=Yn(m),oo=Yn(b),si=Yn(T),ot=Yn(_),an=Yn(k),oi=Yn(P),eu=Yn(B),Ca=Yn(re),Ta=Yn(te),tu=Yn(R);it.useLayoutEffect(function(){if(ie.current==null&&q&&ae.current!=null){var at=q.create(e,d);e==="cart"&&ue&&ue(at),ie.current=at,at.mount(ae.current),at.on("ready",function(ur){e==="cart"&&Te&&Te(ur),Le(at)}),at.on("change",function(ur){e==="cart"&&Te&&Te(ur),ot(ur)}),at.on("blur",wn),at.on("focus",oo),at.on("escape",an),at.on("loaderror",oi),at.on("loaderstart",eu),at.on("networkschange",Ca),at.on("click",si),at.on("checkout",function(ur){e==="cart"&&Te&&Te(ur),Ta(ur)}),at.on("lineitemclick",tu)}});var Ia=_H(d);return it.useEffect(function(){if(!!ie.current){var at=SH(d,Ia,["paymentRequest"]);at&&ie.current.update(at)}},[d,Ia]),it.useLayoutEffect(function(){return function(){ie.current&&(ie.current.destroy(),ie.current=null)}},[]),p("div",{id:c,className:u,ref:ae})},s=function(l){Ux("mounts <".concat(r,">")),jx("mounts <".concat(r,">"));var c=l.id,u=l.className;return p("div",{id:c,className:u})},o=n?s:i;return o.propTypes={id:St.exports.string,className:St.exports.string,onChange:St.exports.func,onBlur:St.exports.func,onFocus:St.exports.func,onReady:St.exports.func,onEscape:St.exports.func,onClick:St.exports.func,onLoadError:St.exports.func,onLoaderStart:St.exports.func,onNetworksChange:St.exports.func,onCheckout:St.exports.func,onLineItemClick:St.exports.func,options:St.exports.object},o.displayName=r,o.__elementType=e,o},_t=typeof window>"u";bt("auBankAccount",_t);bt("card",_t);bt("cardNumber",_t);bt("cardExpiry",_t);bt("cardCvc",_t);bt("fpxBank",_t);bt("iban",_t);bt("idealBank",_t);bt("p24Bank",_t);bt("epsBank",_t);bt("payment",_t);bt("paymentRequestButton",_t);bt("linkAuthentication",_t);bt("address",_t);bt("shippingAddress",_t);bt("cart",_t);bt("paymentMethodMessaging",_t);bt("affirmMessage",_t);bt("afterpayClearpayMessage",_t);const TH=()=>{const{cartItems:t,totalQuantity:e,totalAmount:n}=De(r=>r.cart);return S(Me,{children:[p("h1",{className:"text-3xl font-light",children:"Checkout Summary"}),S("div",{className:"mt-2",children:[S("p",{className:"text-sm font-light text-gray-500",children:["Cart Item(s): ",e," "]}),S("div",{className:"flex items-center justify-between",children:[p("h1",{className:"text-xl font-light",children:"Subtotal: "}),p("p",{className:"text-primary text-xl font-semibold",children:Dt(n)})]}),t.map(r=>{const{id:i,name:s,price:o,qty:a}=r;return S("section",{className:"border-2 border-secondary-content rounded-md my-2 p-2",children:[p("h1",{className:"text-lg md:text-2xl text-primary",children:s}),S("p",{children:["Quantity: ",a]}),S("p",{children:["Unit Price : ",Dt(o)]}),S("p",{children:["Total Price: ",Dt(o*a)]})]},i)})]})]})},h1=({text:t})=>p("section",{className:"h-20 md:h-36 w-full bg-primary-content flex items-center",children:p("div",{className:"w-full mx-auto px-2 lg:w-9/12 md:px-6 ",children:p("h1",{className:"text-xl md:text-3xl font-bold text-secondary-content",children:t})})}),Vx=["Mobiles","Electronics","Bags","Clothes","Jwellery"];let vm=0;const IH=()=>{const[t,e]=C.exports.useState("");function n(){const r=Vx[vm];e(r),vm=(vm+1)%Vx.length,setTimeout(n,2e3)}return C.exports.useEffect(()=>{n()},[]),p(Me,{children:p("main",{className:"bg-base-100 w-full md:w-9/12 min-h-[92vh] mx-auto flex flex-col items-start justify-center ",children:p("div",{className:"container px-6 py-16 mx-auto",children:S("div",{className:"items-center lg:flex",children:[p("div",{className:"w-full lg:w-1/2",children:S("div",{className:"lg:max-w-lg",children:[S("p",{className:"text-4xl font-bold text-neutral lg:text-4xl",children:["Best place to choose ",p("br",{})," your"," ",p("span",{className:"text-blue-500 opacity-100 transition-opacity duration-2000",children:t})]}),p("p",{className:"mt-3 text-gray-600 dark:text-gray-400",children:"Give Your Workout A New Style ! Success isn't always about greatness. It's about consistency. Consistent hard work gain success. Greatness will come Welcome to Red Store"}),p(_e,{to:"/all",children:p("button",{className:"w-full px-5 py-2 mt-6 text-sm tracking-wider text-white uppercase transition-colors duration-300 transform bg-blue-600 rounded-lg lg:w-auto hover:bg-blue-500 focus:outline-none focus:bg-blue-500 animate__animated animate__rubberBand animate__infinite",children:"Shop Now"})})]})}),p("div",{className:"flex items-center justify-center w-full mt-6 lg:mt-0 lg:w-1/2",children:p("img",{className:"w-full h-full lg:max-w-3xl  animate__animated animate__pulse animate__infinite",src:"https://merakiui.com/images/components/Catalogue-pana.svg",alt:"Catalogue-pana.svg"})})]})})})})},wm=({color:t,title:e,count:n,icon:r})=>S("div",{className:"w-60 md:w-96 p-4 border-2 rounded-md shadow-lg border-b-8 border-primary",children:[p("h4",{className:"text-lg font-light",children:e}),S("div",{className:"flex justify-between items-center",children:[p("h1",{className:"text-green-600 text-2xl font-semibold",children:n}),p("h1",{className:"text-xl p-2 font-semibold bg-neutral rounded-full",children:r})]})]});function DN(t){return wt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"defs",attr:{},child:[{tag:"clipPath",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M124-288l388-672 388 672H124z",clipRule:"evenodd"}}]}]},{tag:"path",attr:{d:"M508 624a112 112 0 0 0 112-112c0-3.28-.15-6.53-.43-9.74L498.26 623.57c3.21.28 6.45.43 9.74.43zm370.72-458.44L836 122.88a8 8 0 0 0-11.31 0L715.37 232.23Q624.91 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 0 0 0 51.5q56.7 119.43 136.55 191.45L112.56 835a8 8 0 0 0 0 11.31L155.25 889a8 8 0 0 0 11.31 0l712.16-712.12a8 8 0 0 0 0-11.32zM332 512a176 176 0 0 1 258.88-155.28l-48.62 48.62a112.08 112.08 0 0 0-140.92 140.92l-48.62 48.62A175.09 175.09 0 0 1 332 512z"}},{tag:"path",attr:{d:"M942.2 486.2Q889.4 375 816.51 304.85L672.37 449A176.08 176.08 0 0 1 445 676.37L322.74 798.63Q407.82 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 0 0 0-51.5z"}}]})(t)}function MN(t){return wt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M396 512a112 112 0 1 0 224 0 112 112 0 1 0-224 0zm546.2-25.8C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"}}]})(t)}function Hx(t){return wt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 306.9c-113.5 0-205.1 91.6-205.1 205.1S398.5 717.1 512 717.1 717.1 625.5 717.1 512 625.5 306.9 512 306.9zm0 338.4c-73.4 0-133.3-59.9-133.3-133.3S438.6 378.7 512 378.7 645.3 438.6 645.3 512 585.4 645.3 512 645.3zm213.5-394.6c-26.5 0-47.9 21.4-47.9 47.9s21.4 47.9 47.9 47.9 47.9-21.3 47.9-47.9a47.84 47.84 0 0 0-47.9-47.9zM911.8 512c0-55.2.5-109.9-2.6-165-3.1-64-17.7-120.8-64.5-167.6-46.9-46.9-103.6-61.4-167.6-64.5-55.2-3.1-109.9-2.6-165-2.6-55.2 0-109.9-.5-165 2.6-64 3.1-120.8 17.7-167.6 64.5C132.6 226.3 118.1 283 115 347c-3.1 55.2-2.6 109.9-2.6 165s-.5 109.9 2.6 165c3.1 64 17.7 120.8 64.5 167.6 46.9 46.9 103.6 61.4 167.6 64.5 55.2 3.1 109.9 2.6 165 2.6 55.2 0 109.9.5 165-2.6 64-3.1 120.8-17.7 167.6-64.5 46.9-46.9 61.4-103.6 64.5-167.6 3.2-55.1 2.6-109.8 2.6-165zm-88 235.8c-7.3 18.2-16.1 31.8-30.2 45.8-14.1 14.1-27.6 22.9-45.8 30.2C695.2 844.7 570.3 840 512 840c-58.3 0-183.3 4.7-235.9-16.1-18.2-7.3-31.8-16.1-45.8-30.2-14.1-14.1-22.9-27.6-30.2-45.8C179.3 695.2 184 570.3 184 512c0-58.3-4.7-183.3 16.1-235.9 7.3-18.2 16.1-31.8 30.2-45.8s27.6-22.9 45.8-30.2C328.7 179.3 453.7 184 512 184s183.3-4.7 235.9 16.1c18.2 7.3 31.8 16.1 45.8 30.2 14.1 14.1 22.9 27.6 30.2 45.8C844.7 328.7 840 453.7 840 512c0 58.3 4.7 183.2-16.2 235.8z"}}]})(t)}function NH(t){return wt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0 0 68.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]})(t)}function PH(t){return wt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M922.9 701.9H327.4l29.9-60.9 496.8-.9c16.8 0 31.2-12 34.2-28.6l68.8-385.1c1.8-10.1-.9-20.5-7.5-28.4a34.99 34.99 0 0 0-26.6-12.5l-632-2.1-5.4-25.4c-3.4-16.2-18-28-34.6-28H96.5a35.3 35.3 0 1 0 0 70.6h125.9L246 312.8l58.1 281.3-74.8 122.1a34.96 34.96 0 0 0-3 36.8c6 11.9 18.1 19.4 31.5 19.4h62.8a102.43 102.43 0 0 0-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7h161.1a102.43 102.43 0 0 0-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7H923c19.4 0 35.3-15.8 35.3-35.3a35.42 35.42 0 0 0-35.4-35.2zM305.7 253l575.8 1.9-56.4 315.8-452.3.8L305.7 253zm96.9 612.7c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 0 1-31.6 31.6zm325.1 0c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 0 1-31.6 31.6z"}}]})(t)}const OH=()=>{const[t,e]=C.exports.useState(""),[n,r]=C.exports.useState(""),[i,s]=C.exports.useState(!1),[o,a]=C.exports.useState(!1),l=Wn();//! Test / Guest Account Login
const c=m=>{m.preventDefault(),document.getElementById("my-modal-4").checked=!1;let y="test@gmail.com",b=1234567890;a(!0),d_(Os,y,b).then(g=>{g.user,X.success("Login Successful"),a(!1),l("/")}).catch(g=>{X.error(g.code,g.message),a(!1)})},u=m=>{m.preventDefault(),document.getElementById("my-modal-4").checked=!1,a(!0),d_(Os,t,n).then(y=>{y.user,X.success("Login Successful"),a(!1),l("/")}).catch(y=>{X.error(y.code,y.message),a(!1)}),e(""),r("")},h=new Fr,d=()=>{a(!0),document.getElementById("my-modal-4").checked=!1,o6(Os,h).then(m=>{m.user,X.success("Login Successful"),a(!1),l("/")}).catch(m=>{X.error(m.code,m.message),a(!1)})},f=Boolean(t)&&Boolean(n);return S(Me,{children:[o&&p(Kn,{}),p("div",{className:"py-6 ",children:p("div",{className:"flex bg-white rounded-lg shadow-lg overflow-hidden mx-auto max-w-4xl",children:S("div",{className:"w-full px-8 pt-4 pb-6",children:[p("p",{className:"text-xl text-gray-600 text-center",children:"Welcome back"}),S("div",{className:" animate__animated animate__shake animate__infinite btn w-full mt-4 gap-2",onClick:d,children:[p(RA,{size:22}),"Sign in with google"]}),p("div",{className:"divider text-xs text-gray-400 uppercase",children:"or login with email"}),S("form",{className:"form-control",onSubmit:u,children:[S("div",{children:[p("label",{className:"label-text font-bold mb-2 block",children:"Email Address"}),p("input",{className:"input input-bordered w-full border-2",type:"email",required:!0,value:t,onChange:m=>e(m.target.value)})]}),S("div",{className:"mt-4 relative",children:[S("div",{className:"flex justify-between",children:[p("label",{className:"label-text font-bold mb-2",children:"Password"}),p(_e,{to:"/reset",className:"text-xs text-gray-500",onClick:()=>document.getElementById("my-modal-4").checked=!1,children:"Forget Password?"})]}),p("input",{className:"input input-bordered w-full border-2 ",type:`${i?"test":"password"}`,required:!0,value:n,onChange:m=>r(m.target.value)}),p("span",{onClick:()=>s(m=>!m),children:i?p(MN,{className:"absolute top-10 right-3 ",size:26,color:"gray"}):p(DN,{className:"absolute top-10 right-3 ",size:26,color:"gray"})})]}),S("div",{className:"mt-4 w-full flex flex-col items-center justify-center",children:[p("button",{type:"submit",className:"btn w-full",disabled:!f,children:"Login"}),p("label",{onClick:c,htmlFor:"my-modal-69",className:"btn btn-info btn-sm mt-2",children:"Test User"}),p("input",{type:"checkbox",id:"my-modal-69",className:"modal-toggle"}),p("label",{htmlFor:"my-modal-69",className:"modal cursor-pointer",children:S("label",{className:"modal-box relative",htmlFor:"",children:[p("h3",{className:"text-lg font-bold",children:"SORRY, this feature is currently Disabled due to Spamming"}),S("p",{className:"py-4",children:["Still wanna test the app ? contact ",p("br",{}),p("a",{href:"mailto: kartikpavan2@gmail.com",className:"text-red-500 font-semibold",children:"kartikpavan2@gmail.com"})]})]})})]})]})]})})})]})},RH=()=>{const[t,e]=C.exports.useState(""),[n,r]=C.exports.useState(""),[i,s]=C.exports.useState(""),[o,a]=C.exports.useState(!1),[l,c]=C.exports.useState(!1),u=Wn(),h=f=>{f.preventDefault(),n!==i&&X.error("Password Did not match"),c(!0),RF(Os,t,n).then(m=>{m.user,X.success("Registration Successful"),c(!1),document.getElementById("my-modal-4").checked=!1,u("/")}).catch(m=>{X.error(m.code,m.message),c(!1)}),e(""),r(""),s("")},d=Boolean(t)&&Boolean(n)&&Boolean(i);return S(Me,{children:[l&&p(Kn,{}),p("div",{className:"py-6 w-72 md:w-96",children:p("div",{className:"flex bg-white rounded-lg shadow-lg overflow-hidden mx-auto max-w-4xl",children:S("div",{className:"w-full px-8 pt-4 pb-6",children:[p("p",{className:"text-lg text-gray-600 text-center",children:"Create a new Account"}),S("form",{onSubmit:h,className:"form-control",children:[S("div",{children:[p("label",{className:"label-text font-bold mb-2 block",children:"Email Address"}),p("input",{className:"input input-bordered w-full border-2 ",type:"email",required:!0,value:t,onChange:f=>e(f.target.value)})]}),S("div",{className:"mt-4 relative",children:[p("div",{className:"flex justify-between",children:p("label",{className:"label-text font-bold mb-2",children:"Password"})}),p("input",{className:"input input-bordered w-full border-2",type:`${o?"test":"password"}`,required:!0,value:n,onChange:f=>r(f.target.value)}),p("span",{onClick:()=>a(f=>!f),children:o?p(MN,{className:"absolute top-10 right-3 ",size:26,color:"gray"}):p(DN,{className:"absolute top-10 right-3 ",size:26,color:"gray"})})]}),S("div",{className:"mt-4",children:[p("label",{className:"label-text font-bold mb-2",children:"Confirm Password"}),p("input",{className:"input input-bordered w-full border-2",type:"password",required:!0,value:i,onChange:f=>s(f.target.value)})]}),p("div",{className:"mt-4",children:p("button",{type:"submit",className:"btn w-full",disabled:!d,children:"REGISTER"})})]})]})})})]})},AH=()=>{const[t,e]=C.exports.useState(!0);return S(Me,{children:[p("input",{type:"checkbox",id:"my-modal-4",className:"modal-toggle"}),S("label",{htmlFor:"my-modal-4",className:"modal cursor-pointer flex flex-col",children:[S("div",{className:"tabs tabs-boxed  ",children:[p("button",{className:`tab tab-lg w-[50%] ${t?"tab-active":null}`,onClick:()=>e(n=>!n),children:"Login"}),p("button",{className:`tab tab-lg w-[50%] ${t?null:"tab-active"}`,onClick:()=>e(n=>!n),children:"Register"})]}),p("label",{className:" md:w-96 ",children:t?p(OH,{}):p(RH,{})})]})]})},DH={isUserLoggedIn:!1,email:null,userName:null,userId:null},LN=da({name:"auth",initialState:DH,reducers:{setActiveUser:(t,e)=>{const{email:n,userName:r,userId:i}=e.payload;t.isUserLoggedIn=!0,t.email=n,t.userName=r,t.userId=i},removeActiveUser:t=>{t.isUserLoggedIn=!1,t.email=null,t.userName=null,t.userId=null}}}),{setActiveUser:MH,removeActiveUser:LH}=LN.actions,$H=LN.reducer,FH=()=>{const{isUserLoggedIn:t,userName:e}=De(h=>h.auth),{totalAmount:n,totalQuantity:r,cartItems:i}=De(h=>h.cart),[s,o]=C.exports.useState(""),a=Wn(),l=vn();C.exports.useEffect(()=>{MF(Os,h=>{h?(s==null&&o(h.email.split("@")[0]),l(MH({email:h.email,userName:h.displayName?h.displayName:s,userId:h.uid}))):(o(""),l(LH()))})},[]);function c(){LF(Os).then(()=>{X.success("User Signed Out "),a("/")}).catch(h=>{X.error(h.code,h.message)})}let u={borderBottom:"2px solid white"};return C.exports.useEffect(()=>{l(Vh()),l(jk())},[l,i]),S(Me,{children:[p("nav",{className:"h-[8vh] bg-neutral shadow-xl ",children:S("div",{className:"navbar w-full md:w-9/12 mx-auto flex items-center justify-between",children:[p("section",{className:"md:gap-4",children:p(_e,{to:"/",className:"btn btn-ghost ",children:p("h1",{className:"logo text-red-300 text-lg md:text-3xl animate__animated animate__swing animate__tada animate__infinite",children:"Red Store"})})}),p("div",{children:S("ul",{className:"flex items-center gap-x-6",children:[p("li",{className:"hidden lg:block text-white text-xs md:text-xl",children:p(nr,{to:"/",style:({isActive:h})=>h?u:null,end:!0,children:"Home"})}),p("li",{className:"hidden lg:block text-white text-xs md:text-xl",children:p(nr,{to:"/all",style:({isActive:h})=>h?u:null,children:"All Products"})}),p("li",{className:"hidden lg:block text-white text-xs md:text-xl",children:p(nr,{to:"/contact",style:({isActive:h})=>h?u:null,children:"Contact Us"})})]})}),S("div",{className:"md:gap-2",children:[S("div",{className:"dropdown dropdown-end ",children:[p("label",{tabIndex:0,className:"btn btn-ghost btn-circle",children:S("div",{className:"indicator",children:[p(PH,{size:30,color:"white"}),p("span",{className:"badge badge-primary indicator-item",children:r})]})}),p("div",{tabIndex:0,className:"mt-3 card card-compact dropdown-content w-52 bg-base-100  shadow-xl ",children:S("div",{className:"card-body",children:[S("span",{className:"font-bold text-lg",children:[r," Items"]}),S("span",{children:["Subtotal: ",Dt(n)]}),p("div",{className:"card-actions",children:p(_e,{to:"/cart",className:"btn btn-primary btn-block",children:"View cart"})})]})})]}),S("div",{className:"dropdown dropdown-end ml-4",children:[p("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:p("div",{className:"rounded-full",children:p("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-white-blue-png-image_3918443.jpg",alt:"dp",className:"w-10 h-10 object-fill"})})}),S("ul",{tabIndex:0,className:"menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52 ",children:[e&&p("li",{className:"bg-primary text-gray-200",children:S("p",{className:"block",children:["Welcome,"," ",p("span",{className:"font-bold",children:e})]})}),S("div",{className:"block lg:hidden",children:[p("li",{children:p(_e,{to:"/",className:"text-lg ",children:"Home"})}),p("li",{children:p(_e,{to:"/all",className:"text-lg ",children:"All Products"})}),p("li",{children:p(_e,{to:"/contact",className:"text-lg",children:"Contact Us"})})]}),t?S("div",{children:[p("li",{children:p(_e,{to:"/my-orders",className:"text-lg text-primary",children:"My Orders"})}),p("li",{children:p(_e,{to:"/",className:"flex justify-between hover:bg-red-100  text-red-500 text-lg",onClick:c,children:"LOGOUT"})})]}):p("li",{children:p("label",{htmlFor:"my-modal-4",className:"modal-button text-lg text-primary",children:"Login"})})]})]})]})]})}),p(GB,{children:S("div",{className:"min-w-screen h-10  py-1 bg-red-200 text-red-700 font-bold text-center cursor-pointer",children:[p("span",{children:"ADMIN"}),p(_e,{to:"/admin/home",className:"btn btn-primary btn-sm mx-4",children:"VIEW DASHBOARD"})]})})]})},zH=({user:t,order:e})=>p("div",{className:"overflow-x-auto",children:S("table",{className:"table table-compact w-full",children:[p("thead",{children:S("tr",{children:[p("th",{className:"text-sm md:text-lg",children:"Product"}),t&&p("th",{className:"text-sm md:text-lg",children:"Actions"})]})}),p("tbody",{children:e.cartItems.map((n,r)=>{const{id:i,name:s,price:o,imageURL:a,qty:l}=n;return S("tr",{children:[p("td",{children:S(_e,{to:`/product-details/${i}`,children:[p(ts.exports.LazyLoadImage,{src:a||"https://storage.googleapis.com/proudcity/mebanenc/uploads/2021/03/placeholder-image.png",alt:s,className:"w-10 sm:w-24 object-fill",placeholderSrc:"https://www.slntechnologies.com/wp-content/uploads/2017/08/ef3-placeholder-image.jpg",effect:"blur"}),p("div",{className:"md:text-lg",children:s}),S("div",{className:"md:text-lg font-medium",children:["Qty:",p("span",{className:"md:text-lg font-medium text-primary",children:l})]}),S("div",{className:"md:text-lg font-medium",children:["Total:",p("span",{className:"md:text-lg font-medium text-primary",children:Dt(o*l)})]})]})}),t&&p("td",{children:p(_e,{to:`/review-product/${i}`,className:"border p-2 rounded-md md:text-lg",children:"Write a Review"})})]},r)})})]})}),BH=({productPerPage:t,currentPage:e,setCurrentPage:n,totalProducts:r})=>{function i(){n(o=>o<=1?o:o-1)}function s(){n(o=>o>=Math.ceil(r/t)?o:o+1)}return S("div",{className:"w-full flex flex-col items-center justify-center",children:[S("div",{className:"btn-group",children:[p("button",{className:"btn",onClick:i,children:"\xAB"}),S("button",{className:"btn",children:["Page ",e]}),p("button",{className:"btn",onClick:s,children:"\xBB"})]}),S("p",{className:"font-semibold",children:[S("span",{className:"text-primary",children:["Page ",e," "]})," of",S("span",{children:[" ",Math.ceil(r/t)," "]})]})]})},Wx=({children:t})=>{const{isUserLoggedIn:e}=De(n=>n.auth);return e?t:p(sA,{to:"/",replace:!0})},$N=({value:t,onChange:e})=>p("div",{children:S("div",{className:"input-group",children:[p("input",{type:"text",value:t,onChange:e,placeholder:"Search by name",className:"input input-bordered w-[300px]"}),p("button",{className:"btn btn-square",children:p(PB,{size:24})})]})}),UH=({order:t})=>S(Me,{children:[t.orderStatus==="Order Placed"&&S("ul",{className:"steps steps-vertical lg:steps-horizontal ",children:[p("li",{"data-content":"\u25CF",className:"step step-primary",children:p("pre",{children:" Order-Placed "})}),p("li",{"data-content":"\u25CF",className:"step ",children:p("pre",{children:" Processing "})}),p("li",{"data-content":"\u25CF",className:"step",children:p("pre",{children:" Order-Shipped "})}),p("li",{"data-content":"\u2713",className:"step",children:p("pre",{children:" Order-Delivered "})})]}),t.orderStatus==="Processing..."&&S("ul",{className:"steps steps-vertical lg:steps-horizontal",children:[p("li",{"data-content":"\u25CF",className:"step step-primary",children:p("pre",{children:" Order-Placed "})}),p("li",{"data-content":"\u25CF",className:"step step-primary",children:p("pre",{children:" Processing "})}),p("li",{"data-content":"\u25CF",className:"step",children:p("pre",{children:" Order-Shipped "})}),p("li",{"data-content":"\u2713",className:"step",children:p("pre",{children:" Order-Delivered "})})]}),t.orderStatus==="Item(s) Shipped"&&S("ul",{className:"steps steps-vertical lg:steps-horizontal",children:[p("li",{"data-content":"\u25CF",className:"step step-primary",children:p("pre",{children:" Order-Placed "})}),p("li",{"data-content":"\u25CF",className:"step step-primary",children:p("pre",{children:" Processing "})}),p("li",{"data-content":"\u25CF",className:"step step-primary",children:p("pre",{children:" Order-Shipped "})}),p("li",{"data-content":"\u2713",className:"step",children:p("pre",{children:" Order-Delivered "})})]}),t.orderStatus==="Item(s) Delivered"&&S("ul",{className:"steps steps-vertical lg:steps-horizontal",children:[p("li",{"data-content":"\u25CF",className:"step step-primary",children:p("pre",{children:" Order-Placed "})}),p("li",{"data-content":"\u25CF",className:"step step-primary",children:p("pre",{children:" Processing "})}),p("li",{"data-content":"\u25CF",className:"step step-primary",children:p("pre",{children:" Order-Shipped "})}),p("li",{"data-content":"\u2713",className:"step step-primary",children:p("pre",{children:" Order-Delivered "})})]})]}),jH=()=>{const{data:t}=io("products"),e=vn();return C.exports.useEffect(()=>{e(jv({products:t})),e(NI({products:t}))},[e,t]),p("div",{children:p(IH,{})})},VH=()=>p(Me,{children:p("div",{className:" bg-base-200 ",children:S("div",{className:"w-full lg:w-9/12 mx-auto h-[91vh] flex bg-base-100  ",children:[p("div",{className:"w-24 md:w-96 border-x-2",children:p(jB,{})}),p("div",{className:"flex-1 sm:p-4",children:S(ck,{children:[p(ut,{path:"home",element:p(FB,{})}),p(ut,{path:"all-products",element:p(qB,{})}),p(ut,{path:"add-product/:id",element:p(TB,{})}),p(ut,{path:"orders",element:p(VB,{})}),p(ut,{path:"order-details/:id",element:p(BB,{})})]})})]})})}),HH="/assets/empty-cart.2e0d6726.png",WH=()=>{const{cartItems:t,totalAmount:e,totalQuantity:n}=De(l=>l.cart),{isUserLoggedIn:r}=De(l=>l.auth),i=vn();//! increase cart item Qty
const s=l=>{i(pf(l))};//! Decrease Cart Item Qty
const o=l=>{i(Uk(l))};//! Remove Single Item
const a=l=>{i(JD(l))};return C.exports.useEffect(()=>{i(jk()),i(Vh())},[i,t]),S("main",{className:"w-full",children:[p(jf,{type:"Cart"}),p("section",{className:"w-full mx-auto p-4 md:p-10 lg:w-9/12 md:px-6 flex flex-col h-full",children:t.length?S("div",{children:[p("h1",{className:"text-3xl font-semibold mb-4",children:"Shopping Cart"}),S("article",{className:"flex flex-col xl:flex-row justify-between gap-y-10 gap-x-5",children:[p("div",{className:"overflow-x-auto w-full flex-1",children:S("table",{className:"table table-zebra w-full ",children:[p("thead",{children:S("tr",{children:[p("th",{className:"text-sm md:text-lg",children:"Item"}),p("th",{className:"text-sm md:text-lg",children:"Actions"})]})}),p("tbody",{children:t.map((l,c)=>{const{imageURL:u,name:h,price:d,qty:f,id:m}=l;return S("tr",{children:[S("td",{className:"flex gap-x-2 ",children:[p(_e,{to:`/product-details/${m}`,className:"flex items-center",children:p(ts.exports.LazyLoadImage,{src:u||"https://storage.googleapis.com/proudcity/mebanenc/uploads/2021/03/placeholder-image.png",alt:h,className:"w-24 object-fill",placeholderSrc:"https://www.slntechnologies.com/wp-content/uploads/2017/08/ef3-placeholder-image.jpg",effect:"blur"})}),S("div",{children:[p(_e,{to:`/product-details/${m}`,children:p("h1",{className:" md:text-lg",children:h})}),p("p",{className:"font-light md:text-lg",children:Dt(d)}),p("p",{children:"Qty: "}),S("div",{className:"btn-group items-center mb-2",children:[p("button",{className:"btn btn-xs btn-outline",onClick:()=>o(l),children:"-"}),p("button",{className:"btn btn-xs btn-ghost disabled",children:f}),p("button",{className:"btn btn-xs btn-outline",onClick:()=>s(l),children:"+"})]}),S("p",{className:"font-light",children:["Total:",p("span",{className:" text-lg text-primary",children:Dt(d*f)})]})]})]}),p("td",{children:p(SI,{size:24,color:"red",onClick:()=>a(l)})})]},c)})})]})}),S("div",{className:"w-88 md:w-96 h-56 shadow-lg rounded-sm p-2 flex flex-col gap-3 ",children:[p(_e,{to:"/all",className:"link italic text-gray-400",children:"\u2190 Continue Shopping"}),S("p",{children:["Cart items : ",p("span",{className:"font-light",children:n})," "]}),S("div",{className:"flex items-center justify-between",children:[p("h2",{className:"text-xl font-semibold",children:"Subtotal"}),p("p",{className:"text-primary text-2xl",children:Dt(e)})]}),p("p",{className:"text-gray-400",children:"Tax and Shipping calculated at checkout"}),r?p(_e,{to:"/checkout-details",className:"btn btn-primary w-full",children:"Checkout"}):p("label",{htmlFor:"my-modal-4",className:"modal-button btn btn-primary w-full",children:"Login To Checkout"})]})]})]}):S("div",{className:"w-full mx-auto h-max flex flex-col items-center justify-center ",children:[p("img",{src:HH,alt:"empty-Cart"}),S("h1",{className:"mt-4 text-xl",children:["Looks like you have not added anything to your cart"," "]}),p("br",{}),p(_e,{to:"/all",className:"link link-primary",children:"Click here to Explore more"})]})})]})},qH=()=>{const{data:t,isLoading:e}=io("orders"),{orderHistory:n}=De(o=>o.order),{userId:r}=De(o=>o.auth),i=vn();Wn(),C.exports.useEffect(()=>{i(Uv(t))},[i,t]);const s=n.filter(o=>o.userId===r);return S(Me,{children:[e&&p(Kn,{}),p(h1,{text:"My Orders"}),p("main",{className:"w-full mx-auto px-2 lg:w-9/12 md:px-6 mt-6 ",children:p(TI,{orders:s,user:!0,admin:!1})})]})},KH=()=>{const[t,e]=C.exports.useState(""),[n,r]=C.exports.useState(!1),[i,s]=C.exports.useState("");return S(Me,{children:[n&&p(Kn,{}),p("main",{className:"w-full page flex items-center justify-center",children:S("div",{className:"w-96 h-auto shadow-xl rounded-md px-4 py-6",children:[p("h1",{className:"text-2xl font-bold text-center ",children:"RESET PASSWORD"}),i&&p("h1",{className:"alert shadow-lg text-gray-700 border-l-4 border-error my-4",children:i}),p("div",{className:"alert shadow-lg text-gray-700 border-l-4 border-primary my-4",children:"Please enter your registered Email address. You will receive an email message with instructions on how to reset your password"}),S("form",{className:"form-control",onSubmit:a=>{a.preventDefault(),r(!0),OF(Os,t).then(()=>{X.info("Check email for reset link"),s("Check your Registered email address for reset link *(Check Spam)*"),r(!1),e("")}).catch(l=>{const c=l.code,u=l.message;s(`${c} : ${u}`),r(!1)})},children:[p("label",{className:"label-text font-bold mb-2 block",children:"Email Address"}),p("input",{type:"email",className:"input input-bordered input-secondary w-full",value:t,onChange:a=>e(a.target.value)}),p("button",{type:"submit",className:"btn mt-3",children:"Get new Password"})]})]})})]})},GH=()=>p(Me,{children:S("div",{className:"lg:px-24 lg:py-24 md:py-20 md:px-44 px-4 py-24 items-center flex justify-center flex-col-reverse lg:flex-row md:gap-28 gap-16",children:[p("div",{className:"xl:pt-24 w-full xl:w-1/2 relative pb-12 lg:pb-0",children:S("div",{className:"relative",children:[p("div",{className:"absolute",children:S("div",{className:"",children:[p("h1",{className:"my-2 text-gray-800 font-bold text-2xl",children:"Looks like you've found the doorway to the great nothing"}),p("p",{className:"my-2 text-gray-800",children:"Sorry about that! Please visit our hompage to get where you need to go."}),p(_e,{to:"/",children:p("button",{className:"btn btn-primary animate__animated animate__jello animate__infinite",children:"Take me there"})})]})}),p("div",{children:p("img",{src:"https://i.ibb.co/G9DC8S0/404-2.png"})})]})}),p("div",{children:p("img",{src:"https://i.ibb.co/ck1SGFJ/Group.png",className:"animate__animated animate__wobble animate__infinite"})})]})}),YH=()=>{const{data:t,isLoading:e}=io("products"),n=vn();C.exports.useEffect(()=>{n(jv({products:t})),n(NI({products:t}))},[n,t]);const{products:r}=De(i=>i.product);return S(Me,{children:[e&&p(Kn,{}),S("main",{className:"w-full",children:[p(jf,{}),S("section",{className:"w-full mx-auto p-4 md:p-10 lg:w-9/12 md:px-6 flex h-full",children:[p("aside",{className:"hidden sm:block sm:w-64 mx-2 ",children:p(xI,{})}),p("article",{className:"flex-1",children:p(kB,{products:r})})]})]})]})};function QH(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Phone"},child:[{tag:"path",attr:{d:"M14.436,20.938A11.384,11.384,0,0,1,4.572,3.9a1.668,1.668,0,0,1,1.241-.822,1.716,1.716,0,0,1,1.454.492l3.139,3.14a1.715,1.715,0,0,1,0,2.427l-.295.3a1.937,1.937,0,0,0,0,2.736l1.72,1.721a1.983,1.983,0,0,0,2.736,0l.29-.29a1.719,1.719,0,0,1,2.428,0l3.139,3.139a1.724,1.724,0,0,1,.492,1.455,1.669,1.669,0,0,1-.822,1.239A11.327,11.327,0,0,1,14.436,20.938ZM6.042,4.063a.793.793,0,0,0-.1.006.673.673,0,0,0-.5.331A10.375,10.375,0,0,0,19.594,18.567a.674.674,0,0,0,.331-.5.734.734,0,0,0-.208-.618l-3.139-3.139a.717.717,0,0,0-1.014,0l-.29.29a3.006,3.006,0,0,1-4.15,0L9.4,12.876a2.939,2.939,0,0,1,0-4.149l.3-.3a.717.717,0,0,0,0-1.014L6.56,4.277A.729.729,0,0,0,6.042,4.063Z"}}]}]})(t)}const XH=()=>{const t=C.exports.useRef(),[e,n]=C.exports.useState(!1);return S(Me,{children:[p(h1,{text:"Contact Us"}),S("main",{className:"w-full mx-auto px-2 lg:w-9/12 md:px-6 mt-4 lg:mt-6 flex flex-col md:flex-row justify-between gap-10",children:[S("section",{className:"w-full md:w-[30rem] bg-primary-content rounded-md p-6 h-72",children:[S("div",{className:"mb-10",children:[p("h1",{className:"text-xl md:text-3xl mb-2",children:"Contact Information"}),p("p",{className:"md:text-lg",children:"Fill the form or contact us via other channels"})]}),S("div",{children:[S("div",{className:"flex items-center gap-2 my-2 md:text-xl",children:[p(NH,{}),p("a",{href:"mailto: Support@eshop.com?subject=Feedback&body=message",children:"shaazhusain511@gmail.com"})]}),S("div",{className:"flex items-center gap-2  my-2 md:text-xl",children:[p(QH,{}),p("a",{href:"tel:+91-123-12345",children:"+91-88005 81051"})]}),S("div",{className:"flex items-center gap-2 md:text-xl  my-2",children:[p(Hx,{}),p("a",{href:"https://www.instagram.com/__its_shaaz19?utm_source=qr&igsh=bXg4czlqbGJsMGUy",rel:"noreferrer",target:"_blank",children:"__its_shaaz19"})]}),S("div",{className:"flex items-center gap-2 md:text-xl  my-2",children:[p(Hx,{}),p("a",{href:"https://www.instagram.com/_itz_ayub?utm_source=qr&igsh=dmY5NTJlbzM4bWox",rel:"noreferrer",target:"_blank",children:"_itz_ayub"})]})]})]}),S("section",{className:"w-full md:w-2/3 rounded-md shadow-lg border-2 p-6",children:[p("h1",{className:"text-xl md:text-3xl",children:"Contact Us"}),S("form",{className:"form-control",onSubmit:async i=>{i.preventDefault(),n(!0);try{const s=new FormData(t.current),o=s.get("username"),a=s.get("email"),l=s.get("subject"),c=s.get("message");await Uf(Vc(Nr,"contactForms"),{name:o,email:a,subject:l,message:c,timestamp:We.now()}),X.success("Feedback Recorded. We will contact you shortly"),t.current.reset()}catch(s){console.error("Error adding document: ",s),X.error("Something went wrong. Please try again later")}n(!1)},ref:t,children:[S("div",{className:"py-2",children:[p("label",{className:"label-text md:font-semibold mb-2 block text-lg",children:"Name :"}),p("input",{className:"input input-bordered max-w-lg w-full border-2",type:"text",placeholder:"Full Name",required:!0,name:"username"})]}),S("div",{className:"py-2",children:[p("label",{className:"label-text md:font-semibold mb-2 block text-lg",children:"Email :"}),p("input",{className:"input input-bordered max-w-lg w-full border-2",type:"email",placeholder:"Active Email",required:!0,name:"email"})]}),S("div",{className:"py-2",children:[p("label",{className:"label-text md:font-semibold mb-2 block text-lg",children:"Subject :"}),p("input",{className:"input input-bordered max-w-lg w-full border-2",type:"text",placeholder:"Subject",required:!0,name:"subject"})]}),S("div",{className:"py-2",children:[p("label",{className:"label-text md:font-semibold mb-2 block text-lg",children:"Message :"}),p("textarea",{className:"textarea textarea-bordered max-w-[100%] w-full",rows:5,required:!0,name:"message"})]}),p("button",{className:"btn max-w-xs w-full",type:"submit",children:"Send Message"})]})]})]})]})},JH={shippingAddress:{},billingAddress:{}},FN=da({name:"checkout",initialState:JH,reducers:{saveShippingAddress:(t,e)=>{t.shippingAddress=e.payload},saveBillingAddress:(t,e)=>{t.billingAddress=e.payload}}}),{saveShippingAddress:ZH,saveBillingAddress:e9}=FN.actions,t9=FN.reducer,qx={name:"",line1:"",line2:"",city:"",pin_code:"",country:"",phone:"",productName:"",productBrand:""},n9=()=>{const[t,e]=C.exports.useState(qx),n=vn(),r=Wn();function i(a){const{name:l,value:c}=a.target;e({...t,[l]:c})}async function s(a){a.preventDefault();try{const l=await Uf(Vc(Nr,"shipping_addresses"),t);console.log("Shipping address written with ID: ",l.id),n(ZH(t)),n(e9(t)),r("/checkout"),e(qx)}catch(l){console.error("Error adding document: ",l)}}const o=Boolean(t.name)&&Boolean(t.line1)&&Boolean(t.line2)&&Boolean(t.city)&&Boolean(t.country)&&Boolean(t.pin_code)&&Boolean(t.phone)&&Boolean(t.productName)&&Boolean(t.productBrand);return S("main",{className:"w-full",children:[p(jf,{type:"cart",checkout:"Checkout-Details"}),p("section",{className:"w-full mx-auto p-4 lg:p-10 lg:w-9/12 md:px-6 flex flex-col h-full",children:S("article",{className:"flex flex-col-reverse md:flex-row gap-4",children:[S("div",{className:"flex-1 p-4 rounded-md shadow-lg",children:[p("h1",{className:"text-3xl font-light",children:"Shipping Address"}),S("form",{onSubmit:s,className:"form-control mt-2",children:[S("div",{className:"mt-2",children:[p("label",{className:"label-text mb-2 block text-lg",children:"Recipient Name :"}),p("input",{className:"input input-sm text-lg input-bordered max-w-md w-full",type:"text",name:"name",value:t.name,onChange:i,required:!0})]}),S("div",{className:"mt-2",children:[p("label",{className:"label-text mb-2 block text-lg",children:"Product Name :"}),p("input",{className:"input input-sm text-lg input-bordered max-w-md w-full",type:"text",name:"productName",value:t.productName,onChange:i,required:!0})]}),S("div",{className:"mt-2",children:[p("label",{className:"label-text mb-2 block text-lg",children:"Product Brand :"}),p("input",{className:"input input-sm text-lg input-bordered max-w-md w-full",type:"text",name:"productBrand",value:t.productBrand,onChange:i,required:!0})]}),S("div",{className:"mt-2",children:[p("label",{className:"label-text mb-2 block text-lg",children:"Address Line 1 :"}),p("input",{className:"input input-sm text-lg input-bordered max-w-md w-full",type:"text",name:"line1",value:t.line1,onChange:i,required:!0})]}),S("div",{className:"mt-2",children:[p("label",{className:"label-text mb-2 block text-lg",children:"Address Line 2 :"}),p("input",{className:"input input-sm text-lg input-bordered max-w-md w-full",type:"text",name:"line2",value:t.line2,onChange:i,required:!0})]}),S("div",{className:"mt-2",children:[p("label",{className:"label-text mb-2 block text-lg",children:"City:"}),p("input",{className:"input input-sm text-lg input-bordered max-w-md w-full",type:"text",name:"city",value:t.city,onChange:i,required:!0})]}),S("div",{className:"mt-2",children:[p("label",{className:"label-text mb-2 block text-lg",children:"Pin Code:"}),p("input",{className:"input input-sm text-lg input-bordered max-w-md w-full",type:"text",name:"pin_code",value:t.pin_code,onChange:i,required:!0})]}),S("div",{className:"mt-2",children:[p("label",{className:"label-text mb-2 block text-lg",children:"Country:"}),p("input",{className:"input input-sm text-lg input-bordered max-w-md w-full",type:"text",name:"country",value:t.country,onChange:i,required:!0})]}),S("div",{className:"mt-2 mb-4",children:[p("label",{className:"label-text mb-2 block text-lg",children:"Phone:"}),p("input",{className:"input input-sm text-lg input-bordered max-w-md w-full",type:"text",name:"phone",value:t.phone,onChange:i,required:!0})]}),p("button",{type:"submit",className:"btn btn-primary max-w-sm w-full",disabled:!o,children:"Proceed To Checkout"})]})]}),p("div",{className:"w-full md:w-2/5 h-max p-4 bg-base-100 rounded-md shadow-xl",children:p(TH,{})})]})})]})},r9=()=>p(Me,{children:S("div",{className:"lg:px-24 lg:py-24 md:py-20 md:px-44 px-4 py-24 items-center flex justify-center flex-col-reverse lg:flex-row md:gap-28 gap-16",children:[p("div",{className:"xl:pt-24 w-full xl:w-1/2 relative pb-12 lg:pb-0",children:S("div",{className:"relative",children:[p("div",{className:"absolute",children:S("div",{className:"",children:[p("h1",{className:"my-4 text-gray-800 font-bold text-4xl",children:"Hurry! Your order is done."}),p("p",{className:"my-2 text-gray-800 text-lg",children:"Don't worry, we provide cash on delivery. You pay when you're satisfied with our product."}),p(_e,{to:"/",children:p("button",{className:"btn btn-primary animate__animated animate__jello animate__infinite",children:"Take me there"})})]})}),p("div",{children:p("img",{src:"https://i.gifer.com/6ob.gif"})})]})}),p("div",{children:S("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"200",height:"200",className:"animate__animated animate__wobble animate__swing animate__infinite",children:[p("circle",{cx:"256",cy:"256",r:"256",fill:"#4caf50"}),p("path",{fill:"#fff",d:"M387.435 157.61l-22.297-22.297c-5.858-5.858-15.355-5.858-21.213 0L222.5 268.286l-74.242-74.243c-5.858-5.858-15.355-5.858-21.213 0l-22.297 22.297c-5.858 5.858-5.858 15.355 0 21.213l96.157 96.157c5.858 5.858 15.355 5.858 21.213 0l185.786-185.786c5.857-5.858 5.857-15.355-.001-21.213zM256 490.286c-124.617 0-226.286-101.669-226.286-226.286S131.383 37.714 256 37.714 482.286 139.383 482.286 264 380.617 490.286 256 490.286z"})]})})]})}),i9=()=>p("section",{className:"flex items-center justify-center w-full h-[80vh]",children:S("div",{className:"rounded-md shadow-lg p-10 bg-base-100 flex flex-col items-center w-[30rem] gap-5",children:[p(EB,{size:60,color:"#516ff9"}),p("h1",{className:"text-4xl font-semibold text-center",children:"Hooray! Your order was confirmed"}),p("p",{className:"font-light text-gray-600 text-lg",children:"Thank you for shopping with us. "}),p(_e,{to:"/my-orders",className:"btn btn-primary btn-lg mt-5 ",children:"View Order Status"})]})}),s9=()=>{const[t,e]=C.exports.useState(null),{id:n}=_c(),{document:r}=kI("orders",n);return C.exports.useEffect(()=>{e(r)},[r]),console.log(t),p(Me,{children:t===null?p(Kn,{}):p("div",{className:"w-full mx-auto px-2 lg:w-9/12 md:px-6 mt-6 ",children:p(CI,{order:t,user:!0,admin:!1})})})},o9=()=>{const[t,e]=C.exports.useState(0),[n,r]=C.exports.useState(""),i=Wn(),{id:s}=_c(),{products:o}=De(h=>h.product),{userId:a,userName:l}=De(h=>h.auth);//! find the the matching product from the productsSlice
const c=o.find(h=>h.id===s);function u(h){h.preventDefault();const d=new Date().toDateString(),f=new Date().toLocaleTimeString(),m={userId:a,userName:l,productId:s,review:n,rating:t,reviewDate:d,reviewTime:f,createdAt:We.now().toDate()};try{Uf(Vc(Nr,"reviews"),m),X.success("Thanks for Sharing your feedback"),e(0),r(""),i(`/product-details/${s}`)}catch(y){X.error(y.message)}}return S(Me,{children:[p(h1,{text:"Review"}),c===null?p("h1",{className:"text-2xl font-bold",children:" No product Found "}):p("main",{className:"w-full mx-auto px-2 md:w-9/12 md:px-6 mt-6 ",children:S("section",{className:"flex justify-evenly items-center flex-col lg:flex-row p-6",children:[p("div",{className:"",children:S("div",{className:"flex flex-col gap-5",children:[p("h1",{className:"font-light text-primary text-xl",children:c.name}),S("div",{className:"flex gap-4 items-center",children:[p(ts.exports.LazyLoadImage,{src:c.imageURL,alt:"image",className:"w-10 sm:w-32 object-fill",placeholderSrc:"https://www.slntechnologies.com/wp-content/uploads/2017/08/ef3-placeholder-image.jpg",effect:"blur"}),S("div",{children:[p("p",{className:"font-semibold",children:c.brand}),p("p",{className:"font-semibold",children:Dt(c.price)})]})]})]})}),S("form",{onSubmit:u,className:"p-4 w-full md:w-[30rem] rounded-md shadow-lg flex flex-col",children:[p("h1",{className:"font-semibold",children:"Rating : "}),p(S2,{value:t,onChange:h=>{e(h)}}),p("textarea",{className:"textarea textarea-secondary mt-2 max-w-[100%] w-full",placeholder:"Review",rows:10,value:n,onChange:h=>r(h.target.value)}),p("button",{type:"submit",className:"btn btn-primary mt-3",children:"Submit review"})]})]})})]})},a9=()=>S(Me,{children:[p(p0,{position:"bottom-right",autoClose:4e3,closeOnClick:!0}),p(FH,{}),S(ck,{children:[p(ut,{path:"/",element:p(jH,{})}),p(ut,{path:"/my-orders",element:p(Wx,{children:p(qH,{})})}),p(ut,{path:"/order-details/:id",element:p(s9,{})}),p(ut,{path:"/review-product/:id",element:p(Wx,{children:p(o9,{})})}),p(ut,{path:"/reset",element:p(KH,{})}),p(ut,{path:"/contact",element:p(XH,{})}),p(ut,{path:"/all",element:p(YH,{})}),p(ut,{path:"/product-details/:id",element:p(fB,{})}),p(ut,{path:"/cart",element:p(WH,{})}),p(ut,{path:"/checkout-details",element:p(n9,{})}),p(ut,{path:"/checkout",element:p(r9,{})}),p(ut,{path:"/checkout-success",element:p(i9,{})}),p(ut,{path:"/admin/*",element:p(KB,{children:p(VH,{})})}),p(ut,{path:"/*",element:p(GH,{})})]}),p(AH,{})]});const l9=KD({reducer:{auth:$H,product:WB,filter:wB,cart:ZD,checkout:t9,order:DB},middleware:t=>t({serializableCheck:!1})});_m.createRoot(document.getElementById("root")).render(p(vD,{store:l9,children:p(hA,{children:p(a9,{})})}));
